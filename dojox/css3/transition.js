//>>built
define("dojox/css3/transition",["dojo/_base/lang","dojo/_base/array","dojo/Deferred","dojo/when","dojo/promise/all","dojo/on","dojo/sniff"],function(e,t,r,i,a,n,o){var s="transitionend",d="t",l="translate3d(",u=",0,0)";o("webkit")?(d="WebkitT",s="webkitTransitionEnd"):o("mozilla")&&(d="MozT",l="translateX(",u=")");var c=function(t){var i={startState:{},endState:{},node:null,duration:250,in:!0,direction:1,autoClear:!0};e.mixin(this,i),e.mixin(this,t),this.deferred||(this.deferred=new r)};e.extend(c,{play:function(){c.groupedPlay([this])},_applyState:function(e){var t=this.node.style;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},initState:function(){this.node.style[d+"ransitionProperty"]="none",this.node.style[d+"ransitionDuration"]="0ms",this._applyState(this.startState)},_beforeStart:function(){"none"===this.node.style.display&&(this.node.style.display=""),this.beforeStart()},_beforeClear:function(){this.node.style[d+"ransitionProperty"]="",this.node.style[d+"ransitionDuration"]="",!0!==this.in&&(this.node.style.display="none"),this.beforeClear()},_onAfterEnd:function(){this.deferred.resolve(this.node),this.node.id&&c.playing[this.node.id]===this.deferred&&delete c.playing[this.node.id],this.onAfterEnd()},beforeStart:function(){},beforeClear:function(){},onAfterEnd:function(){},start:function(){this._beforeStart(),this._startTime=(new Date).getTime(),this._cleared=!1;var e=this;e.node.style[d+"ransitionProperty"]="all",e.node.style[d+"ransitionDuration"]=e.duration+"ms",n.once(e.node,s,function(){e.clear()}),this._applyState(this.endState)},clear:function(){this._cleared||(this._cleared=!0,this._beforeClear(),this._removeState(this.endState),this._onAfterEnd())},_removeState:function(e){var t=this.node.style;for(var r in e)e.hasOwnProperty(r)&&(t[r]="")}}),c.slide=function(e,t){var r=new c(t);r.node=e;var i="0",a="0";return r.in?i=1===r.direction?"100%":"-100%":a=1===r.direction?"-100%":"100%",r.startState[d+"ransform"]=l+i+u,r.endState[d+"ransform"]=l+a+u,r},c.fade=function(t,r){var i=new c(r);i.node=t;var a="0",n="0";return i.in?n="1":a="1",e.mixin(i,{startState:{opacity:a},endState:{opacity:n}}),i},c.flip=function(t,r){var i=new c(r);return i.node=t,i.in?(e.mixin(i,{startState:{opacity:"0"},endState:{opacity:"1"}}),i.startState[d+"ransform"]="scale(0,0.8) skew(0,-30deg)",i.endState[d+"ransform"]="scale(1,1) skew(0,0)"):(e.mixin(i,{startState:{opacity:"1"},endState:{opacity:"0"}}),i.startState[d+"ransform"]="scale(1,1) skew(0,0)",i.endState[d+"ransform"]="scale(0,0.8) skew(0,30deg)"),i};var f=function(e){var r=[];return t.forEach(e,function(e){e.id&&c.playing[e.id]&&r.push(c.playing[e.id])}),a(r)};return c.getWaitingList=f,c.groupedPlay=function(e){var r=t.filter(e,function(e){return e.node}),a=f(r);t.forEach(e,function(e){e.node.id&&(c.playing[e.node.id]=e.deferred)}),i(a,function(){t.forEach(e,function(e){e.initState()}),setTimeout(function(){t.forEach(e,function(e){e.start()}),n.once(e[e.length-1].node,s,function(){for(var t=0;t<e.length-1;t++)0===e[t].deferred.fired||e[t]._cleared||(new Date).getTime()-e[t]._startTime>=e[t].duration&&e[t].clear()}),setTimeout(function(){for(var t=0;t<e.length;t++)0===e[t].deferred.fired||e[t]._cleared||(new Date).getTime()-e[t]._startTime>=e[t].duration&&e[t].clear()},e[0].duration+50)},33)})},c.chainedPlay=function(r){var a=t.filter(r,function(e){return e.node}),n=f(a);t.forEach(r,function(e){e.node.id&&(c.playing[e.node.id]=e.deferred)}),i(n,function(){t.forEach(r,function(e){e.initState()});for(var i=1,a=r.length;i<a;i++)r[i-1].deferred.then(e.hitch(r[i],function(){this.start()}));setTimeout(function(){r[0].start()},33)})},c.playing={},c});//# sourceMappingURL=transition.js.map