//>>built
define("dojox/mobile/Heading",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dijit/registry","./common","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","./ProgressIndicator","./ToolBarButton","./View","dojo/has","dojo/has!dojo-bidi?dojox/mobile/bidi/Heading"],function(e,t,i,a,n,o,r,s,l,d,c,u,h,m,f,p,g,v,y){var b=(a.getObject("dojox.mobile",!0),i(v("dojo-bidi")?"dojox.mobile.NonBidiHeading":"dojox.mobile.Heading",[m,h,u],{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",tag:"h1",busy:!1,progStyle:"mblProgWhite",baseClass:"mblHeading",buildRendering:function(){this.templateString||(this.domNode=this.containerNode=this.srcNodeRef||n.doc.createElement(this.tag)),this.inherited(arguments),this.templateString||(this.label||e.forEach(this.domNode.childNodes,function(e){if(3==e.nodeType){var t=a.trim(e.nodeValue);t&&(this.label=t,this.labelNode=r.create("span",{innerHTML:t},e,"replace"))}},this),this.labelNode||(this.labelNode=r.create("span",null,this.domNode)),this.labelNode.className="mblHeadingSpanTitle",this.labelDivNode=r.create("div",{className:"mblHeadingDivTitle",innerHTML:this.labelNode.innerHTML},this.domNode)),this.labelDivNode&&(l.set(this.labelDivNode,"role","heading"),l.set(this.labelDivNode,"aria-level","1")),c.setSelectable(this.domNode,!1)},startup:function(){if(!this._started){var e=this.getParent&&this.getParent();if(!e||!e.resize){var t=this;t.defer(function(){t.resize()})}this.inherited(arguments)}},resize:function(){if(this.labelNode){for(var t,i,a=this.containerNode.childNodes,n=a.length-1;n>=0;n--){var r=a[n];1===r.nodeType&&"none"!==s.get(r,"display")&&(i||"right"!==s.get(r,"float")||(i=r),t||"left"!==s.get(r,"float")||(t=r))}!this.labelNodeLen&&this.label&&(this.labelNode.style.display="inline",this.labelNodeLen=this.labelNode.offsetWidth,this.labelNode.style.display="");var l=this.domNode.offsetWidth,d=i?l-i.offsetLeft+5:0,c=t?t.offsetLeft+t.offsetWidth+5:0,u=this.labelNodeLen||0;o[l-2*Math.max(d,c)>u?"add":"remove"](this.domNode,"mblHeadingCenterTitle")}e.forEach(this.getChildren(),function(e){e.resize&&e.resize()})},_setBackAttr:function(e){this._set("back",e),this.backButton?this.backButton.set("label",e):(this.backButton=new p({arrow:"left",label:e,moveTo:this.moveTo,back:!this.moveTo&&!this.href,href:this.href,transition:this.transition,transitionDir:-1,dir:this.isLeftToRight()?"ltr":"rtl"}),this.backButton.placeAt(this.domNode,"first")),this.resize()},_setMoveToAttr:function(e){this._set("moveTo",e),this.backButton&&(this.backButton.set("moveTo",e),this.backButton.set("back",!e&&!this.href))},_setHrefAttr:function(e){this._set("href",e),this.backButton&&(this.backButton.set("href",e),this.backButton.set("back",!this.moveTo&&!e))},_setTransitionAttr:function(e){this._set("transition",e),this.backButton&&this.backButton.set("transition",e)},_setLabelAttr:function(e){this._set("label",e),this.labelNode.innerHTML=this.labelDivNode.innerHTML=this._cv?this._cv(e):e,delete this.labelNodeLen},_setBusyAttr:function(e){var t=this._prog;e?(t||(t=this._prog=new f({size:30,center:!1}),o.add(t.domNode,this.progStyle)),r.place(t.domNode,this.domNode,"first"),t.start()):t&&t.stop(),this._set("busy",e)}}));return v("dojo-bidi")?i("dojox.mobile.Heading",[b,y]):b});//# sourceMappingURL=Heading.js.map