//>>built
define("dojox/mobile/_maskUtils",["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,i){i.add("mask-image-css",function(e,t,i){return"function"==typeof t.getCSSCanvasContext&&"undefined"!=typeof i.style.webkitMaskImage}),i.add("mask-image",function(){return i("mask-image-css")||i("svg")});var a={};return{createRoundMask:function(n,r,o,s,l,d,h,u,c,m){var f=r+d+s,p=o+h+l;if(i("mask-image-css")){var g=("DojoMobileMask"+r+o+d+h+u+c).replace(/\./g,"_");if(!a[g]){a[g]=1;var v=e.doc.getCSSCanvasContext("2d",g,f,p);if(v.beginPath(),u==c)2==u&&5==d?(v.fillStyle="rgba(0,0,0,0.5)",v.fillRect(1,0,3,2),v.fillRect(0,1,5,1),v.fillRect(0,h-2,5,1),v.fillRect(1,h-1,3,2),v.fillStyle="rgb(0,0,0)",v.fillRect(0,2,5,h-4)):2==u&&5==h?(v.fillStyle="rgba(0,0,0,0.5)",v.fillRect(0,1,2,3),v.fillRect(1,0,1,5),v.fillRect(d-2,0,1,5),v.fillRect(d-1,1,2,3),v.fillStyle="rgb(0,0,0)",v.fillRect(2,0,d-4,5)):(v.fillStyle="#000000",v.moveTo(r+u,o),v.arcTo(r,o,r,o+u,u),v.lineTo(r,o+h-u),v.arcTo(r,o+h,r+u,o+h,u),v.lineTo(r+d-u,o+h),v.arcTo(r+d,o+h,r+d,o+u,u),v.lineTo(r+d,o+u),v.arcTo(r+d,o,r+d-u,o,u));else{var y=Math.PI;v.scale(1,c/u),v.moveTo(r+u,o),v.arc(r+u,o+u,u,1.5*y,.5*y,!0),v.lineTo(r+d-u,o+2*u),v.arc(r+d-u,o+u,u,.5*y,1.5*y,!0)}v.closePath(),v.fill()}n.style.webkitMaskImage="-webkit-canvas("+g+")"}else if(i("svg")){n._svgMask&&n.removeChild(n._svgMask);for(var k=null,b=n.parentNode;b&&(k=t.getComputedStyle(b).backgroundColor,!k||"transparent"==k||k.match(/rgba\(.*,\s*0\s*\)/));b=b.parentNode);var _="http://www.w3.org/2000/svg",x=e.doc.createElementNS(_,"svg");x.setAttribute("width",f),x.setAttribute("height",p),x.style.position="absolute",x.style.pointerEvents="none",x.style.opacity="1",x.style.zIndex="2147483647";var w=e.doc.createElementNS(_,"path");m=m||0,u+=m,c+=m;var M=" M"+(r+u-m)+","+(o-m)+" a"+u+","+c+" 0 0,0 "+-u+","+c+" v"+-c+" h"+u+" Z M"+(r-m)+","+(o+h-c+m)+" a"+u+","+c+" 0 0,0 "+u+","+c+" h"+-u+" v"+-c+" z M"+(r+d-u+m)+","+(o+h+m)+" a"+u+","+c+" 0 0,0 "+u+","+-c+" v"+c+" h"+-u+" z M"+(r+d+m)+","+(o+c-m)+" a"+u+","+c+" 0 0,0 "+-u+","+-c+" h"+u+" v"+c+" z";o>0&&(M+=" M0,0 h"+f+" v"+o+" h"+-f+" z"),l>0&&(M+=" M0,"+(o+h)+" h"+f+" v"+l+" h"+-f+" z"),w.setAttribute("d",M),w.setAttribute("fill",k),w.setAttribute("stroke",k),w.style.opacity="1",x.appendChild(w),n._svgMask=x,n.appendChild(x)}}}});//# sourceMappingURL=_maskUtils.js.map