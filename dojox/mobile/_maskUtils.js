//>>built
define("dojox/mobile/_maskUtils",["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,i){i.add("mask-image-css",function(e,t,i){return"function"==typeof t.getCSSCanvasContext&&void 0!==i.style.webkitMaskImage}),i.add("mask-image",function(){return i("mask-image-css")||i("svg")});var a={};return{createRoundMask:function(o,r,n,s,d,l,h,c,u,m){var f=r+l+s,g=n+h+d;if(i("mask-image-css")){var p=("DojoMobileMask"+r+n+l+h+c+u).replace(/\./g,"_");if(!a[p]){a[p]=1;var y=e.doc.getCSSCanvasContext("2d",p,f,g);if(y.beginPath(),c==u)2==c&&5==l?(y.fillStyle="rgba(0,0,0,0.5)",y.fillRect(1,0,3,2),y.fillRect(0,1,5,1),y.fillRect(0,h-2,5,1),y.fillRect(1,h-1,3,2),y.fillStyle="rgb(0,0,0)",y.fillRect(0,2,5,h-4)):2==c&&5==h?(y.fillStyle="rgba(0,0,0,0.5)",y.fillRect(0,1,2,3),y.fillRect(1,0,1,5),y.fillRect(l-2,0,1,5),y.fillRect(l-1,1,2,3),y.fillStyle="rgb(0,0,0)",y.fillRect(2,0,l-4,5)):(y.fillStyle="#000000",y.moveTo(r+c,n),y.arcTo(r,n,r,n+c,c),y.lineTo(r,n+h-c),y.arcTo(r,n+h,r+c,n+h,c),y.lineTo(r+l-c,n+h),y.arcTo(r+l,n+h,r+l,n+c,c),y.lineTo(r+l,n+c),y.arcTo(r+l,n,r+l-c,n,c));else{var v=Math.PI;y.scale(1,u/c),y.moveTo(r+c,n),y.arc(r+c,n+c,c,1.5*v,.5*v,!0),y.lineTo(r+l-c,n+2*c),y.arc(r+l-c,n+c,c,.5*v,1.5*v,!0)}y.closePath(),y.fill()}o.style.webkitMaskImage="-webkit-canvas("+p+")"}else if(i("svg")){o._svgMask&&o.removeChild(o._svgMask);for(var b=null,M=o.parentNode;M&&(!(b=t.getComputedStyle(M).backgroundColor)||"transparent"==b||b.match(/rgba\(.*,\s*0\s*\)/));M=M.parentNode);var _="http://www.w3.org/2000/svg",x=e.doc.createElementNS(_,"svg");x.setAttribute("width",f),x.setAttribute("height",g),x.style.position="absolute",x.style.pointerEvents="none",x.style.opacity="1",x.style.zIndex="2147483647";var j=e.doc.createElementNS(_,"path");m=m||0,c+=m,u+=m;var w=" M"+(r+c-m)+","+(n-m)+" a"+c+","+u+" 0 0,0 "+-c+","+u+" v"+-u+" h"+c+" Z M"+(r-m)+","+(n+h-u+m)+" a"+c+","+u+" 0 0,0 "+c+","+u+" h"+-c+" v"+-u+" z M"+(r+l-c+m)+","+(n+h+m)+" a"+c+","+u+" 0 0,0 "+c+","+-u+" v"+u+" h"+-c+" z M"+(r+l+m)+","+(n+u-m)+" a"+c+","+u+" 0 0,0 "+-c+","+-u+" h"+c+" v"+u+" z";n>0&&(w+=" M0,0 h"+f+" v"+n+" h"+-f+" z"),d>0&&(w+=" M0,"+(n+h)+" h"+f+" v"+d+" h"+-f+" z"),j.setAttribute("d",w),j.setAttribute("fill",b),j.setAttribute("stroke",b),j.style.opacity="1",x.appendChild(j),o._svgMask=x,o.appendChild(x)}}}});//# sourceMappingURL=_maskUtils.js.map