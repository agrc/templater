//>>built
define("dojox/mobile/_maskUtils",["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,i){i.add("mask-image-css",function(e,t,i){return"function"==typeof t.getCSSCanvasContext&&void 0!==i.style.webkitMaskImage}),i.add("mask-image",function(){return i("mask-image-css")||i("svg")});var a={};return{createRoundMask:function(r,o,n,s,l,d,c,u,h,m){var f=o+d+s,p=n+c+l;if(i("mask-image-css")){var g=("DojoMobileMask"+o+n+d+c+u+h).replace(/\./g,"_");if(!a[g]){a[g]=1;var y=e.doc.getCSSCanvasContext("2d",g,f,p);if(y.beginPath(),u==h)2==u&&5==d?(y.fillStyle="rgba(0,0,0,0.5)",y.fillRect(1,0,3,2),y.fillRect(0,1,5,1),y.fillRect(0,c-2,5,1),y.fillRect(1,c-1,3,2),y.fillStyle="rgb(0,0,0)",y.fillRect(0,2,5,c-4)):2==u&&5==c?(y.fillStyle="rgba(0,0,0,0.5)",y.fillRect(0,1,2,3),y.fillRect(1,0,1,5),y.fillRect(d-2,0,1,5),y.fillRect(d-1,1,2,3),y.fillStyle="rgb(0,0,0)",y.fillRect(2,0,d-4,5)):(y.fillStyle="#000000",y.moveTo(o+u,n),y.arcTo(o,n,o,n+u,u),y.lineTo(o,n+c-u),y.arcTo(o,n+c,o+u,n+c,u),y.lineTo(o+d-u,n+c),y.arcTo(o+d,n+c,o+d,n+u,u),y.lineTo(o+d,n+u),y.arcTo(o+d,n,o+d-u,n,u));else{var v=Math.PI;y.scale(1,h/u),y.moveTo(o+u,n),y.arc(o+u,n+u,u,1.5*v,.5*v,!0),y.lineTo(o+d-u,n+2*u),y.arc(o+d-u,n+u,u,.5*v,1.5*v,!0)}y.closePath(),y.fill()}r.style.webkitMaskImage="-webkit-canvas("+g+")"}else if(i("svg")){r._svgMask&&r.removeChild(r._svgMask);for(var b=null,_=r.parentNode;_&&(!(b=t.getComputedStyle(_).backgroundColor)||"transparent"==b||b.match(/rgba\(.*,\s*0\s*\)/));_=_.parentNode);var M="http://www.w3.org/2000/svg",k=e.doc.createElementNS(M,"svg");k.setAttribute("width",f),k.setAttribute("height",p),k.style.position="absolute",k.style.pointerEvents="none",k.style.opacity="1",k.style.zIndex="2147483647";var x=e.doc.createElementNS(M,"path");m=m||0,u+=m,h+=m;var j=" M"+(o+u-m)+","+(n-m)+" a"+u+","+h+" 0 0,0 "+-u+","+h+" v"+-h+" h"+u+" Z M"+(o-m)+","+(n+c-h+m)+" a"+u+","+h+" 0 0,0 "+u+","+h+" h"+-u+" v"+-h+" z M"+(o+d-u+m)+","+(n+c+m)+" a"+u+","+h+" 0 0,0 "+u+","+-h+" v"+h+" h"+-u+" z M"+(o+d+m)+","+(n+h-m)+" a"+u+","+h+" 0 0,0 "+-u+","+-h+" h"+u+" v"+h+" z";n>0&&(j+=" M0,0 h"+f+" v"+n+" h"+-f+" z"),l>0&&(j+=" M0,"+(n+c)+" h"+f+" v"+l+" h"+-f+" z"),x.setAttribute("d",j),x.setAttribute("fill",b),x.setAttribute("stroke",b),x.style.opacity="1",k.appendChild(x),r._svgMask=k,r.appendChild(k)}}}});//# sourceMappingURL=_maskUtils.js.map