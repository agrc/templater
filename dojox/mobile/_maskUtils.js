//>>built
define("dojox/mobile/_maskUtils",["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,i){i.add("mask-image-css",function(e,t,i){return"function"==typeof t.getCSSCanvasContext&&"undefined"!=typeof i.style.webkitMaskImage}),i.add("mask-image",function(){return i("mask-image-css")||i("svg")});var a={};return{createRoundMask:function(o,n,r,s,l,d,c,u,h,m){var f=n+d+s,p=r+c+l;if(i("mask-image-css")){var g=("DojoMobileMask"+n+r+d+c+u+h).replace(/\./g,"_");if(!a[g]){a[g]=1;var v=e.doc.getCSSCanvasContext("2d",g,f,p);if(v.beginPath(),u==h)2==u&&5==d?(v.fillStyle="rgba(0,0,0,0.5)",v.fillRect(1,0,3,2),v.fillRect(0,1,5,1),v.fillRect(0,c-2,5,1),v.fillRect(1,c-1,3,2),v.fillStyle="rgb(0,0,0)",v.fillRect(0,2,5,c-4)):2==u&&5==c?(v.fillStyle="rgba(0,0,0,0.5)",v.fillRect(0,1,2,3),v.fillRect(1,0,1,5),v.fillRect(d-2,0,1,5),v.fillRect(d-1,1,2,3),v.fillStyle="rgb(0,0,0)",v.fillRect(2,0,d-4,5)):(v.fillStyle="#000000",v.moveTo(n+u,r),v.arcTo(n,r,n,r+u,u),v.lineTo(n,r+c-u),v.arcTo(n,r+c,n+u,r+c,u),v.lineTo(n+d-u,r+c),v.arcTo(n+d,r+c,n+d,r+u,u),v.lineTo(n+d,r+u),v.arcTo(n+d,r,n+d-u,r,u));else{var y=Math.PI;v.scale(1,h/u),v.moveTo(n+u,r),v.arc(n+u,r+u,u,1.5*y,.5*y,!0),v.lineTo(n+d-u,r+2*u),v.arc(n+d-u,r+u,u,.5*y,1.5*y,!0)}v.closePath(),v.fill()}o.style.webkitMaskImage="-webkit-canvas("+g+")"}else if(i("svg")){o._svgMask&&o.removeChild(o._svgMask);for(var b=null,k=o.parentNode;k&&(b=t.getComputedStyle(k).backgroundColor,!b||"transparent"==b||b.match(/rgba\(.*,\s*0\s*\)/));k=k.parentNode);var _="http://www.w3.org/2000/svg",w=e.doc.createElementNS(_,"svg");w.setAttribute("width",f),w.setAttribute("height",p),w.style.position="absolute",w.style.pointerEvents="none",w.style.opacity="1",w.style.zIndex="2147483647";var M=e.doc.createElementNS(_,"path");m=m||0,u+=m,h+=m;var x=" M"+(n+u-m)+","+(r-m)+" a"+u+","+h+" 0 0,0 "+-u+","+h+" v"+-h+" h"+u+" Z M"+(n-m)+","+(r+c-h+m)+" a"+u+","+h+" 0 0,0 "+u+","+h+" h"+-u+" v"+-h+" z M"+(n+d-u+m)+","+(r+c+m)+" a"+u+","+h+" 0 0,0 "+u+","+-h+" v"+h+" h"+-u+" z M"+(n+d+m)+","+(r+h-m)+" a"+u+","+h+" 0 0,0 "+-u+","+-h+" h"+u+" v"+h+" z";r>0&&(x+=" M0,0 h"+f+" v"+r+" h"+-f+" z"),l>0&&(x+=" M0,"+(r+c)+" h"+f+" v"+l+" h"+-f+" z"),M.setAttribute("d",x),M.setAttribute("fill",b),M.setAttribute("stroke",b),M.style.opacity="1",w.appendChild(M),o._svgMask=w,o.appendChild(w)}}}});//# sourceMappingURL=_maskUtils.js.map