//>>built
define("dojox/mobile/ProgressIndicator",["dojo/_base/config","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dijit/_Contained","dijit/_WidgetBase","./_css3","dojo/has!dojo-bidi?dojox/mobile/bidi/ProgressIndicator"],function(e,t,i,a,o,n,r,s,l,d,h,u){var c=t("dojox.mobile.ProgressIndicator",[d,l],{interval:100,size:40,removeOnStop:!0,startSpinning:!1,center:!0,colors:null,baseClass:"mblProgressIndicator",constructor:function(){this.colors=[],this._bars=[]},buildRendering:function(){this.inherited(arguments),this.center&&a.add(this.domNode,"mblProgressIndicatorCenter"),this.containerNode=o.create("div",{className:"mblProgContainer"},this.domNode),this.spinnerNode=o.create("div",null,this.containerNode);for(var e=0;e<12;e++){var t=o.create("div",{className:"mblProg mblProg"+e},this.spinnerNode);this._bars.push(t)}this.scale(this.size),this.startSpinning&&this.start()},scale:function(e){var t=e/40;r.set(this.containerNode,h.add({},{transform:"scale("+t+")",transformOrigin:"0 0"})),n.setMarginBox(this.domNode,{w:e,h:e}),n.setMarginBox(this.containerNode,{w:e/t,h:e/t})},start:function(){if(this.imageNode){var e=this.imageNode,t=Math.round((this.containerNode.offsetWidth-e.offsetWidth)/2),i=Math.round((this.containerNode.offsetHeight-e.offsetHeight)/2);return void(e.style.margin=i+"px "+t+"px")}var o=0,n=this,r=12;this.timer=setInterval(function(){o--,o=o<0?r-1:o;for(var e=n.colors,t=0;t<r;t++){var i=(o+t)%r;e[i]?n._bars[t].style.backgroundColor=e[i]:a.replace(n._bars[t],"mblProg"+i+"Color","mblProg"+(i===r-1?0:i+1)+"Color")}},this.interval)},stop:function(){this.timer&&clearInterval(this.timer),this.timer=null,this.removeOnStop&&this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)},setImage:function(e){e?(this.imageNode=o.create("img",{src:e},this.containerNode),this.spinnerNode.style.display="none"):(this.imageNode&&(this.containerNode.removeChild(this.imageNode),this.imageNode=null),this.spinnerNode.style.display="")},destroy:function(){this.inherited(arguments),this===c._instance&&(c._instance=null)}});return c=s("dojo-bidi")?t("dojox.mobile.ProgressIndicator",[c,u]):c,c._instance=null,c.getInstance=function(e){return c._instance||(c._instance=new c(e)),c._instance},c});//# sourceMappingURL=ProgressIndicator.js.map