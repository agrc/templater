//>>built
define("dojox/mobile/ScreenSizeAware",["dojo/_base/kernel","dojo/_base/array","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dijit/registry"],function(e,t,i,a,r,n,o,s,l){e.experimental("dojox.mobile.ScreenSizeAware");var d=r("dojox.mobile.ScreenSizeAware",null,{splitterId:"",leftPaneId:"",rightPaneId:"",leftViewId:"",leftListId:"",constructor:function(e){e&&n.mixin(this,e),a.subscribe("/dojox/mobile/screenSize/tablet",this,function(e){this.transformUI("tablet")}),a.subscribe("/dojox/mobile/screenSize/phone",this,function(e){this.transformUI("phone")})},init:function(){this._initialized||(this._initialized=!0,this.splitter=this.splitterId?l.byId(this.splitterId):t.filter(l.findWidgets(o.body()),function(e){return-1!==e.declaredClass.indexOf("Splitter")})[0],this.splitter&&(this.leftPane=this.leftPaneId?l.byId(this.leftPaneId):this.splitter.getChildren()[0],this.leftPane&&(this.rightPane=this.rightPaneId?l.byId(this.rightPaneId):this.splitter.getChildren()[1],this.rightPane&&(this.leftView=this.leftViewId?l.byId(this.leftViewId):t.filter(l.findWidgets(this.leftPane.containerNode),function(e){return-1!==e.declaredClass.indexOf("View")})[0],this.leftView&&(this.leftList=this.leftListId?l.byId(this.leftListId):t.filter(l.findWidgets(this.leftView.containerNode),function(e){return-1!==e.declaredClass.indexOf("List")||-1!==e.declaredClass.indexOf("IconContainer")})[0],!this.leftList)))))},isPhone:function(){return"phone"===this._currentMode},getShowingView:function(){var e=t.filter(this.rightPane.getChildren(),function(e){return-1!==e.declaredClass.indexOf("View")})[0];return e?e.getShowingView()||t.filter(this.rightPane.getChildren(),function(e){return e.selected})[0]||e:null},updateStateful:function(){this.leftList.set("stateful",!this.isPhone())},getDestinationId:function(e){return e.moveTo},updateBackButton:function(){t.forEach(this.leftList.getChildren(),function(e){var i=this.getDestinationId(e),a=l.byId(i);if(a){var r=t.filter(a.getChildren(),function(e){return-1!==e.declaredClass.indexOf("Heading")})[0];r.backButton&&(r.backButton.domNode.style.display=this.isPhone()?"":"none"),r.backBtnNode&&(r.backBtnNode.style.display=this.isPhone()?"":"none")}},this)},updateTransition:function(){var e=this.isPhone()?"slide":"none";t.forEach(this.leftList.getChildren(),function(t){t.set("transition",e)})},moveList:function(){var e=this.isPhone()?this.rightPane:this.leftPane;e.containerNode.appendChild(this.leftView.domNode)},showLeftView:function(){this.leftPane.domNode.style.display=this.isPhone()?"none":"",this.leftView.show()},showRightView:function(){if(!this.isPhone()){var e=this.getShowingView();e?e.show():this.leftItemSelected()}},updateSelectedItem:function(){var e,i=this.getShowingView();if(i&&!this.isPhone()&&(e=i.id),e){var a=t.filter(this.leftList.getChildren(),function(t){return this.getDestinationId(t)===e},this);a&&a.length>0&&a[0].set("selected",!0)}else this.leftList.deselectAll&&this.leftList.deselectAll()},leftItemSelected:function(){},transformUI:function(e){this.init(),e!==this._currentMode&&(this._currentMode=e,this.updateStateful(),this.updateBackButton(),this.updateTransition(),this.moveList(),this.showLeftView(),this.showRightView(),this.updateSelectedItem())}});return d._instance=null,d.getInstance=function(){return d._instance||(d._instance=new d),d._instance},d});//# sourceMappingURL=ScreenSizeAware.js.map