//>>built
define("dojox/mobile/app/_event",["dojo","dijit","dojox"],function(e,t,i){e.provide("dojox.mobile.app._event"),e.experimental("dojox.mobile.app._event.js"),e.mixin(i.mobile.app,{eventMap:{},connectFlick:function(t,i,a){var o,n,r,s,l,d,u,h,c=!1,m=(e.connect("onmousedown",t,function(i){c=!1,o=i.targetTouches?i.targetTouches[0].clientX:i.clientX,n=i.targetTouches?i.targetTouches[0].clientY:i.clientY,h=(new Date).getTime(),l=e.connect(t,"onmousemove",m),d=e.connect(t,"onmouseup",f)}),function(t){e.stopEvent(t),r=t.targetTouches?t.targetTouches[0].clientX:t.clientX,s=t.targetTouches?t.targetTouches[0].clientY:t.clientY,Math.abs(Math.abs(r)-Math.abs(o))>15?(c=!0,u=r>o?"ltr":"rtl"):Math.abs(Math.abs(s)-Math.abs(n))>15&&(c=!0,u=s>n?"ttb":"btt")}),f=function(o){if(e.stopEvent(o),l&&e.disconnect(l),d&&e.disconnect(d),c){var n={target:t,direction:u,duration:(new Date).getTime()-h};i&&a?i[a](n):a(n)}}}}),i.mobile.app.isIPhone=e.isSafari&&(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPod")>-1),i.mobile.app.isWebOS=navigator.userAgent.indexOf("webOS")>-1,i.mobile.app.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,(i.mobile.app.isIPhone||i.mobile.app.isAndroid)&&(i.mobile.app.eventMap={onmousedown:"ontouchstart",mousedown:"ontouchstart",onmouseup:"ontouchend",mouseup:"ontouchend",onmousemove:"ontouchmove",mousemove:"ontouchmove"}),e._oldConnect=e._connect,e._connect=function(t,a,o,n,r){if(a=i.mobile.app.eventMap[a]||a,"flick"==a||"onflick"==a){if(!e.global.Mojo)return i.mobile.app.connectFlick(t,o,n);a=Mojo.Event.flick}return e._oldConnect(t,a,o,n,r)}});//# sourceMappingURL=_event.js.map