{"version":3,"sources":["ImageView.js.uncompressed.js"],"names":["define","dojo","dijit","dojox","provide","experimental","require","declare","mobile","app","_Widget","zoom","zoomCenterX","zoomCenterY","maxZoom","autoZoomLevel","disableAutoZoom","disableSwipe","autoZoomEvent","_leftImg","_centerImg","_rightImg","_leftSmallImg","_centerSmallImg","_rightSmallImg","constructor","this","panX","panY","handleLoad","hitch","_updateAnimatedZoom","_updateAnimatedPan","_onAnimPanEnd","buildRendering","inherited","arguments","canvas","create","domNode","addClass","postCreate","size","marginBox","style","width","w","height","h","_this","connect","event","isAnimating","handleDragEnd","downX","targetTouches","clientX","downY","clientY","x","pageX","y","pageY","Math","abs","render","_loaded","set","pos","_abs","xRatio","yRatio","zoomTo","_anim","status","leftLoaded","rightLoaded","_baseWidth","moveTo","_animPanTo","fx","easing","expoOut","handleFlick","duration","direction","toImg","_moveDir","_switchImage","onChange","fromImg","toSmallImgName","toImgName","fromSmallImgName","fromImgName","_type","to","callback","_animCallback","Animation","curve","onAnimate","onEnd","play","amount","centerX","centerY","getContext","clearRect","_renderImg","smallImg","largeImg","panDir","img","cxt","baseWidth","baseHeight","_baseHeight","desiredWidth","desiredHeight","destWidth","min","destHeight","sourceWidth","dispWidth","sourceHeight","dispHeight","floor","max","sourceX","round","_centerX","sourceY","_centerY","destX","destY","oldDestWidth","oldSourceWidth","drawImage","e","_setZoomAttr","_setZoomCenterXAttr","value","_setZoomCenterYAttr","_setZoomCenterAttr","_setAnimatedZoomAttr","_onAnimEnd","_setCenterUrlAttr","urlOrObj","_setImage","_setLeftUrlAttr","_setRightUrlAttr","name","smallUrl","largeUrl","isString","large","small","_src","Image","_conn","_isSmall","src","evt","target","disconnect","onLoad","type","url","isSmall"],"mappings":"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","file":"ImageView.js.uncompressed.js"}