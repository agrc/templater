//>>built
define("dojox/mobile/app/ListSelector",["dojo","dijit","dojox","dojo/require!dojox/mobile/app/_Widget,dojo/fx"],function(e,t,i){e.provide("dojox.mobile.app.ListSelector"),e.experimental("dojox.mobile.app.ListSelector"),e.require("dojox.mobile.app._Widget"),e.require("dojo.fx"),e.declare("dojox.mobile.app.ListSelector",i.mobile.app._Widget,{data:null,controller:null,onChoose:null,destroyOnHide:!1,_setDataAttr:function(e){this.data=e,this.data&&this.render()},postCreate:function(){e.addClass(this.domNode,"listSelector");var t=this;this.connect(this.domNode,"onclick",function(i){e.hasClass(i.target,"listSelectorRow")&&(t.onChoose&&t.onChoose(t.data[i.target._idx].value),t.hide())}),this.connect(this.domNode,"onmousedown",function(t){e.hasClass(t.target,"listSelectorRow")&&e.addClass(t.target,"listSelectorRow-selected")}),this.connect(this.domNode,"onmouseup",function(t){e.hasClass(t.target,"listSelectorRow")&&e.removeClass(t.target,"listSelectorRow-selected")}),this.connect(this.domNode,"onmouseout",function(t){e.hasClass(t.target,"listSelectorRow")&&e.removeClass(t.target,"listSelectorRow-selected")});this.controller.getWindowSize();this.mask=e.create("div",{class:"dialogUnderlayWrapper",innerHTML:'<div class="dialogUnderlay"></div>'},this.controller.assistant.domNode),this.connect(this.mask,"onclick",function(){t.onChoose&&t.onChoose(),t.hide()})},show:function(t){var i,a,o=this.controller.getWindowSize();t?(a=e._abs(t),i=a):(i.x=o.w/2,i.y=200),e.style(this.domNode,{opacity:0,display:"",width:Math.floor(.8*o.w)+"px"});var n=0;e.query(">",this.domNode).forEach(function(t){e.style(t,{float:"left"}),n=Math.max(n,e.marginBox(t).w),e.style(t,{float:"none"})}),n=Math.min(n,Math.round(.8*o.w))+e.style(this.domNode,"paddingLeft")+e.style(this.domNode,"paddingRight")+1,e.style(this.domNode,"width",n+"px");var r=e.marginBox(this.domNode).h,s=this,l=a?Math.max(30,a.y-r-10):this.getScroll().y+30,d=e.animateProperty({node:this.domNode,duration:400,properties:{width:{start:1,end:n},height:{start:1,end:r},top:{start:i.y,end:l},left:{start:i.x,end:o.w/2-n/2},opacity:{start:0,end:1},fontSize:{start:1}},onEnd:function(){e.style(s.domNode,"width","inherit")}}),h=e.fadeIn({node:this.mask,duration:400});e.fx.combine([d,h]).play()},hide:function(){var t=this,i=e.animateProperty({node:this.domNode,duration:500,properties:{width:{end:1},height:{end:1},opacity:{end:0},fontSize:{end:1}},onEnd:function(){t.get("destroyOnHide")&&t.destroy()}}),a=e.fadeOut({node:this.mask,duration:400});e.fx.combine([i,a]).play()},render:function(){e.empty(this.domNode),e.style(this.domNode,"opacity",0);for(var t,i=0;i<this.data.length;i++)t=e.create("div",{class:"listSelectorRow "+(this.data[i].className||""),innerHTML:this.data[i].label},this.domNode),t._idx=i,0==i&&e.addClass(t,"first"),i==this.data.length-1&&e.addClass(t,"last")},destroy:function(){this.inherited(arguments),e.destroy(this.mask)}})});//# sourceMappingURL=ListSelector.js.map