//>>built
define("dojox/mobile/PageIndicator",["dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/dom-construct","dijit/registry","dijit/_Contained","dijit/_WidgetBase","dojo/i18n!dojox/mobile/nls/messages"],function(e,t,i,a,o,n,r,s,d){return t("dojox.mobile.PageIndicator",[s,r],{refId:"",baseClass:"mblPageIndicator",buildRendering:function(){this.inherited(arguments),this.domNode.setAttribute("role","img"),this._tblNode=o.create("table",{className:"mblPageIndicatorContainer"},this.domNode),this._tblNode.insertRow(-1),this.connect(this.domNode,"onclick","_onClick"),this.subscribe("/dojox/mobile/viewChanged",function(e){this.reset()})},startup:function(){var e=this;e.defer(function(){e.reset()})},reset:function(){var e,t,r,s=this._tblNode.rows[0],l=[],h=0,c=this.refId&&i.byId(this.refId)||this.domNode,u=c.parentNode.childNodes;for(e=0;e<u.length;e++)t=u[e],this.isView(t)&&l.push(t);if(s.cells.length!==l.length)for(o.empty(s),e=0;e<l.length;e++)t=l[e],r=o.create("div",{className:"mblPageIndicatorDot"}),s.insertCell(-1).appendChild(r);if(0!==l.length){var m=n.byNode(l[0]).getShowingView();for(e=0;e<s.cells.length;e++)r=s.cells[e].firstChild,l[e]===m.domNode?(h=e+1,a.add(r,"mblPageIndicatorDotSelected")):a.remove(r,"mblPageIndicatorDotSelected");s.cells.length?this.domNode.setAttribute("alt",d.PageIndicatorLabel.replace("$0",h).replace("$1",s.cells.length)):this.domNode.removeAttribute("alt")}},isView:function(e){return e&&1===e.nodeType&&a.contains(e,"mblView")},_onClick:function(t){this.onClick(t)!==!1&&t.target===this.domNode&&(t.layerX<this._tblNode.offsetLeft?e.publish("/dojox/mobile/prevPage",[this]):t.layerX>this._tblNode.offsetLeft+this._tblNode.offsetWidth&&e.publish("/dojox/mobile/nextPage",[this]))},onClick:function(){}})});//# sourceMappingURL=PageIndicator.js.map