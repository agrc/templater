//>>built
define("dojox/treemap/Keyboard",["dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/on","dojo/keys","dojo/dom-attr","./_utils","dijit/_FocusMixin"],function(e,t,i,o,a,n,r,s,d){return o("dojox.treemap.Keyboard",d,{tabIndex:"0",_setTabIndexAttr:"domNode",constructor:function(){},postCreate:function(){this.inherited(arguments),this.own(a(this.domNode,"keydown",t.hitch(this,this._onKeyDown))),this.own(a(this.domNode,"mousedown",t.hitch(this,this._onMouseDown)))},createRenderer:function(e,t,i){var o=this.inherited(arguments);return r.set(o,"tabindex","-1"),o},_onMouseDown:function(e){this.domNode.focus()},_onKeyDown:function(o){var a=this.get("selectedItem");if(a){var r,d,l,h=this.itemToRenderer[this.getIdentity(a)],c=h.parentItem;if(o.keyCode!=n.UP_ARROW&&o.keyCode!=n.NUMPAD_MINUS&&o.keyCode!=n.NUMPAD_PLUS){if(r=o.keyCode==n.DOWN_ARROW?a.children:c.children,!r)return;d=s.initElements(r,t.hitch(this,this._computeAreaForItem)).elements,l=d[e.indexOf(r,a)],d.sort(function(e,t){return t.size-e.size})}var u;switch(o.keyCode){case n.LEFT_ARROW:u=r[d[Math.max(0,e.indexOf(d,l)-1)].index];break;case n.RIGHT_ARROW:u=r[d[Math.min(d.length-1,e.indexOf(d,l)+1)].index];break;case n.DOWN_ARROW:u=r[d[0].index];break;case n.UP_ARROW:u=c;break;case n.NUMPAD_PLUS:!this._isLeaf(a)&&this.drillDown&&(this.drillDown(h),i.stop(o));break;case n.NUMPAD_MINUS:!this._isLeaf(a)&&this.drillUp&&(this.drillUp(h),i.stop(o))}u&&(this._isRoot(u)||(this.set("selectedItem",u),i.stop(o)))}}})});//# sourceMappingURL=Keyboard.js.map