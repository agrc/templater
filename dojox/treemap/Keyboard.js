//>>built
define("dojox/treemap/Keyboard",["dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/on","dojo/keys","dojo/dom-attr","./_utils","dijit/_FocusMixin"],function(e,t,i,a,r,n,o,s,l){return a("dojox.treemap.Keyboard",l,{tabIndex:"0",_setTabIndexAttr:"domNode",constructor:function(){},postCreate:function(){this.inherited(arguments),this.own(r(this.domNode,"keydown",t.hitch(this,this._onKeyDown))),this.own(r(this.domNode,"mousedown",t.hitch(this,this._onMouseDown)))},createRenderer:function(e,t,i){var a=this.inherited(arguments);return o.set(a,"tabindex","-1"),a},_onMouseDown:function(e){this.domNode.focus()},_onKeyDown:function(a){var r=this.get("selectedItem");if(r){var o,l,d,u=this.itemToRenderer[this.getIdentity(r)],c=u.parentItem;if(a.keyCode!=n.UP_ARROW&&a.keyCode!=n.NUMPAD_MINUS&&a.keyCode!=n.NUMPAD_PLUS){if(o=a.keyCode==n.DOWN_ARROW?r.children:c.children,!o)return;l=s.initElements(o,t.hitch(this,this._computeAreaForItem)).elements,d=l[e.indexOf(o,r)],l.sort(function(e,t){return t.size-e.size})}var h;switch(a.keyCode){case n.LEFT_ARROW:h=o[l[Math.max(0,e.indexOf(l,d)-1)].index];break;case n.RIGHT_ARROW:h=o[l[Math.min(l.length-1,e.indexOf(l,d)+1)].index];break;case n.DOWN_ARROW:h=o[l[0].index];break;case n.UP_ARROW:h=c;break;case n.NUMPAD_PLUS:!this._isLeaf(r)&&this.drillDown&&(this.drillDown(u),i.stop(a));break;case n.NUMPAD_MINUS:!this._isLeaf(r)&&this.drillUp&&(this.drillUp(u),i.stop(a))}h&&(this._isRoot(h)||(this.set("selectedItem",h),i.stop(a)))}}})});//# sourceMappingURL=Keyboard.js.map