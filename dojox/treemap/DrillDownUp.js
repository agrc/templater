//>>built
define("dojox/treemap/DrillDownUp",["dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/on","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/_base/fx","dojo/has!touch?dojox/gesture/tap"],function(e,t,i,r,n,o,a,s,l){return i("dojox.treemap.DrillDownUp",null,{postCreate:function(){this.inherited(arguments),this.own(r(this.domNode,"dblclick",e.hitch(this,this._onDoubleClick))),l&&this.own(r(this.domNode,l.doubletap,e.hitch(this,this._onDoubleClick)))},_onDoubleClick:function(e){var i=this._getRendererFromTarget(e.target);if(i.item){var r=i.item;if(this._isLeaf(r)&&(r=i.parentItem,null==(i=this.itemToRenderer[this.getIdentity(r)])))return;this.rootItem==r?this.drillUp(i):this.drillDown(i),t.stop(e)}},drillUp:function(t){var i=t.item;this.domNode.removeChild(t);var r=this._getRenderer(i).parentItem;this.set("rootItem",r),this.validateRendering(),o.place(t,this.domNode),a.set(t,"zIndex",40);var l=n.position(this._getRenderer(i),!0),d=n.getMarginBox(this.domNode);s.animateProperty({node:t,duration:500,properties:{left:{end:l.x-d.l},top:{end:l.y-d.t},height:{end:l.h},width:{end:l.w}},onAnimate:e.hitch(this,function(e){var i=n.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1,!0)}),onEnd:e.hitch(this,function(){this.domNode.removeChild(t)})}).play()},drillDown:function(t){var i=n.getMarginBox(this.domNode),r=t.item,l=t.parentNode,d=n.position(t,!0);l.removeChild(t),o.place(t,this.domNode),a.set(t,{left:d.x-i.l+"px",top:d.y-i.t+"px"});var c=a.get(t,"zIndex");a.set(t,"zIndex",40),s.animateProperty({node:t,duration:500,properties:{left:{end:i.l},top:{end:i.t},height:{end:i.h},width:{end:i.w}},onAnimate:e.hitch(this,function(e){var i=n.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1)}),onEnd:e.hitch(this,function(){a.set(t,"zIndex",c),this.set("rootItem",r)})}).play()}})});//# sourceMappingURL=DrillDownUp.js.map