//>>built
define("dojox/treemap/DrillDownUp",["dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/on","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/_base/fx","dojo/has!touch?dojox/gesture/tap"],function(e,t,i,a,r,o,n,s,l){return i("dojox.treemap.DrillDownUp",null,{postCreate:function(){this.inherited(arguments),this.own(a(this.domNode,"dblclick",e.hitch(this,this._onDoubleClick))),l&&this.own(a(this.domNode,l.doubletap,e.hitch(this,this._onDoubleClick)))},_onDoubleClick:function(e){var i=this._getRendererFromTarget(e.target);if(i.item){var a=i.item;if(this._isLeaf(a)&&(a=i.parentItem,i=this.itemToRenderer[this.getIdentity(a)],null==i))return;this.rootItem==a?this.drillUp(i):this.drillDown(i),t.stop(e)}},drillUp:function(t){var i=t.item;this.domNode.removeChild(t);var a=this._getRenderer(i).parentItem;this.set("rootItem",a),this.validateRendering(),o.place(t,this.domNode),n.set(t,"zIndex",40);var l=r.position(this._getRenderer(i),!0),d=r.getMarginBox(this.domNode);s.animateProperty({node:t,duration:500,properties:{left:{end:l.x-d.l},top:{end:l.y-d.t},height:{end:l.h},width:{end:l.w}},onAnimate:e.hitch(this,function(e){var i=r.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1,!0)}),onEnd:e.hitch(this,function(){this.domNode.removeChild(t)})}).play()},drillDown:function(t){var i=r.getMarginBox(this.domNode),a=t.item,l=t.parentNode,d=r.position(t,!0);l.removeChild(t),o.place(t,this.domNode),n.set(t,{left:d.x-i.l+"px",top:d.y-i.t+"px"});var h=n.get(t,"zIndex");n.set(t,"zIndex",40),s.animateProperty({node:t,duration:500,properties:{left:{end:i.l},top:{end:i.t},height:{end:i.h},width:{end:i.w}},onAnimate:e.hitch(this,function(e){var i=r.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1)}),onEnd:e.hitch(this,function(){n.set(t,"zIndex",h),this.set("rootItem",a)})}).play()}})});//# sourceMappingURL=DrillDownUp.js.map