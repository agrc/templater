//>>built
define("dojox/treemap/DrillDownUp",["dojo/_base/lang","dojo/_base/event","dojo/_base/declare","dojo/on","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/_base/fx","dojo/has!touch?dojox/gesture/tap"],function(e,t,i,a,o,r,n,s,d){return i("dojox.treemap.DrillDownUp",null,{postCreate:function(){this.inherited(arguments),this.own(a(this.domNode,"dblclick",e.hitch(this,this._onDoubleClick))),d&&this.own(a(this.domNode,d.doubletap,e.hitch(this,this._onDoubleClick)))},_onDoubleClick:function(e){var i=this._getRendererFromTarget(e.target);if(i.item){var a=i.item;if(this._isLeaf(a)&&(a=i.parentItem,i=this.itemToRenderer[this.getIdentity(a)],null==i))return;this.rootItem==a?this.drillUp(i):this.drillDown(i),t.stop(e)}},drillUp:function(t){var i=t.item;this.domNode.removeChild(t);var a=this._getRenderer(i).parentItem;this.set("rootItem",a),this.validateRendering(),r.place(t,this.domNode),n.set(t,"zIndex",40);var d=o.position(this._getRenderer(i),!0),l=o.getMarginBox(this.domNode);s.animateProperty({node:t,duration:500,properties:{left:{end:d.x-l.l},top:{end:d.y-l.t},height:{end:d.h},width:{end:d.w}},onAnimate:e.hitch(this,function(e){var i=o.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1,!0)}),onEnd:e.hitch(this,function(){this.domNode.removeChild(t)})}).play()},drillDown:function(t){var i=o.getMarginBox(this.domNode),a=t.item,d=t.parentNode,l=o.position(t,!0);d.removeChild(t),r.place(t,this.domNode),n.set(t,{left:l.x-i.l+"px",top:l.y-i.t+"px"});var h=n.get(t,"zIndex");n.set(t,"zIndex",40),s.animateProperty({node:t,duration:500,properties:{left:{end:i.l},top:{end:i.t},height:{end:i.h},width:{end:i.w}},onAnimate:e.hitch(this,function(e){var i=o.getContentBox(t);this._layoutGroupContent(t,i.w,i.h,t.level+1,!1)}),onEnd:e.hitch(this,function(){n.set(t,"zIndex",h),this.set("rootItem",a)})}).play()}})});//# sourceMappingURL=DrillDownUp.js.map