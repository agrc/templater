//>>built
require({cache:{"url:dojox/calc/templates/Grapher.html":'<div>\n<div data-dojo-attach-point="chartsParent" class="dojoxCalcChartHolder"></div>\n<div data-dojo-attach-point="outerDiv">\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point="windowOptions" class="dojoxCalcDropDownForWindowOptions" title="Window Options">\n	<div>Window Options</div>\n	<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="windowOptionsInside" class="dojoxCalcTooltipDialogForWindowOptions" title="">\n		<table class="dojoxCalcGraphOptionTable">\n			<tr>\n				<td>\n					Width:\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphWidth" class="dojoxCalcGraphWidth" value="500" />\n				</td>\n				<td>\n					Height:\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphHeight" class="dojoxCalcGraphHeight" value="500" />\n				</td>\n			</tr>\n			<tr>\n				<td>\n					X >=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinX" class="dojoxCalcGraphMinX" value="-10" />\n				</td>\n\n				<td>\n					X <=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxX" class="dojoxCalcGraphMaxX" value="10" />\n				</td>\n			</tr>\n			<tr>\n				<td>\n					Y >=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinY" class="dojoxCalcGraphMinY" value="-10" />\n				</td>\n\n				<td>\n					Y <=\n				</td>\n				<td>\n					<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxY" class="dojoxCalcGraphMaxY" value="10" />\n				</td>\n			</tr>\n		</table>\n	</div>\n</div>\n\n<BR>\n\n<div class="dojoxCalcGrapherFuncOuterDiv">\n	<table class="dojoxCalcGrapherFuncTable" data-dojo-attach-point="graphTable">\n	</table>\n</div>\n\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point=\'addFuncButton\' class="dojoxCalcDropDownAddingFunction">\n	<div>Add Function</div>\n	<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="addFuncInside" class="dojoxCalcTooltipDialogAddingFunction" title="">\n		<table class="dojoxCalcGrapherModeTable">\n			<tr>\n				<td>\n					Mode:\n				</td>\n				<td>\n					<select data-dojo-type="dijit.form.Select" data-dojo-attach-point="funcMode" class="dojoxCalcFunctionModeSelector">\n						<option value="y=" selected="selected">y=</option>\n						<option value="x=">x=</option>\n					</select>\n				</td>\n				<td>\n			</tr>\n	\n			<tr>\n				<td>\n					<input data-dojo-type="dijit.form.Button" data-dojo-attach-point="createFunc" class="dojoxCalcAddFunctionButton" label="Create" />\n				</td>\n			</tr>\n		</table>\n	</div>\n</div>\n<BR>\n<BR>\n<table class="dijitInline dojoxCalcGrapherLayout">\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'selectAllButton\' label="Select All" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deselectAllButton\' label="Deselect All" />\n		</td>\n	</tr>\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'drawButton\'label="Draw Selected" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'eraseButton\' label="Erase Selected" />\n		</td>\n	</tr>\n	<tr>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deleteButton\' label="Delete Selected" />\n		</td>\n		<td class="dojoxCalcGrapherButtonContainer">\n			<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'closeButton\' label="Close" />\n		</td>\n	</tr>\n</table>\n</div>\n</div>\n'}}),define("dojox/calc/Grapher",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dojox/math/_base","dijit/registry","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/ColorPalette","dojox/charting/Chart","dojox/charting/axis2d/Default","dojox/charting/plot2d/Default","dojox/charting/plot2d/Lines","dojox/charting/themes/Tufte","dojo/colors","dojo/text!./templates/Grapher.html","dojox/calc/_Executor","dijit/form/Button","dijit/form/Select"],function(e,t,a,i,r,d,o,n,l,s,m,u,f,h,c,y,v,p,g,M,b,w,F,I){var k=1e-15/9,_=1e200,j=Math.log(2),E={graphNumber:0,fOfX:!0,color:{stroke:"black"}},A=e("dojox.calc.Grapher",[o,l,n],{templateString:F,addXYAxes:function(e){return e.addAxis("x",{max:parseInt(this.graphMaxX.get("value")),min:parseInt(this.graphMinX.get("value")),majorLabels:!0,minorLabels:!0,minorTicks:!1,microTicks:!1,htmlLabels:!0,labelFunc:function(e){return e},maxLabelSize:30,fixUpper:"major",fixLower:"major",majorTick:{length:3}}).addAxis("y",{max:parseInt(this.graphMaxY.get("value")),min:parseInt(this.graphMinY.get("value")),labelFunc:function(e){return e},maxLabelSize:50,vertical:!0,microTicks:!1,minorTicks:!0,majorTick:{stroke:"black",length:3}})},selectAll:function(){for(var e=0;e<this.rowCount;e++)this.array[e][this.checkboxIndex].set("checked",!0)},deselectAll:function(){for(var e=0;e<this.rowCount;e++)this.array[e][this.checkboxIndex].set("checked",!1)},drawOne:function(e){},onDraw:function(){},erase:function(e){for(var t=0,a="Series "+this.array[e][this.funcNumberIndex]+"_"+t;a in this.array[e][this.chartIndex].runs;)this.array[e][this.chartIndex].removeSeries(a),t++,a="Series "+this.array[e][this.funcNumberIndex]+"_"+t;this.array[e][this.chartIndex].render(),this.setStatus(e,"Hidden")},onErase:function(){for(var e=0;e<this.rowCount;e++)this.array[e][this.checkboxIndex].get("checked")&&this.erase(e)},onDelete:function(){for(var e=0;e<this.rowCount;e++)if(this.array[e][this.checkboxIndex].get("checked")){this.erase(e);for(var t=0;t<this.functionRef;t++)this.array[e][t]&&this.array[e][t].destroy&&this.array[e][t].destroy();this.graphTable.deleteRow(e),this.array.splice(e,1),this.rowCount--,e--}},checkboxIndex:0,functionMode:1,expressionIndex:2,colorIndex:3,dropDownIndex:4,tooltipIndex:5,colorBoxFieldsetIndex:6,statusIndex:7,chartIndex:8,funcNumberIndex:9,evaluatedExpression:10,functionRef:11,createFunction:function(){var e=this.graphTable.insertRow(-1);this.array[e.rowIndex]=[];var o=e.insertCell(-1),n=i.create("div");o.appendChild(n);var l=new c({},n);this.array[e.rowIndex][this.checkboxIndex]=l,r.add(n,"dojoxCalcCheckBox"),o=e.insertCell(-1);var s=this.funcMode.get("value");n=a.doc.createTextNode(s),o.appendChild(n),this.array[e.rowIndex][this.functionMode]=s,o=e.insertCell(-1),n=i.create("div"),o.appendChild(n);var m=new h({},n);this.array[e.rowIndex][this.expressionIndex]=m,r.add(n,"dojoxCalcExpressionBox");var v=i.create("div"),p=new y({changedColor:this.changedColor},v);r.add(v,"dojoxCalcColorPalette"),this.array[e.rowIndex][this.colorIndex]=p;var g=i.create("div"),M=new f({content:p},g);this.array[e.rowIndex][this.tooltipIndex]=M,r.add(g,"dojoxCalcContainerOfColor"),o=e.insertCell(-1),n=i.create("div"),o.appendChild(n);var b=i.create("fieldset");d.set(b,{backgroundColor:"black",width:"1em",height:"1em",display:"inline"}),this.array[e.rowIndex][this.colorBoxFieldsetIndex]=b;var w=new u({label:"Color ",dropDown:M},n);w.containerNode.appendChild(b),this.array[e.rowIndex][this.dropDownIndex]=w,r.add(n,"dojoxCalcDropDownForColor"),o=e.insertCell(-1),n=i.create("fieldset"),n.innerHTML="Hidden",this.array[e.rowIndex][this.statusIndex]=n,r.add(n,"dojoxCalcStatusBox"),o.appendChild(n),n=i.create("div"),d.set(n,{position:"absolute",left:"0px",top:"0px"}),this.chartsParent.appendChild(n),this.array[e.rowIndex][this.chartNodeIndex]=n,r.add(n,"dojoxCalcChart");var F=new dojox.charting.Chart(n).setTheme(dojox.charting.themes.Tufte).addPlot("default",{type:"Lines",shadow:{dx:1,dy:1,width:2,color:[0,0,0,.3]}});this.addXYAxes(F),this.array[e.rowIndex][this.chartIndex]=F,p.set("chart",F),p.set("colorBox",b),p.set("onChange",t.hitch(p,"changedColor")),this.array[e.rowIndex][this.funcNumberIndex]=this.funcNumber++,this.rowCount++},setStatus:function(e,t){this.array[e][this.statusIndex].innerHTML=t},changedColor:function(){for(var e=this.get("chart"),t=this.get("colorBox"),a=0;a<e.series.length;a++)e.series[a].stroke&&e.series[a].stroke.color&&(e.series[a].stroke.color=this.get("value"),e.dirty=!0);e.render(),d.set(t,{backgroundColor:this.get("value")})},makeDirty:function(){this.dirty=!0},checkDirty1:function(){setTimeout(t.hitch(this,"checkDirty"),0)},checkDirty:function(){if(this.dirty){for(var e=0;e<this.rowCount;e++)this.array[e][this.chartIndex].removeAxis("x"),this.array[e][this.chartIndex].removeAxis("y"),this.addXYAxes(this.array[e][this.chartIndex]);this.onDraw()}this.dirty=!1},postCreate:function(){this.inherited(arguments),this.createFunc.set("onClick",t.hitch(this,"createFunction")),this.selectAllButton.set("onClick",t.hitch(this,"selectAll")),this.deselectAllButton.set("onClick",t.hitch(this,"deselectAll")),this.drawButton.set("onClick",t.hitch(this,"onDraw")),this.eraseButton.set("onClick",t.hitch(this,"onErase")),this.deleteButton.set("onClick",t.hitch(this,"onDelete")),this.dirty=!1,this.graphWidth.set("onChange",t.hitch(this,"makeDirty")),this.graphHeight.set("onChange",t.hitch(this,"makeDirty")),this.graphMaxX.set("onChange",t.hitch(this,"makeDirty")),this.graphMinX.set("onChange",t.hitch(this,"makeDirty")),this.graphMaxY.set("onChange",t.hitch(this,"makeDirty")),this.graphMinY.set("onChange",t.hitch(this,"makeDirty")),this.windowOptionsInside.set("onClose",t.hitch(this,"checkDirty1")),this.funcNumber=0,this.rowCount=0,this.array=[]},startup:function(){this.inherited(arguments);var e=m.getEnclosingWidget(this.domNode.parentNode);e&&"function"==typeof e.close?this.closeButton.set("onClick",t.hitch(e,"close")):d.set(this.closeButton.domNode,{display:"none"}),this.createFunction(),this.array[0][this.checkboxIndex].set("checked",!0),this.onDraw(),this.erase(0),this.array[0][this.expressionIndex].value=""}});return t.mixin(I,{draw:function(e,a,i){i=t.mixin({},E,i),e.fullGeometry();var r,d,o;1==i.fOfX?(r="x",d="y",o=I.generatePoints(a,r,d,e.axes.x.scaler.bounds.span,e.axes.x.scaler.bounds.lower,e.axes.x.scaler.bounds.upper,e.axes.y.scaler.bounds.lower,e.axes.y.scaler.bounds.upper)):(r="y",d="x",o=I.generatePoints(a,r,d,e.axes.y.scaler.bounds.span,e.axes.y.scaler.bounds.lower,e.axes.y.scaler.bounds.upper,e.axes.x.scaler.bounds.lower,e.axes.x.scaler.bounds.upper));var n=0;if(o.length>0)for(;n<o.length;n++)o[n].length>0&&e.addSeries("Series "+i.graphNumber+"_"+n,o[n],i.color);for(var l="Series "+i.graphNumber+"_"+n;l in e.runs;)e.removeSeries(l),n++,l="Series "+i.graphNumber+"_"+n;return e.render(),o},generatePoints:function(e,t,a,i,r,d,o,n){function l(e,i,r,d){for(;r>=i;){var o=(i[t]+r[t])/2,n={};if(n[t]=o,n[a]=e(n[t]),d==n[a]||n[t]==r[t]||n[t]==i[t])return n;var l=!0;d<n[a]&&(l=!1),n[a]<r[a]?l?i=n:r=n:n[a]<i[a]&&(l?r=n:i=n)}return NaN}function s(e,i,r){for(var d,o=[[],[]],n=i,l=r;n[t]<=l[t];){var s=(n[t]+l[t])/2;d={},d[t]=s,d[a]=e(s);var m=u(d[t]),f={};if(f[t]=m,f[a]=e(m),Math.abs(f[a])>=Math.abs(d[a]))o[0].push(d),n=f;else{if(o[1].unshift(d),l[t]==d[t])break;l=d}}return o}function m(e,t){var a=!1,i=!1;return t>e&&(a=!0),t>0&&(i=!0),{inc:a,pos:i}}function u(e){var t;return t=e>-1&&1>e?0>e?e>=-k?-e:e/Math.ceil(e/k):k:Math.abs(e)*k,e+t}function f(e,i){return(i[a]-e[a])/(i[t]-e[t])}var h,c,y=1<<Math.ceil(Math.log(i)/j),v=(d-r)/y,p=[],g=0;p[g]=[];for(var M,b,w=r,F=0;y>=F;w+=v,F++){if(b={},b[t]=w,b[a]=e({_name:t,_value:w,_graphing:!0}),null==b[t]||null==b[a])return{};if(!isNaN(b[a])&&!isNaN(b[t]))if(p[g].push(b),3!=p[g].length){if(!(p[g].length<4)&&(c=m(f(p[g][p[g].length-3],p[g][p[g].length-2]),f(p[g][p[g].length-2],p[g][p[g].length-1])),h.inc!=c.inc||h.pos!=c.pos)){var I=s(e,p[g][p[g].length-3],p[g][p[g].length-1]);b=p[g].pop(),p[g].pop();for(var E=0;E<I[0].length;E++)p[g].push(I[0][E]);for(M=1;M<I.length;M++)p[++g]=I.pop();p[g].push(b),h=c}}else h=m(f(p[g][p[g].length-3],p[g][p[g].length-2]),f(p[g][p[g].length-2],p[g][p[g].length-1]))}for(;p.length>1;){for(M=0;M<p[1].length;M++)p[0][p[0].length-1][t]!=p[1][M][t]&&p[0].push(p[1][M]);p.splice(1,1)}p=p[0];var A=0,x=[[]];for(M=0;M<p.length;M++){var T,C,G,D;if(isNaN(p[M][a])||isNaN(p[M][t])){for(;isNaN(p[M][a])||isNaN(p[M][t]);)p.splice(M,1);x[++A]=[],M--}else if(p[M][a]>n||p[M][a]<o){M>0&&p[M-1].y!=o&&p[M-1].y!=n&&(D=f(p[M-1],p[M]),D>_?D=_:-_>D&&(D=-_),C=p[M][a]>n?n:o,G=p[M][a]-D*p[M][t],T=(C-G)/D,b={},b[t]=T,b[a]=e(T),b[a]!=C&&(b=l(e,p[M-1],p[M],C)),x[A].push(b),x[++A]=[]);for(;M<p.length&&(p[M][a]>n||p[M][a]<o);)M++;if(M>=p.length){0==x[A].length&&x.splice(A,1);break}M>0&&p[M].y!=o&&p[M].y!=n&&(D=f(p[M-1],p[M]),D>_?D=_:-_>D&&(D=-_),C=p[M-1][a]>n?n:o,G=p[M][a]-D*p[M][t],T=(C-G)/D,b={},b[t]=T,b[a]=e(T),b[a]!=C&&(b=l(e,p[M-1],p[M],C)),x[A].push(b),x[A].push(p[M]))}else x[A].push(p[M])}return x},Grapher:A})});//# sourceMappingURL=Grapher.js.map