//>>built
define("dojox/dtl/contrib/dom",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/dom-style","dojo/dom-construct","../_base","../dom"],function(e,t,a,i,r,o,n){var d=t.getObject("contrib.dom",!0,o),s={render:function(){return this.contents}};return d.StyleNode=t.extend(function(e){this.contents={},this._current={},this._styles=e;for(var a in e){if(-1!=e[a].indexOf("{{"))var i=new o.Template(e[a]);else{var i=t.delegate(s);i.contents=e[a]}this.contents[a]=i}},{render:function(e,t){for(var a in this.contents){var r=this.contents[a].render(e);this._current[a]!=r&&i.set(t.getParent(),a,this._current[a]=r)}return t},unrender:function(e,t){return this._current={},t},clone:function(e){return new this.constructor(this._styles)}}),d.BufferNode=t.extend(function(e,t){this.nodelist=e,this.options=t},{_swap:function(e,t){if(!this.swapped&&this.parent.parentNode){if("node"==e){if(3==t.nodeType&&!this.options.text||1==t.nodeType&&!this.options.node)return}else if("class"==e&&"class"!=e)return;this.onAddNode&&a.disconnect(this.onAddNode),this.onRemoveNode&&a.disconnect(this.onRemoveNode),this.onChangeAttribute&&a.disconnect(this.onChangeAttribute),this.onChangeData&&a.disconnect(this.onChangeData),this.swapped=this.parent.cloneNode(!0),this.parent.parentNode.replaceChild(this.swapped,this.parent)}},render:function(e,i){return this.parent=i.getParent(),this.options.node&&(this.onAddNode=a.connect(i,"onAddNode",t.hitch(this,"_swap","node")),this.onRemoveNode=a.connect(i,"onRemoveNode",t.hitch(this,"_swap","node"))),this.options.text&&(this.onChangeData=a.connect(i,"onChangeData",t.hitch(this,"_swap","node"))),this.options["class"]&&(this.onChangeAttribute=a.connect(i,"onChangeAttribute",t.hitch(this,"_swap","class"))),i=this.nodelist.render(e,i),this.swapped?(this.swapped.parentNode.replaceChild(this.parent,this.swapped),r.destroy(this.swapped)):(this.onAddNode&&a.disconnect(this.onAddNode),this.onRemoveNode&&a.disconnect(this.onRemoveNode),this.onChangeAttribute&&a.disconnect(this.onChangeAttribute),this.onChangeData&&a.disconnect(this.onChangeData)),delete this.parent,delete this.swapped,i},unrender:function(e,t){return this.nodelist.unrender(e,t)},clone:function(e){return new this.constructor(this.nodelist.clone(e),this.options)}}),t.mixin(d,{buffer:function(e,t){for(var a=t.contents.split().slice(1),i={},r=!1,o=a.length;o--;)r=!0,i[a[o]]=!0;r||(i.node=!0);var n=e.parse(["endbuffer"]);return e.next_token(),new d.BufferNode(n,i)},html:function(t,a){return e.deprecated("{% html someVariable %}","Use {{ someVariable|safe }} instead"),t.create_variable_node(a.contents.slice(5)+"|safe")},style_:function(e,a){var i={};a=a.contents.replace(/^style\s+/,"");for(var r,o=a.split(/\s*;\s*/g),n=0;r=o[n];n++){var s=r.split(/\s*:\s*/g),l=s[0],m=t.trim(s[1]);m&&(i[l]=m)}return new d.StyleNode(i)}}),o.register.tags("dojox.dtl.contrib",{dom:["html","attr:style","buffer"]}),d});//# sourceMappingURL=dom.js.map