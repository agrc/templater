//>>built
define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(e){return dojox.uuid.generateTimeBasedUuid=function(e){return dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(e)},dojox.uuid.generateTimeBasedUuid.isValidNode=function(t){var i=16,a=parseInt(t,i);return e.isString(t)&&12==t.length&&isFinite(a)},dojox.uuid.generateTimeBasedUuid.setNode=function(e){dojox.uuid.assert(null===e||this.isValidNode(e)),this._uniformNode=e},dojox.uuid.generateTimeBasedUuid.getNode=function(){return this._uniformNode},dojox.uuid.generateTimeBasedUuid._generator=new function(){function t(e){e[2]+=e[3]>>>16,e[3]&=65535,e[1]+=e[2]>>>16,e[2]&=65535,e[0]+=e[1]>>>16,e[1]&=65535,dojox.uuid.assert(e[0]>>>16==0)}function i(e){var t=new Array(0,0,0,0);return t[3]=e%65536,e-=t[3],e/=65536,t[2]=e%65536,e-=t[2],e/=65536,t[1]=e%65536,e-=t[1],e/=65536,t[0]=e,t}function a(i,a){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(a)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==a.length);var o=new Array(0,0,0,0);return o[3]=i[3]+a[3],o[2]=i[2]+a[2],o[1]=i[1]+a[1],o[0]=i[0]+a[0],t(o),o}function o(i,a){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(a)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==a.length);var o=!1;i[0]*a[0]!=0&&(o=!0),i[0]*a[1]!=0&&(o=!0),i[0]*a[2]!=0&&(o=!0),i[1]*a[0]!=0&&(o=!0),i[1]*a[1]!=0&&(o=!0),i[2]*a[0]!=0&&(o=!0),dojox.uuid.assert(!o);var n=new Array(0,0,0,0);return n[0]+=i[0]*a[3],t(n),n[0]+=i[1]*a[2],t(n),n[0]+=i[2]*a[1],t(n),n[0]+=i[3]*a[0],t(n),n[1]+=i[1]*a[3],t(n),n[1]+=i[2]*a[2],t(n),n[1]+=i[3]*a[1],t(n),n[2]+=i[2]*a[3],t(n),n[2]+=i[3]*a[2],t(n),n[3]+=i[3]*a[3],t(n),n}function n(e,t){for(;e.length<t;)e="0"+e;return e}function r(){for(var e=Math.floor(Math.random()%1*Math.pow(2,32)),t=e.toString(m);t.length<8;)t="0"+t;return t}this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;var s=null,l=null,d=null,c=0,u=null,h=null,m=16;this.generateUuidString=function(e){if(e)dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(e));else if(dojox.uuid.generateTimeBasedUuid._uniformNode)e=dojox.uuid.generateTimeBasedUuid._uniformNode;else{if(!s){var f=32768,p=Math.floor(Math.random()%1*Math.pow(2,15)),g=(f|p).toString(m);s=g+r()}e=s}if(!l){var v=Math.floor(Math.random()%1*Math.pow(2,14));l=(32768|v).toString(m)}var y=new Date,b=y.valueOf(),k=i(b);if(!u){var _=i(3600),x=i(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS),j=o(x,_),M=i(1e3);u=o(j,M),h=i(1e4)}var w=k,I=a(u,w),C=o(I,h);if(y.valueOf()==d){if(C[3]+=c,t(C),1e4==(c+=1))for(;y.valueOf()==d;)y=new Date}else d=y.valueOf(),c=1;var T=C[2].toString(m),E=C[3].toString(m),N=n(T,4)+n(E,4),A=C[1].toString(m);A=n(A,4);var S=C[0].toString(m);S=n(S,3);var F="-",z="1",L=N+F+A+F+z+S+F+l+F+e;return L=L.toLowerCase()}},dojox.uuid.generateTimeBasedUuid});//# sourceMappingURL=generateTimeBasedUuid.js.map