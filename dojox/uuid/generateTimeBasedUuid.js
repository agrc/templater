//>>built
define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(e){return dojox.uuid.generateTimeBasedUuid=function(e){return dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(e)},dojox.uuid.generateTimeBasedUuid.isValidNode=function(t){var i=16,a=parseInt(t,i);return e.isString(t)&&12==t.length&&isFinite(a)},dojox.uuid.generateTimeBasedUuid.setNode=function(e){dojox.uuid.assert(null===e||this.isValidNode(e)),this._uniformNode=e},dojox.uuid.generateTimeBasedUuid.getNode=function(){return this._uniformNode},dojox.uuid.generateTimeBasedUuid._generator=new function(){function t(e){e[2]+=e[3]>>>16,e[3]&=65535,e[1]+=e[2]>>>16,e[2]&=65535,e[0]+=e[1]>>>16,e[1]&=65535,dojox.uuid.assert(e[0]>>>16==0)}function i(e){var t=new Array(0,0,0,0);return t[3]=e%65536,e-=t[3],e/=65536,t[2]=e%65536,e-=t[2],e/=65536,t[1]=e%65536,e-=t[1],e/=65536,t[0]=e,t}function a(i,a){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(a)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==a.length);var o=new Array(0,0,0,0);return o[3]=i[3]+a[3],o[2]=i[2]+a[2],o[1]=i[1]+a[1],o[0]=i[0]+a[0],t(o),o}function o(i,a){dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(e.isArray(a)),dojox.uuid.assert(4==i.length),dojox.uuid.assert(4==a.length);var o=!1;i[0]*a[0]!=0&&(o=!0),i[0]*a[1]!=0&&(o=!0),i[0]*a[2]!=0&&(o=!0),i[1]*a[0]!=0&&(o=!0),i[1]*a[1]!=0&&(o=!0),i[2]*a[0]!=0&&(o=!0),dojox.uuid.assert(!o);var n=new Array(0,0,0,0);return n[0]+=i[0]*a[3],t(n),n[0]+=i[1]*a[2],t(n),n[0]+=i[2]*a[1],t(n),n[0]+=i[3]*a[0],t(n),n[1]+=i[1]*a[3],t(n),n[1]+=i[2]*a[2],t(n),n[1]+=i[3]*a[1],t(n),n[2]+=i[2]*a[3],t(n),n[2]+=i[3]*a[2],t(n),n[3]+=i[3]*a[3],t(n),n}function n(e,t){for(;e.length<t;)e="0"+e;return e}function r(){for(var e=Math.floor(Math.random()%1*Math.pow(2,32)),t=e.toString(m);t.length<8;)t="0"+t;return t}this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;var s=null,l=null,d=null,c=0,h=null,u=null,m=16;this.generateUuidString=function(e){if(e)dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(e));else if(dojox.uuid.generateTimeBasedUuid._uniformNode)e=dojox.uuid.generateTimeBasedUuid._uniformNode;else{if(!s){var f=32768,g=Math.floor(Math.random()%1*Math.pow(2,15)),p=(f|g).toString(m);s=p+r()}e=s}if(!l){var y=Math.floor(Math.random()%1*Math.pow(2,14));l=(32768|y).toString(m)}var v=new Date,b=v.valueOf(),_=i(b);if(!h){var M=i(3600),x=i(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS),w=o(x,M),k=i(1e3);h=o(w,k),u=i(1e4)}var j=_,C=a(h,j),I=o(C,u);if(v.valueOf()==d){if(I[3]+=c,t(I),1e4==(c+=1))for(;v.valueOf()==d;)v=new Date}else d=v.valueOf(),c=1;var S=I[2].toString(m),T=I[3].toString(m),E=n(S,4)+n(T,4),A=I[1].toString(m);A=n(A,4);var N=I[0].toString(m);N=n(N,3);var F="-",P="1",z=E+F+A+F+P+N+F+l+F+e;return z=z.toLowerCase()}},dojox.uuid.generateTimeBasedUuid});//# sourceMappingURL=generateTimeBasedUuid.js.map