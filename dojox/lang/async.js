//>>built
define("dojox/lang/async",["dojo","dijit","dojox"],function(e,t,i){e.provide("dojox.lang.async"),function(){var t=e,a=t.Deferred,r=t.forEach,o=t.some,n=i.lang.async,s=Array.prototype.slice,l=Object.prototype.toString;n.seq=function(e){var t="[object Array]"==l.call(e)?e:arguments;return function(e){var i=new a;return r(t,function(e){i.addCallback(e)}),i.callback(e),i}},n.par=function(e){var t="[object Array]"==l.call(e)?e:arguments;return function(e){var i=new Array(t.length),n=function(){r(i,function(e){e instanceof a&&e.fired<0&&e.cancel()})},s=new a(n),l=t.length;r(t,function(t,a){var r;try{r=t(e)}catch(o){r=o}i[a]=r});var d=o(i,function(e){return e instanceof Error?(n(),s.errback(e),!0):!1});return d||r(i,function(e,t){e instanceof a?e.addCallbacks(function(e){i[t]=e,--l||s.callback(i)},function(e){n(),s.errback(e)}):--l}),l||s.callback(i),s}},n.any=function(e){var t="[object Array]"==l.call(e)?e:arguments;return function(i){var n=new Array(t.length),s=!0;cancel=function(e){r(n,function(t,i){i!=e&&t instanceof a&&t.fired<0&&t.cancel()})},e=new a(cancel),r(t,function(e,t){var a;try{a=e(i)}catch(r){a=r}n[t]=a});var l=o(n,function(t,i){return t instanceof a?!1:(cancel(i),e.callback(t),!0)});return l||r(n,function(t,i){t.addBoth(function(t){s&&(s=!1,cancel(i),e.callback(t))})}),e}},n.select=function(e,t){var i="[object Array]"==l.call(t)?t:s.call(arguments,1);return function(t){return(new a).addCallback(e).addCallback(function(e){return"number"==typeof e&&e>=0&&e<i.length?i[e](t):new Error("async.select: out of range")}).callback(t)}},n.ifThen=function(e,t,i){return function(r){return(new a).addCallback(e).addCallback(function(e){return(e?t:i)(r)}).callback(r)}},n.loop=function(e,t){return function(i){function r(e){l.errback(e)}function o(e){return e?s.addCallback(t).addCallback(n):l.callback(e),e}function n(t){s=(new a).addCallback(e).addCallback(o).addErrback(r),s.callback(t)}var s,l=new a(function(){s.cancel()});return n(i),l}}}()});//# sourceMappingURL=async.js.map