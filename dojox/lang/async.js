//>>built
define("dojox/lang/async",["dojo","dijit","dojox"],function(e,t,i){e.provide("dojox.lang.async"),function(){var t=e,r=t.Deferred,o=t.forEach,n=t.some,a=i.lang.async,s=Array.prototype.slice,d=Object.prototype.toString;a.seq=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(e){var i=new r;return o(t,function(e){i.addCallback(e)}),i.callback(e),i}},a.par=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(e){var i=new Array(t.length),a=function(){o(i,function(e){e instanceof r&&e.fired<0&&e.cancel()})},s=new r(a),d=t.length;o(t,function(t,r){var o;try{o=t(e)}catch(n){o=n}i[r]=o});var l=n(i,function(e){return e instanceof Error?(a(),s.errback(e),!0):!1});return l||o(i,function(e,t){e instanceof r?e.addCallbacks(function(e){i[t]=e,--d||s.callback(i)},function(e){a(),s.errback(e)}):--d}),d||s.callback(i),s}},a.any=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(i){var a=new Array(t.length),s=!0;cancel=function(e){o(a,function(t,i){i!=e&&t instanceof r&&t.fired<0&&t.cancel()})},e=new r(cancel),o(t,function(e,t){var r;try{r=e(i)}catch(o){r=o}a[t]=r});var d=n(a,function(t,i){return t instanceof r?!1:(cancel(i),e.callback(t),!0)});return d||o(a,function(t,i){t.addBoth(function(t){s&&(s=!1,cancel(i),e.callback(t))})}),e}},a.select=function(e,t){var i="[object Array]"==d.call(t)?t:s.call(arguments,1);return function(t){return(new r).addCallback(e).addCallback(function(e){return"number"==typeof e&&e>=0&&e<i.length?i[e](t):new Error("async.select: out of range")}).callback(t)}},a.ifThen=function(e,t,i){return function(o){return(new r).addCallback(e).addCallback(function(e){return(e?t:i)(o)}).callback(o)}},a.loop=function(e,t){return function(i){function o(e){d.errback(e)}function n(e){return e?s.addCallback(t).addCallback(a):d.callback(e),e}function a(t){s=(new r).addCallback(e).addCallback(n).addErrback(o),s.callback(t)}var s,d=new r(function(){s.cancel()});return a(i),d}}}()});//# sourceMappingURL=async.js.map