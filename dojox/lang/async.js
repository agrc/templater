//>>built
define("dojox/lang/async",["dojo","dijit","dojox"],function(e,t,i){e.provide("dojox.lang.async"),function(){var t=e,a=t.Deferred,r=t.forEach,n=t.some,o=i.lang.async,s=Array.prototype.slice,d=Object.prototype.toString;o.seq=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(e){var i=new a;return r(t,function(e){i.addCallback(e)}),i.callback(e),i}},o.par=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(e){var i=new Array(t.length),o=function(){r(i,function(e){e instanceof a&&e.fired<0&&e.cancel()})},s=new a(o),d=t.length;return r(t,function(t,a){var r;try{r=t(e)}catch(e){r=e}i[a]=r}),n(i,function(e){return e instanceof Error&&(o(),s.errback(e),!0)})||r(i,function(e,t){e instanceof a?e.addCallbacks(function(e){i[t]=e,--d||s.callback(i)},function(e){o(),s.errback(e)}):--d}),d||s.callback(i),s}},o.any=function(e){var t="[object Array]"==d.call(e)?e:arguments;return function(i){var o=new Array(t.length),s=!0;return cancel=function(e){r(o,function(t,i){i!=e&&t instanceof a&&t.fired<0&&t.cancel()})},e=new a(cancel),r(t,function(e,t){var a;try{a=e(i)}catch(e){a=e}o[t]=a}),n(o,function(t,i){return!(t instanceof a)&&(cancel(i),e.callback(t),!0)})||r(o,function(t,i){t.addBoth(function(t){s&&(s=!1,cancel(i),e.callback(t))})}),e}},o.select=function(e,t){var i="[object Array]"==d.call(t)?t:s.call(arguments,1);return function(t){return(new a).addCallback(e).addCallback(function(e){return"number"==typeof e&&e>=0&&e<i.length?i[e](t):new Error("async.select: out of range")}).callback(t)}},o.ifThen=function(e,t,i){return function(r){return(new a).addCallback(e).addCallback(function(e){return(e?t:i)(r)}).callback(r)}},o.loop=function(e,t){return function(i){function r(e){d.errback(e)}function n(e){return e?s.addCallback(t).addCallback(o):d.callback(e),e}function o(t){s=(new a).addCallback(e).addCallback(n).addErrback(r),s.callback(t)}var s,d=new a(function(){s.cancel()});return o(i),d}}}()});//# sourceMappingURL=async.js.map