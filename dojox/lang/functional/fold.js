//>>built
define("dojox/lang/functional/fold",["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(e,t,i,a){var o={};e.mixin(a,{foldl:function(t,r,n,s){"string"==typeof t&&(t=t.split("")),s=s||i.global,r=a.lambda(r);var l,d;if(e.isArray(t))for(l=0,d=t.length;d>l;n=r.call(s,n,t[l],l,t),++l);else if("function"==typeof t.hasNext&&"function"==typeof t.next)for(l=0;t.hasNext();n=r.call(s,n,t.next(),l++,t));else for(l in t)l in o||(n=r.call(s,n,t[l],l,t));return n},foldl1:function(t,r,n){"string"==typeof t&&(t=t.split("")),n=n||i.global,r=a.lambda(r);var s,l,d;if(e.isArray(t))for(s=t[0],l=1,d=t.length;d>l;s=r.call(n,s,t[l],l,t),++l);else if("function"==typeof t.hasNext&&"function"==typeof t.next){if(t.hasNext())for(s=t.next(),l=1;t.hasNext();s=r.call(n,s,t.next(),l++,t));}else{var h=!0;for(l in t)l in o||(h?(s=t[l],h=!1):s=r.call(n,s,t[l],l,t))}return s},foldr:function(e,t,o,r){"string"==typeof e&&(e=e.split("")),r=r||i.global,t=a.lambda(t);for(var n=e.length;n>0;--n,o=t.call(r,o,e[n],n,e));return o},foldr1:function(e,t,o){"string"==typeof e&&(e=e.split("")),o=o||i.global,t=a.lambda(t);for(var r=e.length,n=e[r-1],s=r-1;s>0;--s,n=t.call(o,n,e[s],s,e));return n},reduce:function(e,t,i){return arguments.length<3?a.foldl1(e,t):a.foldl(e,t,i)},reduceRight:function(e,t,i){return arguments.length<3?a.foldr1(e,t):a.foldr(e,t,i)},unfold:function(e,t,o,r,n){n=n||i.global,t=a.lambda(t),o=a.lambda(o),e=a.lambda(e);for(var s=[];!e.call(n,r);s.push(t.call(n,r)),r=o.call(n,r));return s}})});//# sourceMappingURL=fold.js.map