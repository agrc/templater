//>>built
define("dojox/lang/functional/lambda",["../..","dojo/_base/lang","dojo/_base/array"],function(e,t,i){var r=t.getObject("lang.functional",!0,e),a={},n="ab".split(/a*/).length>1?String.prototype.split:function(e){var t=this.split.call(this,e),i=e.exec(this);return i&&0==i.index&&t.unshift(""),t},o=function(e){var t=[],r=n.call(e,/\s*->\s*/m);if(r.length>1)for(;r.length;)e=r.pop(),t=r.pop().split(/\s*,\s*|\s+/m),r.length&&r.push("(function("+t.join(", ")+"){ return ("+e+"); })");else if(e.match(/\b_\b/))t=["_"];else{var a=e.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),o=e.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(a||o)a&&(t.push("$1"),e="$1"+e),o&&(t.push("$2"),e+="$2");else{var s=e.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],l={};i.forEach(s,function(e){l.hasOwnProperty(e)||(t.push(e),l[e]=1)})}}return{args:t,body:e}},s=function(e){return e.length?function(){var t=e.length-1,i=r.lambda(e[t]).apply(this,arguments);for(--t;t>=0;--t)i=r.lambda(e[t]).call(this,i);return i}:function(e){return e}};return t.mixin(r,{rawLambda:function(e){return o(e)},buildLambda:function(e){var t=o(e);return"function("+t.args.join(",")+"){return ("+t.body+");}"},lambda:function(e){if("function"==typeof e)return e;if(e instanceof Array)return s(e);if(a.hasOwnProperty(e))return a[e];var t=o(e);return a[e]=new Function(t.args,"return ("+t.body+");")},clearLambdaCache:function(){a={}}}),r});//# sourceMappingURL=lambda.js.map