//>>built
define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(e,t,i){var a={};t.mixin(i,{scanl:function(r,n,o,s){"string"==typeof r&&(r=r.split("")),s=s||e.global,n=i.lambda(n);var l,d,h;if(t.isArray(r))for(l=new Array((d=r.length)+1),l[0]=o,h=0;d>h;o=n.call(s,o,r[h],h,r),l[++h]=o);else if("function"==typeof r.hasNext&&"function"==typeof r.next)for(l=[o],h=0;r.hasNext();l.push(o=n.call(s,o,r.next(),h++,r)));else{l=[o];for(h in r)h in a||l.push(o=n.call(s,o,r[h],h,r))}return l},scanl1:function(r,n,o){"string"==typeof r&&(r=r.split("")),o=o||e.global,n=i.lambda(n);var s,l,d,h=!0;if(t.isArray(r)){s=new Array(l=r.length),s[0]=d=r[0];for(var u=1;l>u;s[u]=d=n.call(o,d,r[u],u,r),++u);}else if("function"==typeof r.hasNext&&"function"==typeof r.next){if(r.hasNext())for(s=[d=r.next()],u=1;r.hasNext();s.push(d=n.call(o,d,r.next(),u++,r)));}else for(u in r)u in a||(h?(s=[d=r[u]],h=!1):s.push(d=n.call(o,d,r[u],u,r)));return s},scanr:function(t,a,r,n){"string"==typeof t&&(t=t.split("")),n=n||e.global,a=i.lambda(a);var o=t.length,s=new Array(o+1),l=o;for(s[o]=r;l>0;--l,r=a.call(n,r,t[l],l,t),s[l]=r);return s},scanr1:function(t,a,r){"string"==typeof t&&(t=t.split("")),r=r||e.global,a=i.lambda(a);var n=t.length,o=new Array(n),s=t[n-1],l=n-1;for(o[l]=s;l>0;--l,s=a.call(r,s,t[l],l,t),o[l]=s);return o}})});//# sourceMappingURL=scan.js.map