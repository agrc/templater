//>>built
define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(e,t,i){var a={};t.mixin(i,{scanl:function(o,r,n,s){"string"==typeof o&&(o=o.split("")),s=s||e.global,r=i.lambda(r);var l,d,h;if(t.isArray(o))for(l=new Array((d=o.length)+1),l[0]=n,h=0;d>h;n=r.call(s,n,o[h],h,o),l[++h]=n);else if("function"==typeof o.hasNext&&"function"==typeof o.next)for(l=[n],h=0;o.hasNext();l.push(n=r.call(s,n,o.next(),h++,o)));else{l=[n];for(h in o)h in a||l.push(n=r.call(s,n,o[h],h,o))}return l},scanl1:function(o,r,n){"string"==typeof o&&(o=o.split("")),n=n||e.global,r=i.lambda(r);var s,l,d,h=!0;if(t.isArray(o)){s=new Array(l=o.length),s[0]=d=o[0];for(var u=1;l>u;s[u]=d=r.call(n,d,o[u],u,o),++u);}else if("function"==typeof o.hasNext&&"function"==typeof o.next){if(o.hasNext())for(s=[d=o.next()],u=1;o.hasNext();s.push(d=r.call(n,d,o.next(),u++,o)));}else for(u in o)u in a||(h?(s=[d=o[u]],h=!1):s.push(d=r.call(n,d,o[u],u,o)));return s},scanr:function(t,a,o,r){"string"==typeof t&&(t=t.split("")),r=r||e.global,a=i.lambda(a);var n=t.length,s=new Array(n+1),l=n;for(s[n]=o;l>0;--l,o=a.call(r,o,t[l],l,t),s[l]=o);return s},scanr1:function(t,a,o){"string"==typeof t&&(t=t.split("")),o=o||e.global,a=i.lambda(a);var r=t.length,n=new Array(r),s=t[r-1],l=r-1;for(n[l]=s;l>0;--l,s=a.call(o,s,t[l],l,t),n[l]=s);return n}})});//# sourceMappingURL=scan.js.map