//>>built
define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(e,t,i){var a={};t.mixin(i,{scanl:function(o,n,r,s){"string"==typeof o&&(o=o.split("")),s=s||e.global,n=i.lambda(n);var l,d,h;if(t.isArray(o))for(l=new Array((d=o.length)+1),l[0]=r,h=0;d>h;r=n.call(s,r,o[h],h,o),l[++h]=r);else if("function"==typeof o.hasNext&&"function"==typeof o.next)for(l=[r],h=0;o.hasNext();l.push(r=n.call(s,r,o.next(),h++,o)));else{l=[r];for(h in o)h in a||l.push(r=n.call(s,r,o[h],h,o))}return l},scanl1:function(o,n,r){"string"==typeof o&&(o=o.split("")),r=r||e.global,n=i.lambda(n);var s,l,d,h=!0;if(t.isArray(o)){s=new Array(l=o.length),s[0]=d=o[0];for(var u=1;l>u;s[u]=d=n.call(r,d,o[u],u,o),++u);}else if("function"==typeof o.hasNext&&"function"==typeof o.next){if(o.hasNext())for(s=[d=o.next()],u=1;o.hasNext();s.push(d=n.call(r,d,o.next(),u++,o)));}else for(u in o)u in a||(h?(s=[d=o[u]],h=!1):s.push(d=n.call(r,d,o[u],u,o)));return s},scanr:function(t,a,o,n){"string"==typeof t&&(t=t.split("")),n=n||e.global,a=i.lambda(a);var r=t.length,s=new Array(r+1),l=r;for(s[r]=o;l>0;--l,o=a.call(n,o,t[l],l,t),s[l]=o);return s},scanr1:function(t,a,o){"string"==typeof t&&(t=t.split("")),o=o||e.global,a=i.lambda(a);var n=t.length,r=new Array(n),s=t[n-1],l=n-1;for(r[l]=s;l>0;--l,s=a.call(o,s,t[l],l,t),r[l]=s);return r}})});//# sourceMappingURL=scan.js.map