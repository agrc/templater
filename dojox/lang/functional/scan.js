//>>built
define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(e,t,i){var a={};t.mixin(i,{scanl:function(n,o,r,s){"string"==typeof n&&(n=n.split("")),s=s||e.global,o=i.lambda(o);var l,d,c;if(t.isArray(n))for(l=new Array((d=n.length)+1),l[0]=r,c=0;d>c;r=o.call(s,r,n[c],c,n),l[++c]=r);else if("function"==typeof n.hasNext&&"function"==typeof n.next)for(l=[r],c=0;n.hasNext();l.push(r=o.call(s,r,n.next(),c++,n)));else{l=[r];for(c in n)c in a||l.push(r=o.call(s,r,n[c],c,n))}return l},scanl1:function(n,o,r){"string"==typeof n&&(n=n.split("")),r=r||e.global,o=i.lambda(o);var s,l,d,c=!0;if(t.isArray(n)){s=new Array(l=n.length),s[0]=d=n[0];for(var u=1;l>u;s[u]=d=o.call(r,d,n[u],u,n),++u);}else if("function"==typeof n.hasNext&&"function"==typeof n.next){if(n.hasNext())for(s=[d=n.next()],u=1;n.hasNext();s.push(d=o.call(r,d,n.next(),u++,n)));}else for(u in n)u in a||(c?(s=[d=n[u]],c=!1):s.push(d=o.call(r,d,n[u],u,n)));return s},scanr:function(t,a,n,o){"string"==typeof t&&(t=t.split("")),o=o||e.global,a=i.lambda(a);var r=t.length,s=new Array(r+1),l=r;for(s[r]=n;l>0;--l,n=a.call(o,n,t[l],l,t),s[l]=n);return s},scanr1:function(t,a,n){"string"==typeof t&&(t=t.split("")),n=n||e.global,a=i.lambda(a);var o=t.length,r=new Array(o),s=t[o-1],l=o-1;for(r[l]=s;l>0;--l,s=a.call(n,s,t[l],l,t),r[l]=s);return r}})});//# sourceMappingURL=scan.js.map