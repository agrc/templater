//>>built
define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(e,t,i){var a={};t.mixin(i,{scanl:function(r,o,n,s){"string"==typeof r&&(r=r.split("")),s=s||e.global,o=i.lambda(o);var l,d,h;if(t.isArray(r))for(l=new Array((d=r.length)+1),l[0]=n,h=0;h<d;n=o.call(s,n,r[h],h,r),l[++h]=n);else if("function"==typeof r.hasNext&&"function"==typeof r.next)for(l=[n],h=0;r.hasNext();l.push(n=o.call(s,n,r.next(),h++,r)));else{l=[n];for(h in r)h in a||l.push(n=o.call(s,n,r[h],h,r))}return l},scanl1:function(r,o,n){"string"==typeof r&&(r=r.split("")),n=n||e.global,o=i.lambda(o);var s,l,d,h=!0;if(t.isArray(r)){s=new Array(l=r.length),s[0]=d=r[0];for(var u=1;u<l;s[u]=d=o.call(n,d,r[u],u,r),++u);}else if("function"==typeof r.hasNext&&"function"==typeof r.next){if(r.hasNext())for(s=[d=r.next()],u=1;r.hasNext();s.push(d=o.call(n,d,r.next(),u++,r)));}else for(u in r)u in a||(h?(s=[d=r[u]],h=!1):s.push(d=o.call(n,d,r[u],u,r)));return s},scanr:function(t,a,r,o){"string"==typeof t&&(t=t.split("")),o=o||e.global,a=i.lambda(a);var n=t.length,s=new Array(n+1),l=n;for(s[n]=r;l>0;--l,r=a.call(o,r,t[l],l,t),s[l]=r);return s},scanr1:function(t,a,r){"string"==typeof t&&(t=t.split("")),r=r||e.global,a=i.lambda(a);var o=t.length,n=new Array(o),s=t[o-1],l=o-1;for(n[l]=s;l>0;--l,s=a.call(r,s,t[l],l,t),n[l]=s);return n}})});//# sourceMappingURL=scan.js.map