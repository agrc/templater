//>>built
define("dojox/wire/ml/Service",["dojo","dijit","dojox","dojo/require!dijit/_Widget,dojox/xml/parser,dojox/wire/_base,dojox/wire/ml/util"],function(e,t,i){e.provide("dojox.wire.ml.Service"),e.require("dijit._Widget"),e.require("dojox.xml.parser"),e.require("dojox.wire._base"),e.require("dojox.wire.ml.util"),e.declare("dojox.wire.ml.Service",t._Widget,{url:"",serviceUrl:"",serviceType:"",handlerClass:"",preventCache:!0,postCreate:function(){this.handler=this._createHandler()},_handlerClasses:{TEXT:"dojox.wire.ml.RestHandler",XML:"dojox.wire.ml.XmlHandler",JSON:"dojox.wire.ml.JsonHandler","JSON-RPC":"dojo.rpc.JsonService"},_createHandler:function(){if(this.url){var t=this,a=e.xhrGet({url:this.url,handleAs:"json",sync:!0});a.addCallback(function(e){t.smd=e}),this.smd&&!this.serviceUrl&&(this.serviceUrl=this.smd.serviceUrl||this.smd.serviceURL)}var o=void 0;return this.handlerClass?o=i.wire._getClass(this.handlerClass):this.serviceType?(o=this._handlerClasses[this.serviceType],o&&e.isString(o)&&(o=i.wire._getClass(o),this._handlerClasses[this.serviceType]=o)):this.smd&&this.smd.serviceType&&(o=this._handlerClasses[this.smd.serviceType],o&&e.isString(o)&&(o=i.wire._getClass(o),this._handlerClasses[this.smd.serviceType]=o)),o?new o:null},callMethod:function(t,i){var a=new e.Deferred;return this.handler.bind(t,i,a,this.serviceUrl),a}})});//# sourceMappingURL=Service.js.map