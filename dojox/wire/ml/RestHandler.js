//>>built
define("dojox/wire/ml/RestHandler",["dojo","dijit","dojox","dojo/require!dojox/wire/_base,dojox/wire/ml/util"],function(e,t,i){e.provide("dojox.wire.ml.RestHandler"),e.require("dojox.wire._base"),e.require("dojox.wire.ml.util"),e.declare("dojox.wire.ml.RestHandler",null,{contentType:"text/plain",handleAs:"text",bind:function(t,i,a,r){t=t.toUpperCase();var o=this,n={url:this._getUrl(t,i,r),contentType:this.contentType,handleAs:this.handleAs,headers:this.headers,preventCache:this.preventCache},s=null;"POST"==t?(n.postData=this._getContent(t,i),s=e.rawXhrPost(n)):"PUT"==t?(n.putData=this._getContent(t,i),s=e.rawXhrPut(n)):s="DELETE"==t?e.xhrDelete(n):e.xhrGet(n),s.addCallbacks(function(e){a.callback(o._getResult(e))},function(e){a.errback(e)})},_getUrl:function(e,t,i){var a;if("GET"==e||"DELETE"==e?t.length>0&&(a=t[0]):t.length>1&&(a=t[1]),a){var r="";for(var o in a){var n=a[o];if(n){n=encodeURIComponent(n);var s="{"+o+"}",l=i.indexOf(s);l>=0?i=i.substring(0,l)+n+i.substring(l+s.length):(r&&(r+="&"),r+=o+"="+n)}}r&&(i+="?"+r)}return i},_getContent:function(e,t){return("POST"==e||"PUT"==e)&&t?t[0]:null},_getResult:function(e){return e}})});//# sourceMappingURL=RestHandler.js.map