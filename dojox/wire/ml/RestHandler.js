//>>built
define("dojox/wire/ml/RestHandler",["dojo","dijit","dojox","dojo/require!dojox/wire/_base,dojox/wire/ml/util"],function(e,t,i){e.provide("dojox.wire.ml.RestHandler"),e.require("dojox.wire._base"),e.require("dojox.wire.ml.util"),e.declare("dojox.wire.ml.RestHandler",null,{contentType:"text/plain",handleAs:"text",bind:function(t,i,a,o){t=t.toUpperCase();var n=this,r={url:this._getUrl(t,i,o),contentType:this.contentType,handleAs:this.handleAs,headers:this.headers,preventCache:this.preventCache},s=null;"POST"==t?(r.postData=this._getContent(t,i),s=e.rawXhrPost(r)):"PUT"==t?(r.putData=this._getContent(t,i),s=e.rawXhrPut(r)):s="DELETE"==t?e.xhrDelete(r):e.xhrGet(r),s.addCallbacks(function(e){a.callback(n._getResult(e))},function(e){a.errback(e)})},_getUrl:function(e,t,i){var a;if("GET"==e||"DELETE"==e?t.length>0&&(a=t[0]):t.length>1&&(a=t[1]),a){var o="";for(var n in a){var r=a[n];if(r){r=encodeURIComponent(r);var s="{"+n+"}",l=i.indexOf(s);l>=0?i=i.substring(0,l)+r+i.substring(l+s.length):(o&&(o+="&"),o+=n+"="+r)}}o&&(i+="?"+o)}return i},_getContent:function(e,t){return("POST"==e||"PUT"==e)&&t?t[0]:null},_getResult:function(e){return e}})});//# sourceMappingURL=RestHandler.js.map