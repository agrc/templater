//>>built
define("dojox/wire/ml/RestHandler",["dojo","dijit","dojox","dojo/require!dojox/wire/_base,dojox/wire/ml/util"],function(e,t,i){e.provide("dojox.wire.ml.RestHandler"),e.require("dojox.wire._base"),e.require("dojox.wire.ml.util"),e.declare("dojox.wire.ml.RestHandler",null,{contentType:"text/plain",handleAs:"text",bind:function(t,i,a,o){t=t.toUpperCase();var r=this,n={url:this._getUrl(t,i,o),contentType:this.contentType,handleAs:this.handleAs,headers:this.headers,preventCache:this.preventCache},s=null;"POST"==t?(n.postData=this._getContent(t,i),s=e.rawXhrPost(n)):"PUT"==t?(n.putData=this._getContent(t,i),s=e.rawXhrPut(n)):s="DELETE"==t?e.xhrDelete(n):e.xhrGet(n),s.addCallbacks(function(e){a.callback(r._getResult(e))},function(e){a.errback(e)})},_getUrl:function(e,t,i){var a;if("GET"==e||"DELETE"==e?t.length>0&&(a=t[0]):t.length>1&&(a=t[1]),a){var o="";for(var r in a){var n=a[r];if(n){n=encodeURIComponent(n);var s="{"+r+"}",d=i.indexOf(s);d>=0?i=i.substring(0,d)+n+i.substring(d+s.length):(o&&(o+="&"),o+=r+"="+n)}}o&&(i+="?"+o)}return i},_getContent:function(e,t){return("POST"==e||"PUT"==e)&&t?t[0]:null},_getResult:function(e){return e}})});//# sourceMappingURL=RestHandler.js.map