//>>built
define("dojox/wire/ml/Action",["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Container,dojox/wire/Wire,dojox/wire/ml/util"],function(e,t,i){e.provide("dojox.wire.ml.Action"),e.require("dijit._Widget"),e.require("dijit._Container"),e.require("dojox.wire.Wire"),e.require("dojox.wire.ml.util"),e.declare("dojox.wire.ml.Action",[t._Widget,t._Container],{trigger:"",triggerEvent:"",triggerTopic:"",postCreate:function(){this._connect()},_connect:function(){if(this.triggerEvent)if(this.trigger){var t=i.wire.ml._getValue(this.trigger);t&&(t[this.triggerEvent]||(t[this.triggerEvent]=function(){}),this._triggerHandle=e.connect(t,this.triggerEvent,this,"run"))}else{var o=this.triggerEvent.toLowerCase();if("onload"==o){var a=this;e.addOnLoad(function(){a._run.apply(a,arguments)})}}else this.triggerTopic&&(this._triggerHandle=e.subscribe(this.triggerTopic,this,"run"))},_disconnect:function(){this._triggerHandle&&(this.triggerTopic?e.unsubscribe(this.triggerTopic,this._triggerHandle):e.disconnect(this._triggerHandle))},run:function(){var e=this.getChildren();for(var t in e){var o=e[t];if(o instanceof i.wire.ml.ActionFilter&&!o.filter.apply(o,arguments))return}this._run.apply(this,arguments)},_run:function(){var e=this.getChildren();for(var t in e){var o=e[t];o instanceof i.wire.ml.Action&&o.run.apply(o,arguments)}},uninitialize:function(){return this._disconnect(),!0}}),e.declare("dojox.wire.ml.ActionFilter",t._Widget,{required:"",requiredValue:"",type:"",message:"",error:"",filter:function(){if(""===this.required)return!0;var e=i.wire.ml._getValue(this.required,arguments);if(""===this.requiredValue){if(e)return!0}else{var t=this.requiredValue;if(""!==this.type){var o=this.type.toLowerCase();"boolean"===o?t="false"!==t.toLowerCase():"number"===o&&(t=parseInt(t,10))}if(e===t)return!0}return this.message&&(this.error?i.wire.ml._setValue(this.error,this.message):alert(this.message)),!1}})});//# sourceMappingURL=Action.js.map