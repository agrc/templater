//>>built
define("dojox/drawing/util/common",["dojo","dojox/math/round"],function(e,t){var i={},a=0;return{radToDeg:function(e){return 180*e/Math.PI},degToRad:function(e){return e*Math.PI/180},angle:function(e,i){if(i){i/=180;var a=this.radians(e),r=Math.PI*i,o=t(a/r),n=o*r;return t(this.radToDeg(n))}return this.radToDeg(this.radians(e))},oppAngle:function(e){return(e+=180)>360?e-=360:e,e},radians:function(e){return Math.atan2(e.start.y-e.y,e.x-e.start.x)},length:function(e){return Math.sqrt(Math.pow(e.start.x-e.x,2)+Math.pow(e.start.y-e.y,2))},lineSub:function(e,t,i,a,r){var o=this.distance(this.argsToObj.apply(this,arguments));o=r>o?r:o;var n=(o-r)/o,d=e-(e-i)*n,s=t-(t-a)*n;return{x:d,y:s}},argsToObj:function(){var e=arguments;return e.length<4?e[0]:{start:{x:e[0],y:e[1]},x:e[2],y:e[3]}},distance:function(){var e=this.argsToObj.apply(this,arguments);return Math.abs(Math.sqrt(Math.pow(e.start.x-e.x,2)+Math.pow(e.start.y-e.y,2)))},slope:function(e,t){return e.x-t.x?(e.y-t.y)/(e.x-t.x):0},pointOnCircle:function(e,t,i,a){var r=a*Math.PI/180,o=i*Math.cos(r),n=i*Math.sin(r);return{x:e+o,y:t-n}},constrainAngle:function(e,t,i){var a=this.angle(e);if(a>=t&&i>=a)return e;var r=this.length(e),o=a>i?i:100>t-a?t:i;return this.pointOnCircle(e.start.x,e.start.y,r,o)},snapAngle:function(e,t){var i=this.radians(e),a=this.length(e),r=Math.PI*t,o=Math.round(i/r),n=o*r,d=this.radToDeg(n),s=this.pointOnCircle(e.start.x,e.start.y,a,d);return s},idSetStart:function(e){a=e},uid:function(e){return e=e||"shape",i[e]=void 0===i[e]?a:i[e]+1,e+i[e]},abbr:function(e){return e.substring(e.lastIndexOf(".")+1).charAt(0).toLowerCase()+e.substring(e.lastIndexOf(".")+2)},mixin:function(e,t){},objects:{},register:function(e){this.objects[e.id]=e},byId:function(e){return this.objects[e]},attr:function(t,i,a,r){if(!t)return!1;try{if(t.shape&&t.util&&(t=t.shape),!a&&"id"==i&&t.target){for(var o=t.target;o&&!e.attr(o,"id");)o=o.parentNode;return o&&e.attr(o,"id")}if(t.rawNode||t.target){var n=Array.prototype.slice.call(arguments);return n[0]=t.rawNode||t.target,e.attr.apply(e,n)}return e.attr(t,"id")}catch(d){return!1}}}});//# sourceMappingURL=common.js.map