//>>built
define("dojox/drawing/stencil/Path",["dojo","dojo/_base/array","../util/oo","./_Base","../manager/_registry"],function(e,t,a,i,r){var o=a.declare(i,function(e){},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:.5},_create:function(e,a){if(this.remove(this[e]),this.points.length){if("svg"==dojox.gfx.renderer){var i=[];t.forEach(this.points,function(e,t){if(!e.skip)if(0==t)i.push("M "+e.x+" "+e.y);else{var a=(e.t||"")+" ";void 0===e.x?i.push(a):i.push(a+e.x+" "+e.y)}},this),this.closePath&&i.push("Z"),this.stringPath=i.join(" "),this[e]=this.container.createPath(i.join(" ")).setStroke(a),this.closePath&&this[e].setFill(a.fill)}else this[e]=this.container.createPath({}).setStroke(a),this.closePath&&this[e].setFill(a.fill),t.forEach(this.points,function(t,a){t.skip||(0==a||"M"==t.t?this[e].moveTo(t.x,t.y):"Z"==t.t?this.closePath&&this[e].closePath():this[e].lineTo(t.x,t.y))},this),this.closePath&&this[e].closePath();this._setNodeAtts(this[e])}},render:function(){this.onBeforeRender(this),this.renderHit&&this._create("hit",this.style.currentHit),this._create("shape",this.style.current)},getBounds:function(e){var a=1e4,i=1e4,r=0,o=0;return t.forEach(this.points,function(e){void 0===e.x||isNaN(e.x)||(a=Math.min(a,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y))}),{x1:a,y1:i,x2:r,y2:o,x:a,y:i,w:r-a,h:o-i}},checkClosePoint:function(e,t,a){var i=this.util.distance(e.x,e.y,t.x,t.y);if(this.points.length>1)if(i<this.closeRadius&&!this.closeGuide&&!a){var r={cx:e.x,cy:e.y,rx:this.closeRadius,ry:this.closeRadius};this.closeGuide=this.container.createEllipse(r).setFill(this.closeColor)}else(a||i>this.closeRadius&&this.closeGuide)&&(this.remove(this.closeGuide),this.closeGuide=null);return i<this.closeRadius}});return e.setObject("dojox.drawing.stencil.Path",o),r.register({name:"dojox.drawing.stencil.Path"},"stencil"),o});//# sourceMappingURL=Path.js.map