//>>built
define("dojox/drawing/stencil/Path",["dojo","dojo/_base/array","../util/oo","./_Base","../manager/_registry"],function(e,t,i,a,r){var o=i.declare(a,function(e){},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:.5},_create:function(e,i){if(this.remove(this[e]),this.points.length){if("svg"==dojox.gfx.renderer){var a=[];t.forEach(this.points,function(e,t){if(!e.skip)if(0==t)a.push("M "+e.x+" "+e.y);else{var i=(e.t||"")+" ";void 0===e.x?a.push(i):a.push(i+e.x+" "+e.y)}},this),this.closePath&&a.push("Z"),this.stringPath=a.join(" "),this[e]=this.container.createPath(a.join(" ")).setStroke(i),this.closePath&&this[e].setFill(i.fill)}else this[e]=this.container.createPath({}).setStroke(i),this.closePath&&this[e].setFill(i.fill),t.forEach(this.points,function(t,i){t.skip||(0==i||"M"==t.t?this[e].moveTo(t.x,t.y):"Z"==t.t?this.closePath&&this[e].closePath():this[e].lineTo(t.x,t.y))},this),this.closePath&&this[e].closePath();this._setNodeAtts(this[e])}},render:function(){this.onBeforeRender(this),this.renderHit&&this._create("hit",this.style.currentHit),this._create("shape",this.style.current)},getBounds:function(e){var i=1e4,a=1e4,r=0,o=0;return t.forEach(this.points,function(e){void 0===e.x||isNaN(e.x)||(i=Math.min(i,e.x),a=Math.min(a,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y))}),{x1:i,y1:a,x2:r,y2:o,x:i,y:a,w:r-i,h:o-a}},checkClosePoint:function(e,t,i){var a=this.util.distance(e.x,e.y,t.x,t.y);if(this.points.length>1)if(a<this.closeRadius&&!this.closeGuide&&!i){var r={cx:e.x,cy:e.y,rx:this.closeRadius,ry:this.closeRadius};this.closeGuide=this.container.createEllipse(r).setFill(this.closeColor)}else(i||a>this.closeRadius&&this.closeGuide)&&(this.remove(this.closeGuide),this.closeGuide=null);return a<this.closeRadius}});return e.setObject("dojox.drawing.stencil.Path",o),r.register({name:"dojox.drawing.stencil.Path"},"stencil"),o});//# sourceMappingURL=Path.js.map