//>>built
define("dojox/drawing/stencil/Path",["dojo","dojo/_base/array","../util/oo","./_Base","../manager/_registry"],function(e,t,r,i,a){var n=r.declare(i,function(e){},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:.5},_create:function(e,r){if(this.remove(this[e]),this.points.length){if("svg"==dojox.gfx.renderer){var i=[];t.forEach(this.points,function(e,t){if(!e.skip)if(0==t)i.push("M "+e.x+" "+e.y);else{var r=(e.t||"")+" ";void 0===e.x?i.push(r):i.push(r+e.x+" "+e.y)}},this),this.closePath&&i.push("Z"),this.stringPath=i.join(" "),this[e]=this.container.createPath(i.join(" ")).setStroke(r),this.closePath&&this[e].setFill(r.fill)}else this[e]=this.container.createPath({}).setStroke(r),this.closePath&&this[e].setFill(r.fill),t.forEach(this.points,function(t,r){t.skip||(0==r||"M"==t.t?this[e].moveTo(t.x,t.y):"Z"==t.t?this.closePath&&this[e].closePath():this[e].lineTo(t.x,t.y))},this),this.closePath&&this[e].closePath();this._setNodeAtts(this[e])}},render:function(){this.onBeforeRender(this),this.renderHit&&this._create("hit",this.style.currentHit),this._create("shape",this.style.current)},getBounds:function(e){var r=1e4,i=1e4,a=0,n=0;return t.forEach(this.points,function(e){void 0===e.x||isNaN(e.x)||(r=Math.min(r,e.x),i=Math.min(i,e.y),a=Math.max(a,e.x),n=Math.max(n,e.y))}),{x1:r,y1:i,x2:a,y2:n,x:r,y:i,w:a-r,h:n-i}},checkClosePoint:function(e,t,r){var i=this.util.distance(e.x,e.y,t.x,t.y);if(this.points.length>1)if(i<this.closeRadius&&!this.closeGuide&&!r){var a={cx:e.x,cy:e.y,rx:this.closeRadius,ry:this.closeRadius};this.closeGuide=this.container.createEllipse(a).setFill(this.closeColor)}else(r||i>this.closeRadius&&this.closeGuide)&&(this.remove(this.closeGuide),this.closeGuide=null);return i<this.closeRadius}});return e.setObject("dojox.drawing.stencil.Path",n),a.register({name:"dojox.drawing.stencil.Path"},"stencil"),n});//# sourceMappingURL=Path.js.map