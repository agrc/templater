//>>built
define("dojox/drawing/stencil/Path",["dojo","dojo/_base/array","../util/oo","./_Base","../manager/_registry"],function(e,t,i,r,a){var n=i.declare(r,function(e){},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:.5},_create:function(e,i){if(this.remove(this[e]),this.points.length){if("svg"==dojox.gfx.renderer){var r=[];t.forEach(this.points,function(e,t){if(!e.skip)if(0==t)r.push("M "+e.x+" "+e.y);else{var i=(e.t||"")+" ";void 0===e.x?r.push(i):r.push(i+e.x+" "+e.y)}},this),this.closePath&&r.push("Z"),this.stringPath=r.join(" "),this[e]=this.container.createPath(r.join(" ")).setStroke(i),this.closePath&&this[e].setFill(i.fill)}else this[e]=this.container.createPath({}).setStroke(i),this.closePath&&this[e].setFill(i.fill),t.forEach(this.points,function(t,i){t.skip||(0==i||"M"==t.t?this[e].moveTo(t.x,t.y):"Z"==t.t?this.closePath&&this[e].closePath():this[e].lineTo(t.x,t.y))},this),this.closePath&&this[e].closePath();this._setNodeAtts(this[e])}},render:function(){this.onBeforeRender(this),this.renderHit&&this._create("hit",this.style.currentHit),this._create("shape",this.style.current)},getBounds:function(e){var i=1e4,r=1e4,a=0,n=0;return t.forEach(this.points,function(e){void 0===e.x||isNaN(e.x)||(i=Math.min(i,e.x),r=Math.min(r,e.y),a=Math.max(a,e.x),n=Math.max(n,e.y))}),{x1:i,y1:r,x2:a,y2:n,x:i,y:r,w:a-i,h:n-r}},checkClosePoint:function(e,t,i){var r=this.util.distance(e.x,e.y,t.x,t.y);if(this.points.length>1)if(r<this.closeRadius&&!this.closeGuide&&!i){var a={cx:e.x,cy:e.y,rx:this.closeRadius,ry:this.closeRadius};this.closeGuide=this.container.createEllipse(a).setFill(this.closeColor)}else(i||r>this.closeRadius&&this.closeGuide)&&(this.remove(this.closeGuide),this.closeGuide=null);return r<this.closeRadius}});return e.setObject("dojox.drawing.stencil.Path",n),a.register({name:"dojox.drawing.stencil.Path"},"stencil"),n});//# sourceMappingURL=Path.js.map