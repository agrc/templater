//>>built
define("dojox/drawing/annotations/Label",["exports","dojo/_base/lang","../util/oo","../stencil/Text"],function(e,t,a,i){e.Label=a.declare(i,function(e){this.master=e.stencil,this.labelPosition=e.labelPosition||"BR",t.isFunction(this.labelPosition)&&(this.setLabel=this.setLabelCustom),this.setLabel(e.text||""),this.connect(this.master,"onTransform",this,"setLabel"),this.connect(this.master,"destroy",this,"destroy"),this.style.labelSameColor&&this.connect(this.master,"attr",this,"beforeAttr")},{_align:"start",drawingType:"label",setLabelCustom:function(e){var a=t.hitch(this.master,this.labelPosition)();this.setData({x:a.x,y:a.y,width:a.w||this.style.text.minWidth,height:a.h||this._lineHeight}),e&&!e.split&&(e=this.getText()),this.render(this.typesetter(e))},setLabel:function(e){var t,a,i=this.master.getBounds();a=/B/.test(this.labelPosition)?i.y2-this._lineHeight:i.y1,/R/.test(this.labelPosition)?t=i.x2:(a=i.y1,this._align="end"),!this.labelWidth||e&&e.split&&e!=this.getText()?(this.setData({x:t,y:a,height:this._lineHeight,width:this.style.text.minWidth}),this.labelWidth=this.style.text.minWidth,this.render(this.typesetter(e))):(this.setData({x:t,y:a,height:this.data.height,width:this.data.width}),this.render())},beforeAttr:function(e,t){if(void 0!==t){var a=e;e={},e[a]=t}delete e.x,delete e.y,delete e.width,delete e.height,this.attr(e),!this.created&&this.render()}})});//# sourceMappingURL=Label.js.map