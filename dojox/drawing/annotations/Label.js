//>>built
define("dojox/drawing/annotations/Label",["exports","dojo/_base/lang","../util/oo","../stencil/Text"],function(e,t,i,a){e.Label=i.declare(a,function(e){this.master=e.stencil,this.labelPosition=e.labelPosition||"BR",t.isFunction(this.labelPosition)&&(this.setLabel=this.setLabelCustom),this.setLabel(e.text||""),this.connect(this.master,"onTransform",this,"setLabel"),this.connect(this.master,"destroy",this,"destroy"),this.style.labelSameColor&&this.connect(this.master,"attr",this,"beforeAttr")},{_align:"start",drawingType:"label",setLabelCustom:function(e){var i=t.hitch(this.master,this.labelPosition)();this.setData({x:i.x,y:i.y,width:i.w||this.style.text.minWidth,height:i.h||this._lineHeight}),e&&!e.split&&(e=this.getText()),this.render(this.typesetter(e))},setLabel:function(e){var t,i,a=this.master.getBounds();i=/B/.test(this.labelPosition)?a.y2-this._lineHeight:a.y1,/R/.test(this.labelPosition)?t=a.x2:(i=a.y1,this._align="end"),!this.labelWidth||e&&e.split&&e!=this.getText()?(this.setData({x:t,y:i,height:this._lineHeight,width:this.style.text.minWidth}),this.labelWidth=this.style.text.minWidth,this.render(this.typesetter(e))):(this.setData({x:t,y:i,height:this.data.height,width:this.data.width}),this.render())},beforeAttr:function(e,t){if(void 0!==t){var i=e;e={},e[i]=t}delete e.x,delete e.y,delete e.width,delete e.height,this.attr(e),!this.created&&this.render()}})});//# sourceMappingURL=Label.js.map