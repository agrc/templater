//>>built
define("dojox/drawing/tools/Pencil",["dojo/_base/lang","../util/oo","../manager/_registry","../stencil/Path"],function(e,t,a,i){var r=t.declare(i,function(){this._started=!1},{draws:!0,minDist:15,onDown:function(e){this._started=!0;var t={x:e.x,y:e.y};this.points=[t],this.lastPoint=t,this.revertRenderHit=this.renderHit,this.renderHit=!1,this.closePath=!1},onDrag:function(e){if(this._started&&!(this.minDist>this.util.distance(e.x,e.y,this.lastPoint.x,this.lastPoint.y))){var t={x:e.x,y:e.y};this.points.push(t),this.render(),this.checkClosePoint(this.points[0],e),this.lastPoint=t}},onUp:function(e){if(this._started){if(!this.points||this.points.length<2)return this._started=!1,void(this.points=[]);var t=this.getBounds();if(t.w<this.minimumSize&&t.h<this.minimumSize)return this.remove(this.hit,this.shape,this.closeGuide),this._started=!1,void this.setPoints([]);this.checkClosePoint(this.points[0],e,!0)&&(this.closePath=!0),this.renderHit=this.revertRenderHit,this.renderedOnce=!0,this.render(),this.onRender(this)}}});return e.setObject("dojox.drawing.tools.Pencil",r),r.setup={name:"dojox.drawing.tools.Pencil",tooltip:"Pencil Tool",iconClass:"iconLine"},a.register(r.setup,"tool"),r});//# sourceMappingURL=Pencil.js.map