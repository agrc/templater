//>>built
define("dojox/drawing/manager/Undo",["dojo","../util/oo"],function(e,t){return t.declare(function(t){this.keys=t.keys,this.undostack=[],this.redostack=[],e.connect(this.keys,"onKeyDown",this,"onKeyDown")},{onKeyDown:function(e){(e.cmmd||e.ctrl)&&(90!=e.keyCode||e.shift?(90==e.keyCode&&e.shift||89==e.keyCode)&&this.redo():this.undo())},add:function(t){t.args=e.mixin({},t.args),this.undostack.push(t)},apply:function(t,a,i){e.hitch(t,a)(i)},undo:function(){var e=this.undostack.pop();e&&(e.before(),this.redostack.push(e))},redo:function(){var e=this.redostack.pop();e&&(e.after?e.after():e.before(),this.undostack.push(e))}})});//# sourceMappingURL=Undo.js.map