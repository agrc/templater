{"version":3,"sources":["Stencil.js.uncompressed.js"],"names":["define","dojo","oo","defaults","surface","declare","options","this","canvas","undo","mouse","keys","anchors","stencils","selectedStencils","_mouseHandle","register","connect","_dragBegun","_wasDragged","_secondClick","_isBusy","setRecentStencil","stencil","recent","getRecentStencil","isText","editMode","deleteEmptyCreate","getText","destroy","id","execText","_text","selectItem","deleteEmptyModify","deleteItem","selectOnExec","isSelected","deselectItem","unregister","selected","onDeselect","onArrow","evt","hasSelected","saveThrottledState","group","applyTransform","dx","x","dy","y","_throttleVrl","_throttle","throttleTime","_lastmxx","_lastmxy","saveMoveState","mx","getTransform","add","before","hitch","clearTimeout","clearInterval","setTimeout","unDelete","s","render","onSelect","onDelete","noundo","after","withSelected","m","remove","sids","push","deselect","forEach","removeAll","selectAll","setSelectionGroup","removeShape","createGroup","setTransform","container","select","setConstraint","t","Infinity","l","o","getBounds","Math","min","y1","x1","constrain","keepObject","idOrItem","moveToFront","onLabelDoubleClick","obj","onStencilDoubleClick","edit","onAnchorUp","onStencilDown","meta","isMac","cmmd","_offx","_offy","orgx","orgy","onLabelDown","onStencilUp","onLabelUp","onStencilDrag","last","c","mz","marginZero","onBeginDrag","onLabelDrag","onDragEnd","onDown","onStencilOver","style","onStencilOut","exporter","items","enabled","listStencils","toSelected","func","args","Array","prototype","slice","call","arguments","splice","item","apply","f","withUnselected","withStencils","ln"],"mappings":"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","file":"Stencil.js.uncompressed.js"}