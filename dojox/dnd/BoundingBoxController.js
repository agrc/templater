//>>built
define("dojox/dnd/BoundingBoxController",["dojo","dojox"],function(e,t){return e.declare("dojox.dnd.BoundingBoxController",null,{_startX:null,_startY:null,_endX:null,_endY:null,constructor:function(t,i){this.events=[e.connect(e.doc,"onmousedown",this,"_onMouseDown"),e.connect(e.doc,"onmouseup",this,"_onMouseUp"),e.connect(e.doc,"onscroll",this,"_finishSelecting")],this.subscriptions=[e.subscribe("/dojox/bounding/cancel",this,"_finishSelecting")],e.forEach(t,function(t){t.selectByBBox&&this.subscriptions.push(e.subscribe("/dojox/dnd/bounding",t,"selectByBBox"))},this),this.domNode=e.byId(i),e.style(this.domNode,{position:"absolute",display:"none"})},destroy:function(){e.forEach(this.events,e.disconnect),e.forEach(this.subscriptions,e.unsubscribe),this.domNode=null},shouldStartDrawingBox:function(e){return!0},boundingBoxIsViable:function(e){return!0},_onMouseDown:function(t){this.shouldStartDrawingBox(t)&&e.mouseButtons.isLeft(t)&&(null==this._startX&&(this._startX=t.clientX,this._startY=t.clientY),this.events.push(e.connect(e.doc,"onmousemove",this,"_onMouseMove")))},_onMouseMove:function(e){this._endX=e.clientX,this._endY=e.clientY,this._drawBoundingBox()},_onMouseUp:function(t){null!==this._endX&&this.boundingBoxIsViable(t)&&e.publish("/dojox/dnd/bounding",[this._startX,this._startY,this._endX,this._endY]),this._finishSelecting()},_finishSelecting:function(){null!==this._startX&&(e.disconnect(this.events.pop()),e.style(this.domNode,"display","none"),this._startX=null,this._endX=null)},_drawBoundingBox:function(){e.style(this.domNode,{left:Math.min(this._startX,this._endX)+"px",top:Math.min(this._startY,this._endY)+"px",width:Math.abs(this._startX-this._endX)+"px",height:Math.abs(this._startY-this._endY)+"px",display:""})}})});//# sourceMappingURL=BoundingBoxController.js.map