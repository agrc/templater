//>>built
define("dojox/embed/Quicktime",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/domReady!"],function(e,t,a,i,r,n){function o(a){return a=e.mixin(t.clone(m),a||{}),"path"in a||a.testing?(a.testing&&(a.path=""),"id"in a||(a.id=c+h++),a):null}function s(){setTimeout(function(){var e=document[v.id],t=r.byId(p);if(e)try{var a=e.GetQuickTimeVersion().split(".");g.version={major:parseInt(a[0]||0),minor:parseInt(a[1]||0),rev:parseInt(a[2]||0)},(g.supported=a[0])&&g.onInitialize(),y=0}catch(i){y--&&s()}!y&&t&&n.destroy(t)},20)}var l,d,u={major:0,minor:0,rev:0},m={width:320,height:240,redirect:null},c="dojox-embed-quicktime-",h=0,f='This content requires the <a href="http://www.apple.com/quicktime/download/" title="Download and install QuickTime.">QuickTime plugin</a>.';e.getObject("dojox.embed",!0);a("ie")?(d=function(){function e(e){return a.substring(e,e+1)-0||0}try{var t=new ActiveXObject("QuickTimeCheckObject.QuickTimeCheck.1");if(void 0!==t){var a=t.QuickTimeVersion.toString(16);return u={major:e(0),minor:e(1),rev:e(2)},t.IsQuickTimeAvailable(0)}}catch(i){}return!1}(),l=function(e){if(!d)return{id:null,markup:f};if(e=o(e),!e)return null;var t='<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0" id="'+e.id+'" width="'+e.width+'" height="'+e.height+'"><param name="src" value="'+e.path+'"/>';for(var a in e.params||{})t+='<param name="'+a+'" value="'+e.params[a]+'"/>';return t+="</object>",{id:e.id,markup:t}}):(d=function(){for(var e=0,t=navigator.plugins,a=t.length;a>e;e++)if(t[e].name.indexOf("QuickTime")>-1)return!0;return!1}(),l=function(e){if(!d)return{id:null,markup:f};if(e=o(e),!e)return null;var t='<embed type="video/quicktime" src="'+e.path+'" id="'+e.id+'" name="'+e.id+'" pluginspage="www.apple.com/quicktime/download" enablejavascript="true" width="'+e.width+'" height="'+e.height+'"';for(var a in e.params||{})t+=" "+a+'="'+e.params[a]+'"';return t+="></embed>",{id:e.id,markup:t}});var g=function(e,t){return g.place(e,t)};if(e.mixin(g,{minSupported:6,available:d,supported:d,version:u,initialized:!1,onInitialize:function(){g.initialized=!0},place:function(e,t){var o=l(e);return(t=r.byId(t))||(t=n.create("div",{id:o.id+"-container"},i.body())),o&&(t.innerHTML=o.markup,o.id)?a("ie")?dom.byId(o.id):document[o.id]:null}}),a("ie"))a("ie")&&d&&setTimeout(function(){g.onInitialize()},10);else{var p="-qt-version-test",v=l({testing:!0,width:4,height:4}),y=10,k="-1000px",b="1px";n.create("div",{innerHTML:v.markup,id:p,style:{top:k,left:0,width:b,height:b,overflow:"hidden",position:"absolute"}},i.body()),s()}return t.setObject("dojox.embed.Quicktime",g),g});//# sourceMappingURL=Quicktime.js.map