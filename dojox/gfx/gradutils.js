//>>built
define("dojox/gfx/gradutils",["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(e,t,a,i){function r(e,t){if(e<=0)return t[0].color;var a=t.length;if(e>=1)return t[a-1].color;for(var r=0;r<a;++r){var o=t[r];if(o.offset>=e){if(r){var n=t[r-1];return i.blendColors(new i(n.color),new i(o.color),(e-n.offset)/(o.offset-n.offset))}return o.color}}return t[a-1].color}var o=e.gradutils={};return o.getColor=function(e,t){var o;if(e){switch(e.type){case"linear":var n=Math.atan2(e.y2-e.y1,e.x2-e.x1),s=a.rotate(-n),l=a.project(e.x2-e.x1,e.y2-e.y1),d=a.multiplyPoint(l,t),h=a.multiplyPoint(l,e.x1,e.y1),u=a.multiplyPoint(l,e.x2,e.y2),m=a.multiplyPoint(s,u.x-h.x,u.y-h.y).x;o=a.multiplyPoint(s,d.x-h.x,d.y-h.y).x/m;break;case"radial":var c=t.x-e.cx,f=t.y-e.cy;o=Math.sqrt(c*c+f*f)/e.r}return r(o,e.colors)}return new i(e||[0,0,0,0])},o.reverse=function(e){if(e)switch(e.type){case"linear":case"radial":if(e=t.delegate(e),e.colors){for(var a,i=e.colors,r=i.length,o=0,n=e.colors=new Array(i.length);o<r;++o)a=i[o],n[o]={offset:1-a.offset,color:a.color};n.sort(function(e,t){return e.offset-t.offset})}}return e},o});//# sourceMappingURL=gradutils.js.map