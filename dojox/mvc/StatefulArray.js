//>>built
define("dojox/mvc/StatefulArray",["dojo/_base/lang","dojo/Stateful"],function(e,t){function i(e){return e._watchElementCallbacks&&e._watchElementCallbacks(),e}var a=function(o){var r=e._toArray(o||[]),n=a;return r.constructor=n,e.mixin(r,{pop:function(){return this.splice(this.get("length")-1,1)[0]},push:function(){return this.splice.apply(this,[this.get("length"),0].concat(e._toArray(arguments))),this.get("length")},reverse:function(){return i([].reverse.apply(this,e._toArray(arguments)))},shift:function(){return this.splice(0,1)[0]},sort:function(){return i([].sort.apply(this,e._toArray(arguments)))},splice:function(t,i){var a=this.get("length");t+=0>t?a:0;var o=Math.min(t,a),r=this.slice(t,t+i),n=e._toArray(arguments).slice(2);[].splice.apply(this,[t,i].concat(new Array(n.length)));for(var s=0;s<n.length;s++)this[o+s]=n[s];return this._watchElementCallbacks&&this._watchElementCallbacks(t,r,n),this._watchCallbacks&&this._watchCallbacks("length",a,a-r.length+n.length),r},unshift:function(){return this.splice.apply(this,[0,0].concat(e._toArray(arguments))),this.get("length")},concat:function(e){return new a([].concat.apply(this,arguments))},join:function(e){for(var t=[],i=this.get("length"),a=0;i>a;a++)t.push(this.get(a));return t.join(e)},slice:function(e,t){var i=this.get("length");e+=0>e?i:0,t=(void 0===t?i:t)+(0>t?i:0);for(var o=[],r=e||0;r<Math.min(t,this.get("length"));r++)o.push(this.get(r));return new a(o)},watchElements:function(e){var t=this._watchElementCallbacks,i=this;t||(t=this._watchElementCallbacks=function(e,a,o){for(var r=[].concat(t.list),n=0;n<r.length;n++)r[n].call(i,e,a,o)},t.list=[]),t.list.push(e);var a={};return a.unwatch=a.remove=function(){for(var i=t.list,a=0;a<i.length;a++)if(i[a]==e){i.splice(a,1);break}},a}},t.prototype,{set:function(e,i){if("length"==e){var a=this.get("length");return i>a?this.splice.apply(this,[a,0].concat(new Array(i-a))):a>i&&this.splice.apply(this,[i,a-i]),this}var o=this.length;return t.prototype.set.call(this,e,i),o!=this.length&&t.prototype.set.call(this,"length",this.length),this},isInstanceOf:function(e){return t.prototype.isInstanceOf.apply(this,arguments)||e==a}})};return a._meta={bases:[t]},e.setObject("dojox.mvc.StatefulArray",a)});//# sourceMappingURL=StatefulArray.js.map