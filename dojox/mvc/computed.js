//>>built
define("dojox/mvc/computed",["dojo/_base/array","dojo/_base/lang","dojo/has"],function(e,t,i){"use strict";function a(e,i,a){var o;return e&&t.isFunction(e.watch)&&(o=e.watch(i,function(e,t,i){s(t,i)||a(i,t)})),{remove:function(){o&&o.remove()}}}function o(t){return e.map(t,function(t){return t.each?e.map(t.target,function(e){return e.get?e.get(t.targetProp):e[t.targetProp]}):t.target.get?t.target.get(t.targetProp):t.target[t.targetProp]})}function r(e){for(var t=null;t=e.shift();)t.remove()}i.add("object-is-api",t.isFunction(Object.is));var n=Array.prototype,s=i("object-is-api")?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!==e&&t!==t};return function(i,s,l){function d(e){var a,o;try{a=l.apply(i,e),o=!0}catch(e){}o&&(t.isFunction(i.set)?i.set(s,a):i[s]=a)}if(null==i)throw new Error("Computed property cannot be applied to null.");if("*"===s)throw new Error("Wildcard property cannot be used for computed properties.");var h=n.slice.call(arguments,3),c=e.map(h,function(i,s){function l(e){return a(e,i.targetProp,function(){d(o(h))})}if("*"===i.targetProp)throw new Error("Wildcard property cannot be used for computed properties.");if(i.each){var c,u=e.map(i.target,l);return i.target&&t.isFunction(i.target.watchElements)&&(c=i.target.watchElements(function(t,i,a){r(n.splice.apply(u,[t,i.length].concat(e.map(a,l)))),d(o(h))})),{remove:function(){c&&c.remove(),r(u)}}}return a(i.target,i.targetProp,function(e){var t=[];n.push.apply(t,o(h.slice(0,s))),t.push(e),n.push.apply(t,o(h.slice(s+1))),d(t)})});return d(o(h)),{remove:function(){r(c)}}}});//# sourceMappingURL=computed.js.map