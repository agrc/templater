//>>built
define("dojox/mvc/computed",["dojo/_base/array","dojo/_base/lang","dojo/has"],function(e,t,i){"use strict";function a(e,i,a){var r;return e&&t.isFunction(e.watch)&&(r=e.watch(i,function(e,t,i){s(t,i)||a(i,t)})),{remove:function(){r&&r.remove()}}}function r(t){return e.map(t,function(t){return t.each?e.map(t.target,function(e){return e.get?e.get(t.targetProp):e[t.targetProp]}):t.target.get?t.target.get(t.targetProp):t.target[t.targetProp]})}function o(e){for(var t=null;t=e.shift();)t.remove()}i.add("object-is-api",t.isFunction(Object.is));var n=Array.prototype,s=i("object-is-api")?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!==e&&t!==t};return function(i,s,l){function d(e){var a,r;try{a=l.apply(i,e),r=!0}catch(e){}r&&(t.isFunction(i.set)?i.set(s,a):i[s]=a)}if(null==i)throw new Error("Computed property cannot be applied to null.");if("*"===s)throw new Error("Wildcard property cannot be used for computed properties.");var h=n.slice.call(arguments,3),u=e.map(h,function(i,s){function l(e){return a(e,i.targetProp,function(){d(r(h))})}if("*"===i.targetProp)throw new Error("Wildcard property cannot be used for computed properties.");if(i.each){var u,c=e.map(i.target,l);return i.target&&t.isFunction(i.target.watchElements)&&(u=i.target.watchElements(function(t,i,a){o(n.splice.apply(c,[t,i.length].concat(e.map(a,l)))),d(r(h))})),{remove:function(){u&&u.remove(),o(c)}}}return a(i.target,i.targetProp,function(e){var t=[];n.push.apply(t,r(h.slice(0,s))),t.push(e),n.push.apply(t,r(h.slice(s+1))),d(t)})});return d(r(h)),{remove:function(){o(u)}}}});//# sourceMappingURL=computed.js.map