//>>built
define("dojox/fx/ext-dojo/complex",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/Color","dojo/_base/fx","dojo/fx"],function(e,t,a,i,r,o,n,d){t.getObject("dojox.fx.ext-dojo.complex",!0);var l=n.animateProperty;return e.animateProperty=n.animateProperty=function(t){var a=l(t);return r.connect(a,"beforeBegin",function(){a.curve.getValue=function(t){var a={};for(var i in this._properties){var r=this._properties[i],o=r.start;o instanceof e.Color?a[i]=e.blendColors(o,r.end,t,r.tempColor).toCss():o instanceof dojox.fx._Complex?a[i]=o.getValue(t):e.isArray(o)||(a[i]=(r.end-o)*t+o+("opacity"!=i?r.units||"px":0))}return a};for(var t in this.properties){var i=this.properties[t];"string"==typeof i.start&&/\(/.test(i.start)&&(this.curve._properties[t].start=new dojox.fx._Complex(i))}}),a},i("dojox.fx._Complex",null,{PROP:/\([\w|,|+|\-|#|\.|\s]*\)/g,constructor:function(e){var t=e.start.match(this.PROP),i=e.end.match(this.PROP),r=a.map(t,this.getProps,this),o=a.map(i,this.getProps,this);this._properties={},this.strProp=e.start,a.forEach(r,function(e,t){a.forEach(e,function(e,a){this.strProp=this.strProp.replace(e,"PROP_"+t+a),this._properties["PROP_"+t+a]=this.makePropObject(e,o[t][a])},this)},this)},getValue:function(e){var t,a=this.strProp;for(var i in this._properties){var r,n=this._properties[i];"isColor"==n.units?(r=o.blendColors(n.beg,n.end,e).toCss(!1),t=""):(r=(n.end-n.beg)*e+n.beg,t=n.units),a=a.replace(i,r+t)}return a},makePropObject:function(e,t){var a=this.getNumAndUnits(e),i=this.getNumAndUnits(t);return{beg:a.num,end:i.num,units:a.units}},getProps:function(e){e=e.substring(1,e.length-1);var t;return/,/.test(e)?(e=e.replace(/\s/g,""),t=e.split(",")):(e=e.replace(/\s{2,}/g," "),t=e.split(" ")),t},getNumAndUnits:function(e){if(!e)return{};if(/#/.test(e))return{num:new o(e),units:"isColor"};var t={num:parseFloat(/-*[\d\.\d|\d]{1,}/.exec(e).join(""))};return t.units=/[a-z]{1,}/.exec(e),t.units=t.units&&t.units.length?t.units.join(""):"",t}})});//# sourceMappingURL=complex.js.map