//>>built
define("dojox/editor/plugins/InsertEntity",["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/TooltipDialog","dijit/form/DropDownButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojox/html/entities","dojox/editor/plugins/EntityPalette","dojo/i18n!dojox/editor/plugins/nls/InsertEntity"],function(e,t,a,i){var r=e.declare("dojox.editor.plugins.InsertEntity",i,{iconClassPrefix:"dijitAdditionalEditorIcon",_initButton:function(){this.dropDown=new a.editor.plugins.EntityPalette({showCode:this.showCode,showEntityName:this.showEntityName}),this.connect(this.dropDown,"onChange",function(e){this.button.closeDropDown(),this.editor.focus(),this.editor.execCommand("inserthtml",e)});var i=e.i18n.getLocalization("dojox.editor.plugins","InsertEntity");this.button=new t.form.DropDownButton({label:i.insertEntity,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"InsertEntity",tabIndex:"-1",dropDown:this.dropDown})},updateState:function(){this.button.set("disabled",this.get("disabled"))},setEditor:function(t){this.editor=t,this._initButton(),this.editor.addKeyHandler("s",!0,!0,e.hitch(this,function(){this.button.openDropDown(),this.dropDown.focus()})),t.contentPreFilters.push(this._preFilterEntities),t.contentPostFilters.push(this._postFilterEntities)},_preFilterEntities:function(e){return a.html.entities.decode(e,a.html.entities.latin)},_postFilterEntities:function(e){return a.html.entities.encode(e,a.html.entities.latin)}});return e.subscribe(t._scopeName+".Editor.getPlugin",null,function(e){if(!e.plugin){"insertentity"===(e.args.name?e.args.name.toLowerCase():"")&&(e.plugin=new r({showCode:"showCode"in e.args&&e.args.showCode,showEntityName:"showEntityName"in e.args&&e.args.showEntityName}))}}),r});//# sourceMappingURL=InsertEntity.js.map