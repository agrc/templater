//>>built
define("dojox/editor/plugins/ShowBlockNodes",["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/form/Button","dijit/form/ToggleButton","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/i18n!dojox/editor/plugins/nls/ShowBlockNodes"],function(e,t,a,i){var r=e.declare("dojox.editor.plugins.ShowBlockNodes",i,{useDefaultCommand:!1,iconClassPrefix:"dijitAdditionalEditorIcon",_styled:!1,_initButton:function(){var a=e.i18n.getLocalization("dojox.editor.plugins","ShowBlockNodes");this.button=new t.form.ToggleButton({label:a.showBlockNodes,showLabel:!1,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"ShowBlockNodes",tabIndex:"-1",onChange:e.hitch(this,"_showBlocks")}),this.editor.addKeyHandler(e.keys.F9,!0,!0,e.hitch(this,this.toggle))},updateState:function(){this.button.set("disabled",this.get("disabled"))},setEditor:function(e){this.editor=e,this._initButton()},toggle:function(){this.button.set("checked",!this.button.get("checked"))},_showBlocks:function(t){var i=this.editor.document;if(!this._styled)try{this._styled=!0;var r="",o=["div","p","ul","ol","table","h1","h2","h3","h4","h5","h6","pre","dir","center","blockquote","form","fieldset","address","object","pre","hr","ins","noscript","li","map","button","dd","dt"],n="@media screen {\n	.editorShowBlocks {TAG} {\n		background-image: url({MODURL}/images/blockelems/{TAG}.gif);\n		background-repeat: no-repeat;\n		background-position: top left;\n		border-width: 1px;\n		border-style: dashed;\n		border-color: #D0D0D0;\n		padding-top: 15px;\n		padding-left: 15px;\n	}\n}\n";e.forEach(o,function(e){r+=n.replace(/\{TAG\}/gi,e)});var d=e.moduleUrl(a._scopeName,"editor/plugins/resources").toString();if(!d.match(/^https?:\/\//i)&&!d.match(/^file:\/\//i)){var s;if("/"===d.charAt(0)){var l=e.doc.location.protocol,m=e.doc.location.host;s=l+"//"+m}else s=this._calcBaseUrl(e.global.location.href);"/"!==s[s.length-1]&&"/"!==d.charAt(0)&&(s+="/"),d=s+d}if(r=r.replace(/\{MODURL\}/gi,d),e.isIE){var u=i.createStyleSheet("");u.cssText=r}else{var h=i.createElement("style");h.appendChild(i.createTextNode(r)),i.getElementsByTagName("head")[0].appendChild(h)}}catch(f){}t?e.addClass(this.editor.editNode,"editorShowBlocks"):e.removeClass(this.editor.editNode,"editorShowBlocks")},_calcBaseUrl:function(e){var t=null;if(null!==e){var a=e.indexOf("?");-1!=a&&(e=e.substring(0,a)),a=e.lastIndexOf("/"),t=a>0&&a<e.length?e.substring(0,a):e}return t}});return e.subscribe(t._scopeName+".Editor.getPlugin",null,function(e){if(!e.plugin){var t=e.args.name.toLowerCase();"showblocknodes"===t&&(e.plugin=new r)}}),r});//# sourceMappingURL=ShowBlockNodes.js.map