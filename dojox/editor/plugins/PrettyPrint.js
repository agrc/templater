//>>built
define("dojox/editor/plugins/PrettyPrint",["dojo","dijit","dojox","dijit/_editor/_Plugin","dojo/_base/connect","dojo/_base/declare","dojox/html/format"],function(e,t,a,i){var r=e.declare("dojox.editor.plugins.PrettyPrint",i,{indentBy:-1,lineLength:-1,useDefaultCommand:!1,entityMap:null,_initButton:function(){delete this.command},setToolbar:function(e){},setEditor:function(e){this.inherited(arguments);var t=this;this.editor.onLoadDeferred.addCallback(function(){t.editor._prettyprint_getValue=t.editor.getValue,t.editor.getValue=function(){var e=t.editor._prettyprint_getValue(arguments);return a.html.format.prettyPrint(e,t.indentBy,t.lineLength,t.entityMap,t.xhtml)},t.editor._prettyprint_endEditing=t.editor._endEditing,t.editor._prettyprint_onBlur=t.editor._onBlur,t.editor._endEditing=function(e){var a=t.editor._prettyprint_getValue(!0);t.editor._undoedSteps=[],t.editor._steps.push({text:a,bookmark:t.editor._getBookmark()})},t.editor._onBlur=function(e){this.inherited("_onBlur",arguments);var a=t.editor._prettyprint_getValue(!0);a!=t.editor.savedContent&&(t.editor.onChange(a),t.editor.savedContent=a)}})}});return e.subscribe(t._scopeName+".Editor.getPlugin",null,function(e){if(!e.plugin){"prettyprint"===e.args.name.toLowerCase()&&(e.plugin=new r({indentBy:"indentBy"in e.args?e.args.indentBy:-1,lineLength:"lineLength"in e.args?e.args.lineLength:-1,entityMap:"entityMap"in e.args?e.args.entityMap:a.html.entities.html.concat([["¢","cent"],["£","pound"],["€","euro"],["¥","yen"],["©","copy"],["§","sect"],["…","hellip"],["®","reg"]]),xhtml:"xhtml"in e.args&&e.args.xhtml}))}}),r});//# sourceMappingURL=PrettyPrint.js.map