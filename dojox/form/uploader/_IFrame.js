//>>built
define("dojox/form/uploader/_IFrame",["dojo/query","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-form","dojo/request/iframe"],function(e,t,i,r,a,n,o){return i("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments),"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(e){var i,r={},n=(this.getForm(),this.getUrl()),s=this;if(e=e||{},e.uploadType=this.uploadType,i=t.place('<form enctype="multipart/form-data" method="post"></form>',this.domNode),a.forEach(this._inputs,function(e,t){""!==e.value&&(i.appendChild(e),r[e.name]=e.value)},this),e)for(nm in e)void 0===r[nm]&&t.create("input",{name:nm,value:e[nm],type:"hidden"},i);o.post(n,{form:i,handleAs:"json",content:e}).then(function(e){t.destroy(i),e.ERROR||e.error?s.onError(e):s.onComplete(e)},function(e){t.destroy(i),s.onError(e)})}})});//# sourceMappingURL=_IFrame.js.map