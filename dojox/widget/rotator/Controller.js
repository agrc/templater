//>>built
define("dojox/widget/rotator/Controller",["dojo/_base/declare","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/_base/array","dojo/_base/connect","dojo/query"],function(e,t,i,o,r,n,a){var s="dojoxRotator",l=s+"Play",d=s+"Pause",u=s+"Number",c=s+"Tab",h=s+"Selected";return e("dojox.widget.rotator.Controller",null,{rotator:null,commands:"prev,play/pause,info,next",constructor:function(e,f){t.mixin(this,e);var m=this.rotator;if(m){for(;f.firstChild;)f.removeChild(f.firstChild);var p=this._domNode=i.create("ul",null,f),g=" "+s+"Icon",y=function(e,t,r){i.create("li",{className:t,innerHTML:'<a href="#"><span>'+e+"</span></a>",onclick:function(e){o.stop(e),m&&m.control.apply(m,r)}},p)};r.forEach(this.commands.split(","),function(e,t){switch(e){case"prev":y("Prev",s+"Prev"+g,["prev"]);break;case"play/pause":y("Play",l+g,["play"]),y("Pause",d+g,["pause"]);break;case"info":this._info=i.create("li",{className:s+"Info",innerHTML:this._buildInfo(m)},p);break;case"next":y("Next",s+"Next"+g,["next"]);break;case"#":case"titles":for(var o=0;o<m.panes.length;o++)y("#"==e?o+1:m.panes[o].title||"Tab "+(o+1),("#"==e?u:c)+" "+(o==m.idx?h:"")+" "+s+"Pane"+o,["go",o])}},this),a("li:first-child",p).addClass(s+"First"),a("li:last-child",p).addClass(s+"Last"),this._togglePlay(),this._con=n.connect(m,"onUpdate",this,"_onUpdate")}},destroy:function(){n.disconnect(this._con),i.destroy(this._domNode)},_togglePlay:function(e){var t=this.rotator.playing;a("."+l,this._domNode).style("display",t?"none":""),a("."+d,this._domNode).style("display",t?"":"none")},_buildInfo:function(e){return"<span>"+(e.idx+1)+" / "+e.panes.length+"</span>"},_onUpdate:function(e){var t=this.rotator;switch(e){case"play":case"pause":this._togglePlay();break;case"onAfterTransition":this._info&&(this._info.innerHTML=this._buildInfo(t));var o=function(e){t.idx<e.length&&i.addClass(e[t.idx],h)};o(a("."+u,this._domNode).removeClass(h)),o(a("."+c,this._domNode).removeClass(h))}}})});//# sourceMappingURL=Controller.js.map