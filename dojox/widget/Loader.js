//>>built
define("dojox/widget/Loader",["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated"],function(e,t,i){e.provide("dojox.widget.Loader"),e.deprecated("dojox.widget.Loader","","2.0"),e.require("dijit._Widget"),e.require("dijit._Templated"),e.declare("dojox.widget.Loader",[t._Widget,t._Templated],{loadIcon:e.moduleUrl("dojox.widget.Loader","icons/loading.gif"),loadMessage:"Loading ...",hasVisuals:!0,attachToPointer:!0,duration:125,_offset:16,_pointerConnect:null,_xhrStart:null,_xhrEnd:null,templateString:'<div dojoAttachPoint="loadNode" class="dojoxLoader"><img src="${loadIcon}" class="dojoxLoaderIcon"> <span dojoAttachPoint="loadMessageNode" class="dojoxLoaderMessage"></span></div>',postCreate:function(){this.hasVisuals?(this.attachToPointer&&(e.removeClass(this.loadNode,"dojoxLoader"),e.addClass(this.loadNode,"dojoxLoaderPointer")),this._hide()):this.loadNode.style.display="none",this._setMessage(this.loadMessage),this._xhrStart=this.connect(e,"_ioSetArgs","_show"),this._xhrEnd=this.connect(e.Deferred.prototype,"_fire","_hide")},_setMessage:function(e){this.loadMessageNode.innerHTML=e},_putLoader:function(e){t.placeOnScreen(this.loadNode,{x:e.clientX+this._offset,y:e.clientY+this._offset},["TL","BR"])},_show:function(){e.publish("Loader",[{message:"started"}]),this.hasVisuals&&(this.attachToPointer&&(this._pointerConnect=this.connect(document,"onmousemove","_putLoader")),e.style(this.loadNode,{opacity:0,display:""}),e.fadeIn({node:this.loadNode,duration:this.duration}).play())},_hide:function(){e.publish("Loader",[{message:"ended"}]),this.hasVisuals&&(this.attachToPointer&&this.disconnect(this._pointerConnect),e.fadeOut({node:this.loadNode,duration:this.duration,onEnd:e.partial(e.style,this.loadNode,"display","none")}).play())}})});//# sourceMappingURL=Loader.js.map