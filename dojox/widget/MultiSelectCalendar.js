//>>built
require({cache:{"url:dojox/widget/MultiSelectCalendar/MultiSelectCalendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" dojoAttachEvent="onkeydown: _onKeyDown" aria-labelledby="${id}_year">\n	<thead>\n		<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="decrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n				<span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n			</th>\n			<th class=\'dijitReset\' colspan="5">\n				<div dojoType="dijit.form.DropDownButton" dojoAttachPoint="monthDropDownButton"\n					id="${id}_mddb" tabIndex="-1">\n				</div>\n			</th>\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="incrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n				<span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n			</th>\n		</tr>\n		<tr>\n			<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel"></span></th>\n		</tr>\n	</thead>\n	<tbody dojoAttachEvent="onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp" class="dijitReset dijitCalendarBodyContainer">\n		<tr class="dijitReset dijitCalendarWeekTemplate" role="row">\n			<td class="dijitReset dijitCalendarDateTemplate" role="gridcell"><span class="dijitCalendarDateLabel"></span></td>\n		</tr>\n	</tbody>\n	<tfoot class="dijitReset dijitCalendarYearContainer">\n		<tr>\n			<td class=\'dijitReset\' valign="top" colspan="7">\n				<h3 class="dijitCalendarYearLabel">\n					<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\n					<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" id="${id}_year"></span>\n					<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\n				</h3>\n			</td>\n		</tr>\n	</tfoot>\n</table>'}}),define("dojox/widget/MultiSelectCalendar",["dojo/main","dijit","dojo/text!./MultiSelectCalendar/MultiSelectCalendar.html","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_CssStateMixin","dijit/form/DropDownButton","dijit/typematic"],function(e,t,i,o,r,n,a,s,d,l,c,h){e.experimental("dojox.widget.MultiSelectCalendar");var u=e.declare("dojox.widget.MultiSelectCalendar",[a,s,d,l],{templateString:i,widgetsInTemplate:!0,value:{},datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",returnIsoRanges:!1,currentFocus:new Date,baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},_areValidDates:function(e){for(var t in this.value)if(valid=t&&!isNaN(t)&&"object"==typeof e&&t.toString()!=this.constructor.prototype.value.toString(),!valid)return!1;return!0},_getValueAttr:function(){return this.returnIsoRanges?(datesWithRanges=this._returnDatesWithIsoRanges(this._sort()),datesWithRanges):this._sort()},_setValueAttr:function(t,i){this.value={},e.isArray(t)?(e.forEach(t,function(t,i){var o=t.indexOf("/");if(-1==o)this.value[t]=1;else{var r=e.date.stamp.fromISOString(t.substr(0,10)),n=e.date.stamp.fromISOString(t.substr(11,10));this.toggleDate(r,[],[]),r-n>0?this._addToRangeRTL(r,n,[],[]):this._addToRangeLTR(r,n,[],[])}},this),t.length>0&&this.focusOnLastDate(t[t.length-1])):(t&&(t=new this.dateClassObj(t)),this._isValidDate(t)&&(t.setHours(1,0,0,0),this.isDisabledDate(t,this.lang)||(dateIndex=e.date.stamp.toISOString(t).substring(0,10),this.value[dateIndex]=1,this.set("currentFocus",t),(i||"undefined"==typeof i)&&(this.onChange(this.get("value")),this.onValueSelected(this.get("value")))))),this._populateGrid()},focusOnLastDate:function(t){var i,o,r=t.indexOf("/");-1==r?lastDate=t:(i=new e.date.stamp.fromISOString(t.substr(0,10)),o=new e.date.stamp.fromISOString(t.substr(11,10)),i-o>0?lastDate=i:lastDate=o),this.set("currentFocus",lastDate)},_isValidDate:function(e){return e&&!isNaN(e)&&"object"==typeof e&&e.toString()!=this.constructor.prototype.value.toString()},_setText:function(t,i){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(e.doc.createTextNode(i))},_populateGrid:function(){var t=new this.dateClassObj(this.currentFocus);t.setDate(1);var i=t.getDay(),o=this.dateFuncObj.getDaysInMonth(t),r=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(t,"month",-1)),n=new this.dateClassObj,a=e.cldr.supplemental.getFirstDayOfWeek(this.lang);a>i&&(a-=7),this.listOfNodes=e.query(".dijitCalendarDateTemplate",this.domNode),this.listOfNodes.forEach(function(s,d){d+=a;var l,c=new this.dateClassObj(t),h="dijitCalendar",u=0;i>d?(l=r-i+d+1,u=-1,h+="Previous"):d>=i+o?(l=d-i-o+1,u=1,h+="Next"):(l=d-i+1,h+="Current"),u&&(c=this.dateFuncObj.add(c,"month",u)),c.setDate(l),this.dateFuncObj.compare(c,n,"date")||(h="dijitCalendarCurrentDate "+h),dateIndex=e.date.stamp.toISOString(c).substring(0,10),this.isDisabledDate(c,this.lang)||this._isSelectedDate(c,this.lang)&&(h=this.value[dateIndex]?"dijitCalendarSelectedDate "+h:h.replace("dijitCalendarSelectedDate ","")),this._isSelectedDate(c,this.lang)&&(h="dijitCalendarBrowsingDate "+h),this.isDisabledDate(c,this.lang)&&(h="dijitCalendarDisabledDate "+h);var f=this.getClassForDate(c,this.lang);f&&(h=f+" "+h),s.className=h+"Month dijitCalendarDateTemplate",s.dijitDateValue=c.valueOf(),e.attr(s,"dijitDateValue",c.valueOf());var m=e.query(".dijitCalendarDateLabel",s)[0],p=c.getDateLocalized?c.getDateLocalized(this.lang):c.getDate();this._setText(m,p)},this);var s=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t);this.monthDropDownButton.dropDown.set("months",s),this.monthDropDownButton.containerNode.innerHTML=(6==e.isIE?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+s[t.getMonth()]+"</div>";var d=t.getFullYear()-1,l=new this.dateClassObj;e.forEach(["previous","current","next"],function(e){l.setFullYear(d++),this._setText(this[e+"YearLabelNode"],this.dateLocaleModule.format(l,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("currentFocus",new this.dateClassObj,!1)},constructor:function(t){var i=t.datePackage&&"dojo.date"!=t.datePackage?t.datePackage+".Date":"Date";this.dateClassObj=e.getObject(i,!1),this.datePackage=t.datePackage||this.datePackage,this.dateFuncObj=e.getObject(this.datePackage,!1),this.dateLocaleModule=e.getObject(this.datePackage+".locale",!1)},buildRendering:function(){this.inherited(arguments),e.setSelectable(this.domNode,!1);var i=e.hitch(this,function(t,i){for(var o=e.query(t,this.domNode)[0],r=0;i>r;r++)o.parentNode.appendChild(o.cloneNode(!0))});i(".dijitCalendarDayLabelTemplate",6),i(".dijitCalendarDateTemplate",6),i(".dijitCalendarWeekTemplate",5);var o=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),r=e.cldr.supplemental.getFirstDayOfWeek(this.lang);e.query(".dijitCalendarDayLabel",this.domNode).forEach(function(e,t){this._setText(e,o[(t+r)%7])},this);var n=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new f({id:this.id+"_mdd",onChange:e.hitch(this,"_onMonthSelect")}),this.set("currentFocus",n,!1);var a=this,s=function(e,i,o){a._connects.push(t.typematic.addMouseListener(a[e],a,function(e){e>=0&&a._adjustDisplay(i,o)},.8,500))};s("incrementMonth","month",1),s("decrementMonth","month",-1),s("nextYearLabelNode","year",1),s("previousYearLabelNode","year",-1)},_adjustDisplay:function(e,t){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,e,t))},_setCurrentFocusAttr:function(t,i){var o=this.currentFocus,r=o?e.query("[dijitDateValue="+o.valueOf()+"]",this.domNode)[0]:null;t=new this.dateClassObj(t),t.setHours(1,0,0,0),this._set("currentFocus",t);var n=e.date.stamp.toISOString(t).substring(0,7);n!=this.previousMonth&&(this._populateGrid(),this.previousMonth=n);var a=e.query("[dijitDateValue='"+t.valueOf()+"']",this.domNode)[0];a.setAttribute("tabIndex",this.tabIndex),(this._focused||i)&&a.focus(),r&&r!=a&&(e.isWebKit?r.setAttribute("tabIndex","-1"):r.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onMonthSelect:function(e){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",e-this.currentFocus.getMonth()),this._populateGrid()},toggleDate:function(t,i,o){var r=e.date.stamp.toISOString(t).substring(0,10);this.value[r]?this.unselectDate(t,o):this.selectDate(t,i)},selectDate:function(t,i){var o=this._getNodeByDate(t),r=o.className,n=e.date.stamp.toISOString(t).substring(0,10);this.value[n]=1,i.push(n),r="dijitCalendarSelectedDate "+r,o.className=r},unselectDate:function(t,i){var o=this._getNodeByDate(t),r=o.className,n=e.date.stamp.toISOString(t).substring(0,10);delete this.value[n],i.push(n),r=r.replace("dijitCalendarSelectedDate ",""),o.className=r},_getNodeByDate:function(t){var i=new this.dateClassObj(this.listOfNodes[0].dijitDateValue),o=Math.abs(e.date.difference(i,t,"day"));return this.listOfNodes[o]},_onDayClick:function(t){e.stopEvent(t);for(var i=t.target;i&&!i.dijitDateValue;i=i.parentNode);i&&!e.hasClass(i,"dijitCalendarDisabledDate")&&(value=new this.dateClassObj(i.dijitDateValue),this.rangeJustSelected?(this.rangeJustSelected=!1,this.set("currentFocus",value)):(this.toggleDate(value,[],[]),this.previouslySelectedDay=value,this.set("currentFocus",value),this.onValueSelected([e.date.stamp.toISOString(value).substring(0,10)])))},_onDayMouseOver:function(t){var i=e.hasClass(t.target,"dijitCalendarDateLabel")?t.target.parentNode:t.target;i&&(i.dijitDateValue||i==this.previousYearLabelNode||i==this.nextYearLabelNode)&&(e.addClass(i,"dijitCalendarHoveredDate"),this._currentNode=i)},_setEndRangeAttr:function(e){e=new this.dateClassObj(e),e.setHours(1),this.endRange=e},_getEndRangeAttr:function(){var e=new this.dateClassObj(this.endRange);return e.setHours(0,0,0,0),e.getDate()<this.endRange.getDate()&&(e=this.dateFuncObj.add(e,"hour",1)),e},_onDayMouseOut:function(t){if(this._currentNode&&(!t.relatedTarget||t.relatedTarget.parentNode!=this._currentNode)){var i="dijitCalendarHoveredDate";e.hasClass(this._currentNode,"dijitCalendarActiveDate")&&(i+=" dijitCalendarActiveDate"),e.removeClass(this._currentNode,i),this._currentNode=null}},_onDayMouseDown:function(t){var i=t.target.parentNode;i&&i.dijitDateValue&&(e.addClass(i,"dijitCalendarActiveDate"),this._currentNode=i),t.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",i.dijitDateValue),this._selectRange()):(this.selectingRange=!1,this.previousRangeStart=null,this.previousRangeEnd=null)},_onDayMouseUp:function(t){var i=t.target.parentNode;i&&i.dijitDateValue&&e.removeClass(i,"dijitCalendarActiveDate")},handleKey:function(t){var i,o=e.keys,r=-1,n=this.currentFocus;switch(t.keyCode){case o.RIGHT_ARROW:r=1;case o.LEFT_ARROW:i="day",this.isLeftToRight()||(r*=-1);break;case o.DOWN_ARROW:r=1;case o.UP_ARROW:i="week";break;case o.PAGE_DOWN:r=1;case o.PAGE_UP:i=t.ctrlKey||t.altKey?"year":"month";break;case o.END:n=this.dateFuncObj.add(n,"month",1),i="day";case o.HOME:n=new this.dateClassObj(n),n.setDate(1);break;case o.ENTER:case o.SPACE:t.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",n),this._selectRange()):(this.selectingRange=!1,this.toggleDate(n,[],[]),this.previouslySelectedDay=n,this.previousRangeStart=null,this.previousRangeEnd=null,this.onValueSelected([e.date.stamp.toISOString(n).substring(0,10)]));break;default:return!0}return i&&(n=this.dateFuncObj.add(n,i,r)),this.set("currentFocus",n),!1},_onKeyDown:function(t){this.handleKey(t)||e.stopEvent(t)},_removeFromRangeLTR:function(t,i,o,r){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=0;n<=difference;n++){var a=e.date.add(t,"day",n);this.toggleDate(a,o,r)}null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=i),null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")>0&&(this.previousRangeStart=i),this.previouslySelectedDay=e.date.add(a,"day",1)},_removeFromRangeRTL:function(t,i,o,r){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=0;n<=difference;n++){var a=e.date.add(t,"day",-n);this.toggleDate(a,o,r)}null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")<0&&(this.previousRangeEnd=i),null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")<0&&(this.previousRangeStart=i),this.previouslySelectedDay=e.date.add(a,"day",-1)},_addToRangeRTL:function(t,i,o,r){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=1;n<=difference;n++){var a=e.date.add(t,"day",-n);this.toggleDate(a,o,r)}null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")<0&&(this.previousRangeStart=i),null==this.previousRangeEnd?this.previousRangeEnd=t:e.date.compare(t,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=t),this.previouslySelectedDay=a},_addToRangeLTR:function(t,i,o,r){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=1;n<=difference;n++){var a=e.date.add(t,"day",n);this.toggleDate(a,o,r)}null==this.previousRangeStart?this.previousRangeStart=t:e.date.compare(t,this.previousRangeStart,"date")<0&&(this.previousRangeStart=t),null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=i),this.previouslySelectedDay=a},_selectRange:function(){var t=[],i=[],o=this.previouslySelectedDay,r=this.get("endRange");this.previousRangeStart||this.previousRangeEnd?e.date.compare(r,this.previousRangeStart,"date")<0||e.date.compare(r,this.previousRangeEnd,"date")>0?removingFromRange=!1:removingFromRange=!0:removingFromRange=!1,1==removingFromRange?e.date.compare(r,o,"date")<0?this._removeFromRangeRTL(o,r,t,i):this._removeFromRangeLTR(o,r,t,i):e.date.compare(r,o,"date")<0?this._addToRangeRTL(o,r,t,i):this._addToRangeLTR(o,r,t,i),t.length>0&&this.onValueSelected(t),i.length>0&&this.onValueUnselected(i),this.rangeJustSelected=!0},onValueSelected:function(e){},onValueUnselected:function(e){},onChange:function(e){},_isSelectedDate:function(t,i){return dateIndex=e.date.stamp.toISOString(t).substring(0,10),this.value[dateIndex]},isDisabledDate:function(e,t){},getClassForDate:function(e,t){},_sort:function(){if(this.value=={})return[];var e=[];for(var t in this.value)e.push(t);return e.sort(function(e,t){var i=new Date(e),o=new Date(t);return i-o}),e},_returnDatesWithIsoRanges:function(t){var i=[];if(t.length>1){for(var o=!1,r=null,n=null,a=e.date.stamp.fromISOString(t[0]),s=1;s<t.length+1;s++)currentDate=e.date.stamp.fromISOString(t[s]),o?(difference=Math.abs(e.date.difference(a,currentDate,"day")),1==difference?n=currentDate:(range=e.date.stamp.toISOString(r).substring(0,10)+"/"+e.date.stamp.toISOString(n).substring(0,10),i.push(range),o=!1)):(difference=Math.abs(e.date.difference(a,currentDate,"day")),1==difference?(o=!0,r=a,n=currentDate):i.push(e.date.stamp.toISOString(a).substring(0,10))),a=currentDate;return i}return t}}),f=u._MonthDropDown=e.declare("dojox.widget._MonthDropDown",[a,s,d],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(t){this.domNode.innerHTML=e.map(t,function(e,t){return e?"<div class='dijitCalendarMonthLabel' month='"+t+"'>"+e+"</div>":""}).join("")},_onClick:function(t){this.onChange(e.attr(t.target,"month"))},onChange:function(e){},_onMenuHover:function(t){e.toggleClass(t.target,"dijitCalendarMonthLabelHover","mouseover"==t.type)}});return u});//# sourceMappingURL=MultiSelectCalendar.js.map