//>>built
require({cache:{"url:dojox/widget/MultiSelectCalendar/MultiSelectCalendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" dojoAttachEvent="onkeydown: _onKeyDown" aria-labelledby="${id}_year">\n	<thead>\n		<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="decrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n				<span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n			</th>\n			<th class=\'dijitReset\' colspan="5">\n				<div dojoType="dijit.form.DropDownButton" dojoAttachPoint="monthDropDownButton"\n					id="${id}_mddb" tabIndex="-1">\n				</div>\n			</th>\n			<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="incrementMonth">\n				<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n				<span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n			</th>\n		</tr>\n		<tr>\n			<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel"></span></th>\n		</tr>\n	</thead>\n	<tbody dojoAttachEvent="onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp" class="dijitReset dijitCalendarBodyContainer">\n		<tr class="dijitReset dijitCalendarWeekTemplate" role="row">\n			<td class="dijitReset dijitCalendarDateTemplate" role="gridcell"><span class="dijitCalendarDateLabel"></span></td>\n		</tr>\n	</tbody>\n	<tfoot class="dijitReset dijitCalendarYearContainer">\n		<tr>\n			<td class=\'dijitReset\' valign="top" colspan="7">\n				<h3 class="dijitCalendarYearLabel">\n					<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\n					<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" id="${id}_year"></span>\n					<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\n				</h3>\n			</td>\n		</tr>\n	</tfoot>\n</table>'}}),define("dojox/widget/MultiSelectCalendar",["dojo/main","dijit","dojo/text!./MultiSelectCalendar/MultiSelectCalendar.html","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_CssStateMixin","dijit/form/DropDownButton","dijit/typematic"],function(e,t,i,a,o,n,r,s,l,d,h,c){e.experimental("dojox.widget.MultiSelectCalendar");var u=e.declare("dojox.widget.MultiSelectCalendar",[r,s,l,d],{templateString:i,widgetsInTemplate:!0,value:{},datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",returnIsoRanges:!1,currentFocus:new Date,baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},_areValidDates:function(e){for(var t in this.value)if(valid=t&&!isNaN(t)&&"object"==typeof e&&t.toString()!=this.constructor.prototype.value.toString(),!valid)return!1;return!0},_getValueAttr:function(){return this.returnIsoRanges?(datesWithRanges=this._returnDatesWithIsoRanges(this._sort()),datesWithRanges):this._sort()},_setValueAttr:function(t,i){this.value={},e.isArray(t)?(e.forEach(t,function(t,i){var a=t.indexOf("/");if(-1==a)this.value[t]=1;else{var o=e.date.stamp.fromISOString(t.substr(0,10)),n=e.date.stamp.fromISOString(t.substr(11,10));this.toggleDate(o,[],[]),o-n>0?this._addToRangeRTL(o,n,[],[]):this._addToRangeLTR(o,n,[],[])}},this),t.length>0&&this.focusOnLastDate(t[t.length-1])):(t&&(t=new this.dateClassObj(t)),this._isValidDate(t)&&(t.setHours(1,0,0,0),this.isDisabledDate(t,this.lang)||(dateIndex=e.date.stamp.toISOString(t).substring(0,10),this.value[dateIndex]=1,this.set("currentFocus",t),(i||"undefined"==typeof i)&&(this.onChange(this.get("value")),this.onValueSelected(this.get("value")))))),this._populateGrid()},focusOnLastDate:function(t){var i,a,o=t.indexOf("/");-1==o?lastDate=t:(i=new e.date.stamp.fromISOString(t.substr(0,10)),a=new e.date.stamp.fromISOString(t.substr(11,10)),i-a>0?lastDate=i:lastDate=a),this.set("currentFocus",lastDate)},_isValidDate:function(e){return e&&!isNaN(e)&&"object"==typeof e&&e.toString()!=this.constructor.prototype.value.toString()},_setText:function(t,i){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(e.doc.createTextNode(i))},_populateGrid:function(){var t=new this.dateClassObj(this.currentFocus);t.setDate(1);var i=t.getDay(),a=this.dateFuncObj.getDaysInMonth(t),o=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(t,"month",-1)),n=new this.dateClassObj,r=e.cldr.supplemental.getFirstDayOfWeek(this.lang);r>i&&(r-=7),this.listOfNodes=e.query(".dijitCalendarDateTemplate",this.domNode),this.listOfNodes.forEach(function(s,l){l+=r;var d,h=new this.dateClassObj(t),c="dijitCalendar",u=0;i>l?(d=o-i+l+1,u=-1,c+="Previous"):l>=i+a?(d=l-i-a+1,u=1,c+="Next"):(d=l-i+1,c+="Current"),u&&(h=this.dateFuncObj.add(h,"month",u)),h.setDate(d),this.dateFuncObj.compare(h,n,"date")||(c="dijitCalendarCurrentDate "+c),dateIndex=e.date.stamp.toISOString(h).substring(0,10),this.isDisabledDate(h,this.lang)||this._isSelectedDate(h,this.lang)&&(c=this.value[dateIndex]?"dijitCalendarSelectedDate "+c:c.replace("dijitCalendarSelectedDate ","")),this._isSelectedDate(h,this.lang)&&(c="dijitCalendarBrowsingDate "+c),this.isDisabledDate(h,this.lang)&&(c="dijitCalendarDisabledDate "+c);var m=this.getClassForDate(h,this.lang);m&&(c=m+" "+c),s.className=c+"Month dijitCalendarDateTemplate",s.dijitDateValue=h.valueOf(),e.attr(s,"dijitDateValue",h.valueOf());var f=e.query(".dijitCalendarDateLabel",s)[0],g=h.getDateLocalized?h.getDateLocalized(this.lang):h.getDate();this._setText(f,g)},this);var s=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t);this.monthDropDownButton.dropDown.set("months",s),this.monthDropDownButton.containerNode.innerHTML=(6==e.isIE?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+s[t.getMonth()]+"</div>";var l=t.getFullYear()-1,d=new this.dateClassObj;e.forEach(["previous","current","next"],function(e){d.setFullYear(l++),this._setText(this[e+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("currentFocus",new this.dateClassObj,!1)},constructor:function(t){var i=t.datePackage&&"dojo.date"!=t.datePackage?t.datePackage+".Date":"Date";this.dateClassObj=e.getObject(i,!1),this.datePackage=t.datePackage||this.datePackage,this.dateFuncObj=e.getObject(this.datePackage,!1),this.dateLocaleModule=e.getObject(this.datePackage+".locale",!1)},buildRendering:function(){this.inherited(arguments),e.setSelectable(this.domNode,!1);var i=e.hitch(this,function(t,i){for(var a=e.query(t,this.domNode)[0],o=0;i>o;o++)a.parentNode.appendChild(a.cloneNode(!0))});i(".dijitCalendarDayLabelTemplate",6),i(".dijitCalendarDateTemplate",6),i(".dijitCalendarWeekTemplate",5);var a=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),o=e.cldr.supplemental.getFirstDayOfWeek(this.lang);e.query(".dijitCalendarDayLabel",this.domNode).forEach(function(e,t){this._setText(e,a[(t+o)%7])},this);var n=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new m({id:this.id+"_mdd",onChange:e.hitch(this,"_onMonthSelect")}),this.set("currentFocus",n,!1);var r=this,s=function(e,i,a){r._connects.push(t.typematic.addMouseListener(r[e],r,function(e){e>=0&&r._adjustDisplay(i,a)},.8,500))};s("incrementMonth","month",1),s("decrementMonth","month",-1),s("nextYearLabelNode","year",1),s("previousYearLabelNode","year",-1)},_adjustDisplay:function(e,t){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,e,t))},_setCurrentFocusAttr:function(t,i){var a=this.currentFocus,o=a?e.query("[dijitDateValue="+a.valueOf()+"]",this.domNode)[0]:null;t=new this.dateClassObj(t),t.setHours(1,0,0,0),this._set("currentFocus",t);var n=e.date.stamp.toISOString(t).substring(0,7);n!=this.previousMonth&&(this._populateGrid(),this.previousMonth=n);var r=e.query("[dijitDateValue='"+t.valueOf()+"']",this.domNode)[0];r.setAttribute("tabIndex",this.tabIndex),(this._focused||i)&&r.focus(),o&&o!=r&&(e.isWebKit?o.setAttribute("tabIndex","-1"):o.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onMonthSelect:function(e){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",e-this.currentFocus.getMonth()),this._populateGrid()},toggleDate:function(t,i,a){var o=e.date.stamp.toISOString(t).substring(0,10);this.value[o]?this.unselectDate(t,a):this.selectDate(t,i)},selectDate:function(t,i){var a=this._getNodeByDate(t),o=a.className,n=e.date.stamp.toISOString(t).substring(0,10);this.value[n]=1,i.push(n),o="dijitCalendarSelectedDate "+o,a.className=o},unselectDate:function(t,i){var a=this._getNodeByDate(t),o=a.className,n=e.date.stamp.toISOString(t).substring(0,10);delete this.value[n],i.push(n),o=o.replace("dijitCalendarSelectedDate ",""),a.className=o},_getNodeByDate:function(t){var i=new this.dateClassObj(this.listOfNodes[0].dijitDateValue),a=Math.abs(e.date.difference(i,t,"day"));return this.listOfNodes[a]},_onDayClick:function(t){e.stopEvent(t);for(var i=t.target;i&&!i.dijitDateValue;i=i.parentNode);i&&!e.hasClass(i,"dijitCalendarDisabledDate")&&(value=new this.dateClassObj(i.dijitDateValue),this.rangeJustSelected?(this.rangeJustSelected=!1,this.set("currentFocus",value)):(this.toggleDate(value,[],[]),this.previouslySelectedDay=value,this.set("currentFocus",value),this.onValueSelected([e.date.stamp.toISOString(value).substring(0,10)])))},_onDayMouseOver:function(t){var i=e.hasClass(t.target,"dijitCalendarDateLabel")?t.target.parentNode:t.target;i&&(i.dijitDateValue||i==this.previousYearLabelNode||i==this.nextYearLabelNode)&&(e.addClass(i,"dijitCalendarHoveredDate"),this._currentNode=i)},_setEndRangeAttr:function(e){e=new this.dateClassObj(e),e.setHours(1),this.endRange=e},_getEndRangeAttr:function(){var e=new this.dateClassObj(this.endRange);return e.setHours(0,0,0,0),e.getDate()<this.endRange.getDate()&&(e=this.dateFuncObj.add(e,"hour",1)),e},_onDayMouseOut:function(t){if(this._currentNode&&(!t.relatedTarget||t.relatedTarget.parentNode!=this._currentNode)){var i="dijitCalendarHoveredDate";e.hasClass(this._currentNode,"dijitCalendarActiveDate")&&(i+=" dijitCalendarActiveDate"),e.removeClass(this._currentNode,i),this._currentNode=null}},_onDayMouseDown:function(t){var i=t.target.parentNode;i&&i.dijitDateValue&&(e.addClass(i,"dijitCalendarActiveDate"),this._currentNode=i),t.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",i.dijitDateValue),this._selectRange()):(this.selectingRange=!1,this.previousRangeStart=null,this.previousRangeEnd=null)},_onDayMouseUp:function(t){var i=t.target.parentNode;i&&i.dijitDateValue&&e.removeClass(i,"dijitCalendarActiveDate")},handleKey:function(t){var i,a=e.keys,o=-1,n=this.currentFocus;switch(t.keyCode){case a.RIGHT_ARROW:o=1;case a.LEFT_ARROW:i="day",this.isLeftToRight()||(o*=-1);break;case a.DOWN_ARROW:o=1;case a.UP_ARROW:i="week";break;case a.PAGE_DOWN:o=1;case a.PAGE_UP:i=t.ctrlKey||t.altKey?"year":"month";break;case a.END:n=this.dateFuncObj.add(n,"month",1),i="day";case a.HOME:n=new this.dateClassObj(n),n.setDate(1);break;case a.ENTER:case a.SPACE:t.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",n),this._selectRange()):(this.selectingRange=!1,this.toggleDate(n,[],[]),this.previouslySelectedDay=n,this.previousRangeStart=null,this.previousRangeEnd=null,this.onValueSelected([e.date.stamp.toISOString(n).substring(0,10)]));break;default:return!0}return i&&(n=this.dateFuncObj.add(n,i,o)),this.set("currentFocus",n),!1},_onKeyDown:function(t){this.handleKey(t)||e.stopEvent(t)},_removeFromRangeLTR:function(t,i,a,o){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=0;n<=difference;n++){var r=e.date.add(t,"day",n);this.toggleDate(r,a,o)}null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=i),null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")>0&&(this.previousRangeStart=i),this.previouslySelectedDay=e.date.add(r,"day",1)},_removeFromRangeRTL:function(t,i,a,o){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=0;n<=difference;n++){var r=e.date.add(t,"day",-n);this.toggleDate(r,a,o)}null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")<0&&(this.previousRangeEnd=i),null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")<0&&(this.previousRangeStart=i),this.previouslySelectedDay=e.date.add(r,"day",-1)},_addToRangeRTL:function(t,i,a,o){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=1;n<=difference;n++){var r=e.date.add(t,"day",-n);this.toggleDate(r,a,o)}null==this.previousRangeStart?this.previousRangeStart=i:e.date.compare(i,this.previousRangeStart,"date")<0&&(this.previousRangeStart=i),null==this.previousRangeEnd?this.previousRangeEnd=t:e.date.compare(t,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=t),this.previouslySelectedDay=r},_addToRangeLTR:function(t,i,a,o){difference=Math.abs(e.date.difference(t,i,"day"));for(var n=1;n<=difference;n++){var r=e.date.add(t,"day",n);this.toggleDate(r,a,o)}null==this.previousRangeStart?this.previousRangeStart=t:e.date.compare(t,this.previousRangeStart,"date")<0&&(this.previousRangeStart=t),null==this.previousRangeEnd?this.previousRangeEnd=i:e.date.compare(i,this.previousRangeEnd,"date")>0&&(this.previousRangeEnd=i),this.previouslySelectedDay=r},_selectRange:function(){var t=[],i=[],a=this.previouslySelectedDay,o=this.get("endRange");this.previousRangeStart||this.previousRangeEnd?e.date.compare(o,this.previousRangeStart,"date")<0||e.date.compare(o,this.previousRangeEnd,"date")>0?removingFromRange=!1:removingFromRange=!0:removingFromRange=!1,1==removingFromRange?e.date.compare(o,a,"date")<0?this._removeFromRangeRTL(a,o,t,i):this._removeFromRangeLTR(a,o,t,i):e.date.compare(o,a,"date")<0?this._addToRangeRTL(a,o,t,i):this._addToRangeLTR(a,o,t,i),t.length>0&&this.onValueSelected(t),i.length>0&&this.onValueUnselected(i),this.rangeJustSelected=!0},onValueSelected:function(e){},onValueUnselected:function(e){},onChange:function(e){},_isSelectedDate:function(t,i){return dateIndex=e.date.stamp.toISOString(t).substring(0,10),this.value[dateIndex]},isDisabledDate:function(e,t){},getClassForDate:function(e,t){},_sort:function(){if(this.value=={})return[];var e=[];for(var t in this.value)e.push(t);return e.sort(function(e,t){var i=new Date(e),a=new Date(t);return i-a}),e},_returnDatesWithIsoRanges:function(t){var i=[];if(t.length>1){for(var a=!1,o=null,n=null,r=e.date.stamp.fromISOString(t[0]),s=1;s<t.length+1;s++)currentDate=e.date.stamp.fromISOString(t[s]),a?(difference=Math.abs(e.date.difference(r,currentDate,"day")),1==difference?n=currentDate:(range=e.date.stamp.toISOString(o).substring(0,10)+"/"+e.date.stamp.toISOString(n).substring(0,10),i.push(range),a=!1)):(difference=Math.abs(e.date.difference(r,currentDate,"day")),1==difference?(a=!0,o=r,n=currentDate):i.push(e.date.stamp.toISOString(r).substring(0,10))),r=currentDate;return i}return t}}),m=u._MonthDropDown=e.declare("dojox.widget._MonthDropDown",[r,s,l],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(t){this.domNode.innerHTML=e.map(t,function(e,t){return e?"<div class='dijitCalendarMonthLabel' month='"+t+"'>"+e+"</div>":""}).join("")},_onClick:function(t){this.onChange(e.attr(t.target,"month"))},onChange:function(e){},_onMenuHover:function(t){e.toggleClass(t.target,"dijitCalendarMonthLabelHover","mouseover"==t.type)}});return u});//# sourceMappingURL=MultiSelectCalendar.js.map