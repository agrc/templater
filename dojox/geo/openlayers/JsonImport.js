//>>built
define("dojox/geo/openlayers/JsonImport",["dojo/_base/declare","dojo/_base/xhr","dojo/_base/lang","dojo/_base/array","./LineString","./Collection","./GeometryFeature"],function(e,t,i,a,r,o,n){return e("dojox.geo.openlayers.JsonImport",null,{constructor:function(e){this._params=e},loadData:function(){var e=this._params;t.get({url:e.url,handleAs:"json",sync:!0,load:i.hitch(this,this._gotData),error:i.hitch(this,this._loadError)})},_gotData:function(e){var t=this._params.nextFeature;if(i.isFunction(t)){var r=e.layerExtent,s=r[0],d=r[1],l=s+r[2],h=d+r[3],u=e.layerExtentLL,c=u[0],m=u[1],f=c+u[2],p=m+u[3],g=c,y=p,v=f,b=m,M=e.features;for(var _ in M){var w=M[_],k=w.shape,x=null;if(i.isArray(k[0])){var j=new Array;a.forEach(k,function(e){var t=this._makeGeometry(e,s,d,l,h,g,y,v,b);j.push(t)},this);var I=new o(j);x=new n(I),t.call(this,x)}else x=this._makeFeature(k,s,d,l,h,g,y,v,b),t.call(this,x)}var F=this._params.complete;i.isFunction(F)&&F.call(this,F)}},_makeGeometry:function(e,t,i,a,o,n,s,d,l){for(var h=[],u=0,c=0;c<e.length-1;c+=2){var m=e[c],f=e[c+1];u=(m-t)/(a-t);var p=u*(d-n)+n;u=(f-i)/(o-i);var g=u*(l-s)+s;h.push({x:p,y:g})}var y=new r(h);return y},_makeFeature:function(e,t,i,a,r,o,s,d,l){var h=this._makeGeometry(e,t,i,a,r,o,s,d,l),u=new n(h);return u},_loadError:function(){var e=this._params.error;i.isFunction(e)&&e.apply(this,parameters)}})});//# sourceMappingURL=JsonImport.js.map