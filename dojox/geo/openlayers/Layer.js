//>>built
define("dojox/geo/openlayers/Layer",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","./Feature"],function(e,t,a,i,r){return e("dojox.geo.openlayers.Layer",null,{constructor:function(e,a){var i=a?a.olLayer:null;i||(i=t.delegate(new OpenLayers.Layer(e,a))),this.olLayer=i,this._features=null,this.olLayer.events.register("moveend",this,t.hitch(this,this.moveTo))},renderFeature:function(e){e.render()},getDojoMap:function(){return this.dojoMap},addFeature:function(e){return t.isArray(e)?void a.forEach(e,function(e){this.addFeature(e)},this):(null==this._features&&(this._features=[]),this._features.push(e),void e._setLayer(this))},removeFeature:function(e){var t=this._features;if(null!=t){if(e instanceof Array)return e=e.slice(0),void a.forEach(e,function(e){this.removeFeature(e)},this);var i=a.indexOf(t,e);-1!=i&&t.splice(i,1),e._setLayer(null),e.remove()}},removeFeatureAt:function(e){var t=this._features,a=t[e];a&&(t.splice(e,1),a._setLayer(null),a.remove())},getFeatures:function(){return this._features},getFeatureAt:function(e){return null!=this._features?this._features[e]:void 0},getFeatureCount:function(){return null==this._features?0:this._features.length},clear:function(){var e=this.getFeatures();this.removeFeature(e)},moveTo:function(e){if(e.zoomChanged){if(null==this._features)return;a.forEach(this._features,function(e){this.renderFeature(e)},this)}},redraw:function(){i.isIE?setTimeout(t.hitch(this,function(){this.olLayer.redraw()},0)):this.olLayer.redraw()},added:function(){}})});//# sourceMappingURL=Layer.js.map