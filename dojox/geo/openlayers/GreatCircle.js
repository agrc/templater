//>>built
define("dojox/geo/openlayers/GreatCircle",["dojo/_base/lang","./_base","./GeometryFeature"],function(e,t,i){var a=t.GreatCircle={toPointArray:function(e,t,i){var a=e.x,r=t.x,o=Math.min(a,r),n=Math.max(a,r),s=this.DEG2RAD,d=e.y*s,l=e.x*s,h=t.y*s,m=t.x*s;if(Math.abs(l-m)<=this.TOLERANCE){var u=Math.min(l,m);m=u+Math.PI}Math.abs(m-l)==Math.PI&&d+h==0&&(h+=Math.PI/18e7);for(var c=o*s,f=n*s,y=i*s,p=[],g=0,v=this.RAD2DEG;f>=c;){lat=Math.atan((Math.sin(d)*Math.cos(h)*Math.sin(c-m)-Math.sin(h)*Math.cos(d)*Math.sin(c-l))/(Math.cos(d)*Math.cos(h)*Math.sin(l-m)));var M={x:c*v,y:lat*v};p[g++]=M,f>c&&c+y>=f?c=f:c+=y}return p},toLineString:function(e,t,i){var a=this.toPointArray(e,t,i),r=new OpenLayers.Geometry.LineString(a);return r},toGeometryFeature:function(e,t,a){var r=this.toLineString(e,t,a);return new i(r)},DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,TOLERANCE:1e-5};return a});//# sourceMappingURL=GreatCircle.js.map