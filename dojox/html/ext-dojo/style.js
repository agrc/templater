//>>built
define("dojox/html/ext-dojo/style",["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(e,t,i,a,o,n,r,s,l,d){e.experimental("dojox.html.ext-dojo.style");var u=(i.getObject("dojox.html.ext-dojo.style",!0),i.getObject("dojox.html"));return i.mixin(u["ext-dojo"].style,{supportsTransform:!0,_toPx:function(e){var t=a.style,i=this._conversion;return"number"==typeof e?e+"px":-1!=e.toLowerCase().indexOf("px")?e:(!i.parentNode&&s.place(i,n.body()),t(i,"margin",e),t(i,"margin"))},init:function(){var e=n.doc.documentElement.style,t=u["ext-dojo"].style,i=l.get,a=l.set;l.get=function(e,a){var o="transform"==a,n="transformOrigin"==a;return o?t.getTransform(e):n?t.getTransformOrigin(e):i.apply(this,arguments)},l.set=function(e,i,o){var n="transform"==i,s="transformOrigin"==i,l=r.byId(e);return n?t.setTransform(l,o,!0):s?t.setTransformOrigin(l,o):a.apply(this,arguments)};for(var d=0,c=["WebkitT","MozT","OT","msT","t"];d<c.length;d++)void 0!==e[c[d]+"ransform"]&&(this.tPropertyName=c[d]+"ransform"),void 0!==e[c[d]+"ransformOrigin"]&&(this.toPropertyName=c[d]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(e,t){return a(e,this.tPropertyName,t)},this.getTransform=function(e){return i(e,this.tPropertyName)}):o("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(e,t){return a(e,this.toPropertyName,t)},this.getTransformOrigin=function(e){return i(e,this.toPropertyName)}):o("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=s.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){},_setTransformOriginFilter:function(e,t){for(var o=i.trim(t).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),n=o.split(" "),s=r.byId(e),l=this.getTransform(s),d=!0,u=0;u<n.length;u++)d=d&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(n[u]),-1==n[u].indexOf("%")&&(n[u]=this._toPx(n[u]));return!d||!n.length||n.length>2?t:(a.attr(s,"dojo-transform-origin",n.join(" ")),l&&this.setTransform(e,l),t)},_getTransformOriginFilter:function(e){return a.attr(e,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(e,t){var i=t.replace(/\s/g,""),n=r.byId(e),s=i.split(")"),l=1,u=1,c="DXImageTransform.Microsoft.Matrix",h=d.has,m=a.attr,f=Math.PI,p=Math.cos,g=Math.sin,v=Math.tan,y=Math.max,b=Math.min,k=Math.abs,_=f/180,M=f/200,w="",x=[],j=0,I=0,C=0,E=0,T=0,N=0,F=0,A=1,z=0,S=0,L=1,P=0,D=0,G=[A,z,S,L,P,D],O=!1,R=a.style,B="absolute"==R(n,"position")?"absolute":"relative",q=R(n,"width")+R(n,"paddingLeft")+R(n,"paddingRight"),H=R(n,"height")+R(n,"paddingTop")+R(n,"paddingBottom"),U=this._toPx;!h(n,"dojo-transform-origin")&&this.setTransformOrigin(n,"50% 50%");for(var Q=0,V=s.length;Q<V;Q++){switch(x=s[Q].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/),x?x[0]:""){case"matrix":w=s[Q].replace(/matrix\(|\)/g,"");var W=w.split(",");A=G[0]*W[0]+G[1]*W[2],z=G[0]*W[1]+G[1]*W[3],S=G[2]*W[0]+G[3]*W[2],L=G[2]*W[1]+G[3]*W[3],P=G[4]+W[4],D=G[5]+W[5];break;case"rotate":w=s[Q].replace(/rotate\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?M:1,F=parseFloat(w)*l;var K=g(F),$=p(F);A=G[0]*$+G[1]*K,z=-G[0]*K+G[1]*$,S=G[2]*$+G[3]*K,L=-G[2]*K+G[3]*$;break;case"skewX":w=s[Q].replace(/skewX\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?M:1;var Y=v(parseFloat(w)*l);A=G[0],z=G[0]*Y+G[1],S=G[2],L=G[2]*Y+G[3];break;case"skewY":w=s[Q].replace(/skewY\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?M:1,Y=v(parseFloat(w)*l),A=G[0]+G[1]*Y,z=G[1],S=G[2]+G[3]*Y,L=G[3];break;case"skew":w=s[Q].replace(/skew\(|\)/g,"");var J=w.split(",");J[1]=J[1]||"0",l=-1!=J[0].indexOf("deg")?_:-1!=J[0].indexOf("grad")?M:1,u=-1!=J[1].indexOf("deg")?_:-1!=J[1].indexOf("grad")?M:1;var X=v(parseFloat(J[0])*l),Z=v(parseFloat(J[1])*u);A=G[0]+G[1]*Z,z=G[0]*X+G[1],S=G[2]+G[3]*Z,L=G[2]*X+G[3];break;case"scaleX":w=parseFloat(s[Q].replace(/scaleX\(|\)/g,""))||1,A=G[0]*w,z=G[1],S=G[2]*w,L=G[3];break;case"scaleY":w=parseFloat(s[Q].replace(/scaleY\(|\)/g,""))||1,A=G[0],z=G[1]*w,S=G[2],L=G[3]*w;break;case"scale":w=s[Q].replace(/scale\(|\)/g,"");var ee=w.split(",");ee[1]=ee[1]||ee[0],A=G[0]*ee[0],z=G[1]*ee[1],S=G[2]*ee[0],L=G[3]*ee[1];break;case"translateX":w=parseInt(s[Q].replace(/translateX\(|\)/g,""))||1,A=G[0],z=G[1],S=G[2],L=G[3],P=U(w),P&&m(n,"dojo-transform-matrix-tx",P);break;case"translateY":w=parseInt(s[Q].replace(/translateY\(|\)/g,""))||1,A=G[0],z=G[1],S=G[2],L=G[3],D=U(w),D&&m(n,"dojo-transform-matrix-ty",D);break;case"translate":w=s[Q].replace(/translate\(|\)/g,""),A=G[0],z=G[1],S=G[2],L=G[3];var te=w.split(",");te[0]=parseInt(U(te[0]))||0,te[1]=parseInt(U(te[1]))||0,P=te[0],D=te[1],P&&m(n,"dojo-transform-matrix-tx",P),D&&m(n,"dojo-transform-matrix-ty",D)}G=[A,z,S,L,P,D]}var ie=b(q*A+H*z,b(b(q*A,H*z),0)),ae=b(q*S+H*L,b(b(q*S,H*L),0));if(C=-ie,E=-ae,o("ie")<8){if(n.style.zoom="1","absolute"!=B){var oe=R(e.parentNode,"width"),ne=k(q*A),re=k(H*z),se=y(ne+re,y(y(re,ne),0));C-=(se-q)/2-(oe>se?0:(se-oe)/2)}}else 8==o("ie")&&"auto"==R(n,"zIndex")&&(n.style.zIndex="0");try{O=!!n.filters.item(c)}catch(e){O=!1}O?(n.filters.item(c).M11=A,n.filters.item(c).M12=z,n.filters.item(c).M21=S,n.filters.item(c).M22=L,n.filters.item(c).filterType="bilinear",n.filters.item(c).Dx=0,n.filters.item(c).Dy=0,n.filters.item(c).sizingMethod="auto expand"):n.style.filter+=" progid:"+c+"(M11="+A+",M12="+z+",M21="+S+",M22="+L+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",P=parseInt(m(n,"dojo-transform-matrix-tx")||"0"),D=parseInt(m(n,"dojo-transform-matrix-ty")||"0");var le=m(n,"dojo-transform-origin").split(" ");for(Q=0;Q<2;Q++)le[Q]=le[Q]||"50%";return T=-1!=le[0].toString().indexOf("%")?q*parseInt(le[0])*.01:le[0],N=-1!=le[1].toString().indexOf("%")?H*parseInt(le[1])*.01:le[1],h(n,"dojo-startX")?j=parseInt(m(n,"dojo-startX")):(j=parseInt(R(n,"left")),m(n,"dojo-startX","absolute"==B?j:"0")),h(n,"dojo-startY")?I=parseInt(m(n,"dojo-startY")):(I=parseInt(R(n,"top")),m(n,"dojo-startY","absolute"==B?I:"0")),R(n,{position:B,left:j-parseInt(C)+parseInt(T)-((parseInt(T)-P)*A+(parseInt(N)-D)*z)+"px",top:I-parseInt(E)+parseInt(N)-((parseInt(T)-P)*S+(parseInt(N)-D)*L)+"px"}),t},_getTransformFilter:function(e){try{var t=r.byId(e),i=t.filters.item(0);return"matrix("+i.M11+", "+i.M12+", "+i.M21+", "+i.M22+", "+(a.attr(e,"dojo-transform-tx")||"0")+", "+(a.attr(e,"dojo-transform-ty")||"0")+")"}catch(e){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),u["ext-dojo"].style.init(),a.style});//# sourceMappingURL=style.js.map