//>>built
define("dojox/html/ext-dojo/style",["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(e,t,i,a,n,o,r,s,d,l){e.experimental("dojox.html.ext-dojo.style");var h=(i.getObject("dojox.html.ext-dojo.style",!0),i.getObject("dojox.html"));return i.mixin(h["ext-dojo"].style,{supportsTransform:!0,_toPx:function(e){var t=a.style,i=this._conversion;return"number"==typeof e?e+"px":-1!=e.toLowerCase().indexOf("px")?e:(!i.parentNode&&s.place(i,o.body()),t(i,"margin",e),t(i,"margin"))},init:function(){var e=o.doc.documentElement.style,t=h["ext-dojo"].style,i=d.get,a=d.set;d.get=function(e,a){var n="transform"==a,o="transformOrigin"==a;return n?t.getTransform(e):o?t.getTransformOrigin(e):i.apply(this,arguments)},d.set=function(e,i,n){var o="transform"==i,s="transformOrigin"==i,d=r.byId(e);return o?t.setTransform(d,n,!0):s?t.setTransformOrigin(d,n):a.apply(this,arguments)};for(var l=0,u=["WebkitT","MozT","OT","msT","t"];l<u.length;l++)"undefined"!=typeof e[u[l]+"ransform"]&&(this.tPropertyName=u[l]+"ransform"),"undefined"!=typeof e[u[l]+"ransformOrigin"]&&(this.toPropertyName=u[l]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(e,t){return a(e,this.tPropertyName,t)},this.getTransform=function(e){return i(e,this.tPropertyName)}):n("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(e,t){return a(e,this.toPropertyName,t)},this.getTransformOrigin=function(e){return i(e,this.toPropertyName)}):n("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=s.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){},_setTransformOriginFilter:function(e,t){for(var n=i.trim(t).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),o=n.split(" "),s=r.byId(e),d=this.getTransform(s),l=!0,h=0;h<o.length;h++)l=l&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(o[h]),-1==o[h].indexOf("%")&&(o[h]=this._toPx(o[h]));return!l||!o.length||o.length>2?t:(a.attr(s,"dojo-transform-origin",o.join(" ")),d&&this.setTransform(e,d),t)},_getTransformOriginFilter:function(e){return a.attr(e,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(e,t){var i=t.replace(/\s/g,""),o=r.byId(e),s=i.split(")"),d=1,h=1,u="DXImageTransform.Microsoft.Matrix",c=l.has,m=a.attr,f=Math.PI,g=Math.cos,p=Math.sin,v=Math.tan,y=Math.max,b=Math.min,M=Math.abs,_=f/180,w=f/200,k="",x="",j=[],I=0,T=0,C=0,F=0,E=0,S=0,A=0,N=1,P=0,D=0,L=1,G=0,z=0,B=[N,P,D,L,G,z],O=!1,R=a.style,H="absolute"==R(o,"position")?"absolute":"relative",q=R(o,"width")+R(o,"paddingLeft")+R(o,"paddingRight"),W=R(o,"height")+R(o,"paddingTop")+R(o,"paddingBottom"),Q=this._toPx;!c(o,"dojo-transform-origin")&&this.setTransformOrigin(o,"50% 50%");for(var V=0,K=s.length;K>V;V++){switch(j=s[V].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/),x=j?j[0]:""){case"matrix":k=s[V].replace(/matrix\(|\)/g,"");var U=k.split(",");N=B[0]*U[0]+B[1]*U[2],P=B[0]*U[1]+B[1]*U[3],D=B[2]*U[0]+B[3]*U[2],L=B[2]*U[1]+B[3]*U[3],G=B[4]+U[4],z=B[5]+U[5];break;case"rotate":k=s[V].replace(/rotate\(|\)/g,""),d=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1,A=parseFloat(k)*d;var $=p(A),Y=g(A);N=B[0]*Y+B[1]*$,P=-B[0]*$+B[1]*Y,D=B[2]*Y+B[3]*$,L=-B[2]*$+B[3]*Y;break;case"skewX":k=s[V].replace(/skewX\(|\)/g,""),d=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1;var Z=v(parseFloat(k)*d);N=B[0],P=B[0]*Z+B[1],D=B[2],L=B[2]*Z+B[3];break;case"skewY":k=s[V].replace(/skewY\(|\)/g,""),d=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1,Z=v(parseFloat(k)*d),N=B[0]+B[1]*Z,P=B[1],D=B[2]+B[3]*Z,L=B[3];break;case"skew":k=s[V].replace(/skew\(|\)/g,"");var J=k.split(",");J[1]=J[1]||"0",d=-1!=J[0].indexOf("deg")?_:-1!=J[0].indexOf("grad")?w:1,h=-1!=J[1].indexOf("deg")?_:-1!=J[1].indexOf("grad")?w:1;var X=v(parseFloat(J[0])*d),ee=v(parseFloat(J[1])*h);N=B[0]+B[1]*ee,P=B[0]*X+B[1],D=B[2]+B[3]*ee,L=B[2]*X+B[3];break;case"scaleX":k=parseFloat(s[V].replace(/scaleX\(|\)/g,""))||1,N=B[0]*k,P=B[1],D=B[2]*k,L=B[3];break;case"scaleY":k=parseFloat(s[V].replace(/scaleY\(|\)/g,""))||1,N=B[0],P=B[1]*k,D=B[2],L=B[3]*k;break;case"scale":k=s[V].replace(/scale\(|\)/g,"");var te=k.split(",");te[1]=te[1]||te[0],N=B[0]*te[0],P=B[1]*te[1],D=B[2]*te[0],L=B[3]*te[1];break;case"translateX":k=parseInt(s[V].replace(/translateX\(|\)/g,""))||1,N=B[0],P=B[1],D=B[2],L=B[3],G=Q(k),G&&m(o,"dojo-transform-matrix-tx",G);break;case"translateY":k=parseInt(s[V].replace(/translateY\(|\)/g,""))||1,N=B[0],P=B[1],D=B[2],L=B[3],z=Q(k),z&&m(o,"dojo-transform-matrix-ty",z);break;case"translate":k=s[V].replace(/translate\(|\)/g,""),N=B[0],P=B[1],D=B[2],L=B[3];var ie=k.split(",");ie[0]=parseInt(Q(ie[0]))||0,ie[1]=parseInt(Q(ie[1]))||0,G=ie[0],z=ie[1],G&&m(o,"dojo-transform-matrix-tx",G),z&&m(o,"dojo-transform-matrix-ty",z)}B=[N,P,D,L,G,z]}var ae=b(q*N+W*P,b(b(q*N,W*P),0)),ne=b(q*D+W*L,b(b(q*D,W*L),0));if(C=-ae,F=-ne,n("ie")<8){if(o.style.zoom="1","absolute"!=H){var oe=R(e.parentNode,"width"),re=M(q*N),se=M(W*P),de=y(re+se,y(y(se,re),0));C-=(de-q)/2-(oe>de?0:(de-oe)/2)}}else 8==n("ie")&&"auto"==R(o,"zIndex")&&(o.style.zIndex="0");try{O=!!o.filters.item(u)}catch(le){O=!1}O?(o.filters.item(u).M11=N,o.filters.item(u).M12=P,o.filters.item(u).M21=D,o.filters.item(u).M22=L,o.filters.item(u).filterType="bilinear",o.filters.item(u).Dx=0,o.filters.item(u).Dy=0,o.filters.item(u).sizingMethod="auto expand"):o.style.filter+=" progid:"+u+"(M11="+N+",M12="+P+",M21="+D+",M22="+L+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",G=parseInt(m(o,"dojo-transform-matrix-tx")||"0"),z=parseInt(m(o,"dojo-transform-matrix-ty")||"0");var he=m(o,"dojo-transform-origin").split(" ");for(V=0;2>V;V++)he[V]=he[V]||"50%";return E=-1!=he[0].toString().indexOf("%")?q*parseInt(he[0])*.01:he[0],S=-1!=he[1].toString().indexOf("%")?W*parseInt(he[1])*.01:he[1],c(o,"dojo-startX")?I=parseInt(m(o,"dojo-startX")):(I=parseInt(R(o,"left")),m(o,"dojo-startX","absolute"==H?I:"0")),c(o,"dojo-startY")?T=parseInt(m(o,"dojo-startY")):(T=parseInt(R(o,"top")),m(o,"dojo-startY","absolute"==H?T:"0")),R(o,{position:H,left:I-parseInt(C)+parseInt(E)-((parseInt(E)-G)*N+(parseInt(S)-z)*P)+"px",top:T-parseInt(F)+parseInt(S)-((parseInt(E)-G)*D+(parseInt(S)-z)*L)+"px"}),t},_getTransformFilter:function(e){try{var t=r.byId(e),i=t.filters.item(0);return"matrix("+i.M11+", "+i.M12+", "+i.M21+", "+i.M22+", "+(a.attr(e,"dojo-transform-tx")||"0")+", "+(a.attr(e,"dojo-transform-ty")||"0")+")"}catch(n){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),h["ext-dojo"].style.init(),a.style});//# sourceMappingURL=style.js.map