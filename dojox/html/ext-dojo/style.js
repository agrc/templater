//>>built
define("dojox/html/ext-dojo/style",["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(e,t,i,a,r,o,n,s,l,d){e.experimental("dojox.html.ext-dojo.style");var u=(i.getObject("dojox.html.ext-dojo.style",!0),i.getObject("dojox.html"));return i.mixin(u["ext-dojo"].style,{supportsTransform:!0,_toPx:function(e){var t=a.style,i=this._conversion;return"number"==typeof e?e+"px":-1!=e.toLowerCase().indexOf("px")?e:(!i.parentNode&&s.place(i,o.body()),t(i,"margin",e),t(i,"margin"))},init:function(){var e=o.doc.documentElement.style,t=u["ext-dojo"].style,i=l.get,a=l.set;l.get=function(e,a){var r="transform"==a,o="transformOrigin"==a;return r?t.getTransform(e):o?t.getTransformOrigin(e):i.apply(this,arguments)},l.set=function(e,i,r){var o="transform"==i,s="transformOrigin"==i,l=n.byId(e);return o?t.setTransform(l,r,!0):s?t.setTransformOrigin(l,r):a.apply(this,arguments)};for(var d=0,c=["WebkitT","MozT","OT","msT","t"];d<c.length;d++)"undefined"!=typeof e[c[d]+"ransform"]&&(this.tPropertyName=c[d]+"ransform"),"undefined"!=typeof e[c[d]+"ransformOrigin"]&&(this.toPropertyName=c[d]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(e,t){return a(e,this.tPropertyName,t)},this.getTransform=function(e){return i(e,this.tPropertyName)}):r("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(e,t){return a(e,this.toPropertyName,t)},this.getTransformOrigin=function(e){return i(e,this.toPropertyName)}):r("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=s.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){},_setTransformOriginFilter:function(e,t){for(var r=i.trim(t).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),o=r.split(" "),s=n.byId(e),l=this.getTransform(s),d=!0,u=0;u<o.length;u++)d=d&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(o[u]),-1==o[u].indexOf("%")&&(o[u]=this._toPx(o[u]));return!d||!o.length||o.length>2?t:(a.attr(s,"dojo-transform-origin",o.join(" ")),l&&this.setTransform(e,l),t)},_getTransformOriginFilter:function(e){return a.attr(e,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(e,t){var i=t.replace(/\s/g,""),o=n.byId(e),s=i.split(")"),l=1,u=1,c="DXImageTransform.Microsoft.Matrix",h=d.has,m=a.attr,f=Math.PI,p=Math.cos,y=Math.sin,g=Math.tan,v=Math.max,b=Math.min,M=Math.abs,_=f/180,x=f/200,w="",k="",j=[],T=0,F=0,I=0,C=0,S=0,E=0,N=0,A=1,z=0,L=0,D=1,B=0,G=0,H=[A,z,L,D,B,G],P=!1,R=a.style,O="absolute"==R(o,"position")?"absolute":"relative",q=R(o,"width")+R(o,"paddingLeft")+R(o,"paddingRight"),Q=R(o,"height")+R(o,"paddingTop")+R(o,"paddingBottom"),V=this._toPx;!h(o,"dojo-transform-origin")&&this.setTransformOrigin(o,"50% 50%");for(var Y=0,W=s.length;W>Y;Y++){switch(j=s[Y].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/),k=j?j[0]:""){case"matrix":w=s[Y].replace(/matrix\(|\)/g,"");var K=w.split(",");A=H[0]*K[0]+H[1]*K[2],z=H[0]*K[1]+H[1]*K[3],L=H[2]*K[0]+H[3]*K[2],D=H[2]*K[1]+H[3]*K[3],B=H[4]+K[4],G=H[5]+K[5];break;case"rotate":w=s[Y].replace(/rotate\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?x:1,N=parseFloat(w)*l;var U=y(N),Z=p(N);A=H[0]*Z+H[1]*U,z=-H[0]*U+H[1]*Z,L=H[2]*Z+H[3]*U,D=-H[2]*U+H[3]*Z;break;case"skewX":w=s[Y].replace(/skewX\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?x:1;var X=g(parseFloat(w)*l);A=H[0],z=H[0]*X+H[1],L=H[2],D=H[2]*X+H[3];break;case"skewY":w=s[Y].replace(/skewY\(|\)/g,""),l=-1!=w.indexOf("deg")?_:-1!=w.indexOf("grad")?x:1,X=g(parseFloat(w)*l),A=H[0]+H[1]*X,z=H[1],L=H[2]+H[3]*X,D=H[3];break;case"skew":w=s[Y].replace(/skew\(|\)/g,"");var $=w.split(",");$[1]=$[1]||"0",l=-1!=$[0].indexOf("deg")?_:-1!=$[0].indexOf("grad")?x:1,u=-1!=$[1].indexOf("deg")?_:-1!=$[1].indexOf("grad")?x:1;var J=g(parseFloat($[0])*l),ee=g(parseFloat($[1])*u);A=H[0]+H[1]*ee,z=H[0]*J+H[1],L=H[2]+H[3]*ee,D=H[2]*J+H[3];break;case"scaleX":w=parseFloat(s[Y].replace(/scaleX\(|\)/g,""))||1,A=H[0]*w,z=H[1],L=H[2]*w,D=H[3];break;case"scaleY":w=parseFloat(s[Y].replace(/scaleY\(|\)/g,""))||1,A=H[0],z=H[1]*w,L=H[2],D=H[3]*w;break;case"scale":w=s[Y].replace(/scale\(|\)/g,"");var te=w.split(",");te[1]=te[1]||te[0],A=H[0]*te[0],z=H[1]*te[1],L=H[2]*te[0],D=H[3]*te[1];break;case"translateX":w=parseInt(s[Y].replace(/translateX\(|\)/g,""))||1,A=H[0],z=H[1],L=H[2],D=H[3],B=V(w),B&&m(o,"dojo-transform-matrix-tx",B);break;case"translateY":w=parseInt(s[Y].replace(/translateY\(|\)/g,""))||1,A=H[0],z=H[1],L=H[2],D=H[3],G=V(w),G&&m(o,"dojo-transform-matrix-ty",G);break;case"translate":w=s[Y].replace(/translate\(|\)/g,""),A=H[0],z=H[1],L=H[2],D=H[3];var ie=w.split(",");ie[0]=parseInt(V(ie[0]))||0,ie[1]=parseInt(V(ie[1]))||0,B=ie[0],G=ie[1],B&&m(o,"dojo-transform-matrix-tx",B),G&&m(o,"dojo-transform-matrix-ty",G)}H=[A,z,L,D,B,G]}var ae=b(q*A+Q*z,b(b(q*A,Q*z),0)),re=b(q*L+Q*D,b(b(q*L,Q*D),0));if(I=-ae,C=-re,r("ie")<8){if(o.style.zoom="1","absolute"!=O){var oe=R(e.parentNode,"width"),ne=M(q*A),se=M(Q*z),le=v(ne+se,v(v(se,ne),0));I-=(le-q)/2-(oe>le?0:(le-oe)/2)}}else 8==r("ie")&&"auto"==R(o,"zIndex")&&(o.style.zIndex="0");try{P=!!o.filters.item(c)}catch(de){P=!1}P?(o.filters.item(c).M11=A,o.filters.item(c).M12=z,o.filters.item(c).M21=L,o.filters.item(c).M22=D,o.filters.item(c).filterType="bilinear",o.filters.item(c).Dx=0,o.filters.item(c).Dy=0,o.filters.item(c).sizingMethod="auto expand"):o.style.filter+=" progid:"+c+"(M11="+A+",M12="+z+",M21="+L+",M22="+D+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",B=parseInt(m(o,"dojo-transform-matrix-tx")||"0"),G=parseInt(m(o,"dojo-transform-matrix-ty")||"0");var ue=m(o,"dojo-transform-origin").split(" ");for(Y=0;2>Y;Y++)ue[Y]=ue[Y]||"50%";return S=-1!=ue[0].toString().indexOf("%")?q*parseInt(ue[0])*.01:ue[0],E=-1!=ue[1].toString().indexOf("%")?Q*parseInt(ue[1])*.01:ue[1],h(o,"dojo-startX")?T=parseInt(m(o,"dojo-startX")):(T=parseInt(R(o,"left")),m(o,"dojo-startX","absolute"==O?T:"0")),h(o,"dojo-startY")?F=parseInt(m(o,"dojo-startY")):(F=parseInt(R(o,"top")),m(o,"dojo-startY","absolute"==O?F:"0")),R(o,{position:O,left:T-parseInt(I)+parseInt(S)-((parseInt(S)-B)*A+(parseInt(E)-G)*z)+"px",top:F-parseInt(C)+parseInt(E)-((parseInt(S)-B)*L+(parseInt(E)-G)*D)+"px"}),t},_getTransformFilter:function(e){try{var t=n.byId(e),i=t.filters.item(0);return"matrix("+i.M11+", "+i.M12+", "+i.M21+", "+i.M22+", "+(a.attr(e,"dojo-transform-tx")||"0")+", "+(a.attr(e,"dojo-transform-ty")||"0")+")"}catch(r){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),u["ext-dojo"].style.init(),a.style});//# sourceMappingURL=style.js.map