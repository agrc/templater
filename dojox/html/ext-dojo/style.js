//>>built
define("dojox/html/ext-dojo/style",["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(e,t,i,a,o,r,n,s,l,d){e.experimental("dojox.html.ext-dojo.style");var h=(i.getObject("dojox.html.ext-dojo.style",!0),i.getObject("dojox.html"));return i.mixin(h["ext-dojo"].style,{supportsTransform:!0,_toPx:function(e){var t=a.style,i=this._conversion;return"number"==typeof e?e+"px":-1!=e.toLowerCase().indexOf("px")?e:(!i.parentNode&&s.place(i,r.body()),t(i,"margin",e),t(i,"margin"))},init:function(){var e=r.doc.documentElement.style,t=h["ext-dojo"].style,i=l.get,a=l.set;l.get=function(e,a){var o="transform"==a,r="transformOrigin"==a;return o?t.getTransform(e):r?t.getTransformOrigin(e):i.apply(this,arguments)},l.set=function(e,i,o){var r="transform"==i,s="transformOrigin"==i,l=n.byId(e);return r?t.setTransform(l,o,!0):s?t.setTransformOrigin(l,o):a.apply(this,arguments)};for(var d=0,c=["WebkitT","MozT","OT","msT","t"];d<c.length;d++)"undefined"!=typeof e[c[d]+"ransform"]&&(this.tPropertyName=c[d]+"ransform"),"undefined"!=typeof e[c[d]+"ransformOrigin"]&&(this.toPropertyName=c[d]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(e,t){return a(e,this.tPropertyName,t)},this.getTransform=function(e){return i(e,this.tPropertyName)}):o("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(e,t){return a(e,this.toPropertyName,t)},this.getTransformOrigin=function(e){return i(e,this.toPropertyName)}):o("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=s.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){},_setTransformOriginFilter:function(e,t){for(var o=i.trim(t).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),r=o.split(" "),s=n.byId(e),l=this.getTransform(s),d=!0,h=0;h<r.length;h++)d=d&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(r[h]),-1==r[h].indexOf("%")&&(r[h]=this._toPx(r[h]));return!d||!r.length||r.length>2?t:(a.attr(s,"dojo-transform-origin",r.join(" ")),l&&this.setTransform(e,l),t)},_getTransformOriginFilter:function(e){return a.attr(e,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(e,t){var i=t.replace(/\s/g,""),r=n.byId(e),s=i.split(")"),l=1,h=1,c="DXImageTransform.Microsoft.Matrix",u=d.has,m=a.attr,f=Math.PI,p=Math.cos,g=Math.sin,y=Math.tan,v=Math.max,b=Math.min,M=Math.abs,k=f/180,_=f/200,x="",w="",I=[],T=0,j=0,C=0,F=0,S=0,E=0,N=0,z=1,L=0,P=0,A=1,G=0,H=0,B=[z,L,P,A,G,H],D=!1,R=a.style,O="absolute"==R(r,"position")?"absolute":"relative",Q=R(r,"width")+R(r,"paddingLeft")+R(r,"paddingRight"),W=R(r,"height")+R(r,"paddingTop")+R(r,"paddingBottom"),q=this._toPx;!u(r,"dojo-transform-origin")&&this.setTransformOrigin(r,"50% 50%");for(var Y=0,U=s.length;U>Y;Y++){switch(I=s[Y].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/),w=I?I[0]:""){case"matrix":x=s[Y].replace(/matrix\(|\)/g,"");var X=x.split(",");z=B[0]*X[0]+B[1]*X[2],L=B[0]*X[1]+B[1]*X[3],P=B[2]*X[0]+B[3]*X[2],A=B[2]*X[1]+B[3]*X[3],G=B[4]+X[4],H=B[5]+X[5];break;case"rotate":x=s[Y].replace(/rotate\(|\)/g,""),l=-1!=x.indexOf("deg")?k:-1!=x.indexOf("grad")?_:1,N=parseFloat(x)*l;var K=g(N),V=p(N);z=B[0]*V+B[1]*K,L=-B[0]*K+B[1]*V,P=B[2]*V+B[3]*K,A=-B[2]*K+B[3]*V;break;case"skewX":x=s[Y].replace(/skewX\(|\)/g,""),l=-1!=x.indexOf("deg")?k:-1!=x.indexOf("grad")?_:1;var Z=y(parseFloat(x)*l);z=B[0],L=B[0]*Z+B[1],P=B[2],A=B[2]*Z+B[3];break;case"skewY":x=s[Y].replace(/skewY\(|\)/g,""),l=-1!=x.indexOf("deg")?k:-1!=x.indexOf("grad")?_:1,Z=y(parseFloat(x)*l),z=B[0]+B[1]*Z,L=B[1],P=B[2]+B[3]*Z,A=B[3];break;case"skew":x=s[Y].replace(/skew\(|\)/g,"");var $=x.split(",");$[1]=$[1]||"0",l=-1!=$[0].indexOf("deg")?k:-1!=$[0].indexOf("grad")?_:1,h=-1!=$[1].indexOf("deg")?k:-1!=$[1].indexOf("grad")?_:1;var J=y(parseFloat($[0])*l),ee=y(parseFloat($[1])*h);z=B[0]+B[1]*ee,L=B[0]*J+B[1],P=B[2]+B[3]*ee,A=B[2]*J+B[3];break;case"scaleX":x=parseFloat(s[Y].replace(/scaleX\(|\)/g,""))||1,z=B[0]*x,L=B[1],P=B[2]*x,A=B[3];break;case"scaleY":x=parseFloat(s[Y].replace(/scaleY\(|\)/g,""))||1,z=B[0],L=B[1]*x,P=B[2],A=B[3]*x;break;case"scale":x=s[Y].replace(/scale\(|\)/g,"");var te=x.split(",");te[1]=te[1]||te[0],z=B[0]*te[0],L=B[1]*te[1],P=B[2]*te[0],A=B[3]*te[1];break;case"translateX":x=parseInt(s[Y].replace(/translateX\(|\)/g,""))||1,z=B[0],L=B[1],P=B[2],A=B[3],G=q(x),G&&m(r,"dojo-transform-matrix-tx",G);break;case"translateY":x=parseInt(s[Y].replace(/translateY\(|\)/g,""))||1,z=B[0],L=B[1],P=B[2],A=B[3],H=q(x),H&&m(r,"dojo-transform-matrix-ty",H);break;case"translate":x=s[Y].replace(/translate\(|\)/g,""),z=B[0],L=B[1],P=B[2],A=B[3];var ie=x.split(",");ie[0]=parseInt(q(ie[0]))||0,ie[1]=parseInt(q(ie[1]))||0,G=ie[0],H=ie[1],G&&m(r,"dojo-transform-matrix-tx",G),H&&m(r,"dojo-transform-matrix-ty",H)}B=[z,L,P,A,G,H]}var ae=b(Q*z+W*L,b(b(Q*z,W*L),0)),oe=b(Q*P+W*A,b(b(Q*P,W*A),0));if(C=-ae,F=-oe,o("ie")<8){if(r.style.zoom="1","absolute"!=O){var re=R(e.parentNode,"width"),ne=M(Q*z),se=M(W*L),le=v(ne+se,v(v(se,ne),0));C-=(le-Q)/2-(re>le?0:(le-re)/2)}}else 8==o("ie")&&"auto"==R(r,"zIndex")&&(r.style.zIndex="0");try{D=!!r.filters.item(c)}catch(de){D=!1}D?(r.filters.item(c).M11=z,r.filters.item(c).M12=L,r.filters.item(c).M21=P,r.filters.item(c).M22=A,r.filters.item(c).filterType="bilinear",r.filters.item(c).Dx=0,r.filters.item(c).Dy=0,r.filters.item(c).sizingMethod="auto expand"):r.style.filter+=" progid:"+c+"(M11="+z+",M12="+L+",M21="+P+",M22="+A+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",G=parseInt(m(r,"dojo-transform-matrix-tx")||"0"),H=parseInt(m(r,"dojo-transform-matrix-ty")||"0");var he=m(r,"dojo-transform-origin").split(" ");for(Y=0;2>Y;Y++)he[Y]=he[Y]||"50%";return S=-1!=he[0].toString().indexOf("%")?Q*parseInt(he[0])*.01:he[0],E=-1!=he[1].toString().indexOf("%")?W*parseInt(he[1])*.01:he[1],u(r,"dojo-startX")?T=parseInt(m(r,"dojo-startX")):(T=parseInt(R(r,"left")),m(r,"dojo-startX","absolute"==O?T:"0")),u(r,"dojo-startY")?j=parseInt(m(r,"dojo-startY")):(j=parseInt(R(r,"top")),m(r,"dojo-startY","absolute"==O?j:"0")),R(r,{position:O,left:T-parseInt(C)+parseInt(S)-((parseInt(S)-G)*z+(parseInt(E)-H)*L)+"px",top:j-parseInt(F)+parseInt(E)-((parseInt(S)-G)*P+(parseInt(E)-H)*A)+"px"}),t},_getTransformFilter:function(e){try{var t=n.byId(e),i=t.filters.item(0);return"matrix("+i.M11+", "+i.M12+", "+i.M21+", "+i.M22+", "+(a.attr(e,"dojo-transform-tx")||"0")+", "+(a.attr(e,"dojo-transform-ty")||"0")+")"}catch(o){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),h["ext-dojo"].style.init(),a.style});//# sourceMappingURL=style.js.map