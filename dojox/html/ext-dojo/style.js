//>>built
define("dojox/html/ext-dojo/style",["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(e,t,i,a,r,o,n,s,l,d){e.experimental("dojox.html.ext-dojo.style");var u=(i.getObject("dojox.html.ext-dojo.style",!0),i.getObject("dojox.html"));return i.mixin(u["ext-dojo"].style,{supportsTransform:!0,_toPx:function(e){var t=a.style,i=this._conversion;return"number"==typeof e?e+"px":-1!=e.toLowerCase().indexOf("px")?e:(!i.parentNode&&s.place(i,o.body()),t(i,"margin",e),t(i,"margin"))},init:function(){var e=o.doc.documentElement.style,t=u["ext-dojo"].style,i=l.get,a=l.set;l.get=function(e,a){var r="transform"==a,o="transformOrigin"==a;return r?t.getTransform(e):o?t.getTransformOrigin(e):i.apply(this,arguments)},l.set=function(e,i,r){var o="transform"==i,s="transformOrigin"==i,l=n.byId(e);return o?t.setTransform(l,r,!0):s?t.setTransformOrigin(l,r):a.apply(this,arguments)};for(var d=0,h=["WebkitT","MozT","OT","msT","t"];d<h.length;d++)void 0!==e[h[d]+"ransform"]&&(this.tPropertyName=h[d]+"ransform"),void 0!==e[h[d]+"ransformOrigin"]&&(this.toPropertyName=h[d]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(e,t){return a(e,this.tPropertyName,t)},this.getTransform=function(e){return i(e,this.tPropertyName)}):r("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(e,t){return a(e,this.toPropertyName,t)},this.getTransformOrigin=function(e){return i(e,this.toPropertyName)}):r("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=s.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){},_setTransformOriginFilter:function(e,t){for(var r=i.trim(t).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," "),o=r.split(" "),s=n.byId(e),l=this.getTransform(s),d=!0,u=0;u<o.length;u++)d=d&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(o[u]),-1==o[u].indexOf("%")&&(o[u]=this._toPx(o[u]));return!d||!o.length||o.length>2?t:(a.attr(s,"dojo-transform-origin",o.join(" ")),l&&this.setTransform(e,l),t)},_getTransformOriginFilter:function(e){return a.attr(e,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(e,t){var i=t.replace(/\s/g,""),o=n.byId(e),s=i.split(")"),l=1,u=1,h="DXImageTransform.Microsoft.Matrix",c=d.has,m=a.attr,f=Math.PI,p=Math.cos,g=Math.sin,y=Math.tan,v=Math.max,b=Math.min,M=Math.abs,_=f/180,w=f/200,k="",x=[],T=0,j=0,C=0,I=0,F=0,S=0,A=0,E=1,z=0,N=0,P=1,L=0,D=0,B=[E,z,N,P,L,D],G=!1,R=a.style,H="absolute"==R(o,"position")?"absolute":"relative",O=R(o,"width")+R(o,"paddingLeft")+R(o,"paddingRight"),q=R(o,"height")+R(o,"paddingTop")+R(o,"paddingBottom"),Q=this._toPx;!c(o,"dojo-transform-origin")&&this.setTransformOrigin(o,"50% 50%");for(var Y=0,W=s.length;Y<W;Y++){switch(x=s[Y].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/),x?x[0]:""){case"matrix":k=s[Y].replace(/matrix\(|\)/g,"");var V=k.split(",");E=B[0]*V[0]+B[1]*V[2],z=B[0]*V[1]+B[1]*V[3],N=B[2]*V[0]+B[3]*V[2],P=B[2]*V[1]+B[3]*V[3],L=B[4]+V[4],D=B[5]+V[5];break;case"rotate":k=s[Y].replace(/rotate\(|\)/g,""),l=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1,A=parseFloat(k)*l;var U=g(A),X=p(A);E=B[0]*X+B[1]*U,z=-B[0]*U+B[1]*X,N=B[2]*X+B[3]*U,P=-B[2]*U+B[3]*X;break;case"skewX":k=s[Y].replace(/skewX\(|\)/g,""),l=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1;var K=y(parseFloat(k)*l);E=B[0],z=B[0]*K+B[1],N=B[2],P=B[2]*K+B[3];break;case"skewY":k=s[Y].replace(/skewY\(|\)/g,""),l=-1!=k.indexOf("deg")?_:-1!=k.indexOf("grad")?w:1,K=y(parseFloat(k)*l),E=B[0]+B[1]*K,z=B[1],N=B[2]+B[3]*K,P=B[3];break;case"skew":k=s[Y].replace(/skew\(|\)/g,"");var Z=k.split(",");Z[1]=Z[1]||"0",l=-1!=Z[0].indexOf("deg")?_:-1!=Z[0].indexOf("grad")?w:1,u=-1!=Z[1].indexOf("deg")?_:-1!=Z[1].indexOf("grad")?w:1;var $=y(parseFloat(Z[0])*l),J=y(parseFloat(Z[1])*u);E=B[0]+B[1]*J,z=B[0]*$+B[1],N=B[2]+B[3]*J,P=B[2]*$+B[3];break;case"scaleX":k=parseFloat(s[Y].replace(/scaleX\(|\)/g,""))||1,E=B[0]*k,z=B[1],N=B[2]*k,P=B[3];break;case"scaleY":k=parseFloat(s[Y].replace(/scaleY\(|\)/g,""))||1,E=B[0],z=B[1]*k,N=B[2],P=B[3]*k;break;case"scale":k=s[Y].replace(/scale\(|\)/g,"");var ee=k.split(",");ee[1]=ee[1]||ee[0],E=B[0]*ee[0],z=B[1]*ee[1],N=B[2]*ee[0],P=B[3]*ee[1];break;case"translateX":k=parseInt(s[Y].replace(/translateX\(|\)/g,""))||1,E=B[0],z=B[1],N=B[2],P=B[3],L=Q(k),L&&m(o,"dojo-transform-matrix-tx",L);break;case"translateY":k=parseInt(s[Y].replace(/translateY\(|\)/g,""))||1,E=B[0],z=B[1],N=B[2],P=B[3],D=Q(k),D&&m(o,"dojo-transform-matrix-ty",D);break;case"translate":k=s[Y].replace(/translate\(|\)/g,""),E=B[0],z=B[1],N=B[2],P=B[3];var te=k.split(",");te[0]=parseInt(Q(te[0]))||0,te[1]=parseInt(Q(te[1]))||0,L=te[0],D=te[1],L&&m(o,"dojo-transform-matrix-tx",L),D&&m(o,"dojo-transform-matrix-ty",D)}B=[E,z,N,P,L,D]}var ie=b(O*E+q*z,b(b(O*E,q*z),0)),ae=b(O*N+q*P,b(b(O*N,q*P),0));if(C=-ie,I=-ae,r("ie")<8){if(o.style.zoom="1","absolute"!=H){var re=R(e.parentNode,"width"),oe=M(O*E),ne=M(q*z),se=v(oe+ne,v(v(ne,oe),0));C-=(se-O)/2-(re>se?0:(se-re)/2)}}else 8==r("ie")&&"auto"==R(o,"zIndex")&&(o.style.zIndex="0");try{G=!!o.filters.item(h)}catch(e){G=!1}G?(o.filters.item(h).M11=E,o.filters.item(h).M12=z,o.filters.item(h).M21=N,o.filters.item(h).M22=P,o.filters.item(h).filterType="bilinear",o.filters.item(h).Dx=0,o.filters.item(h).Dy=0,o.filters.item(h).sizingMethod="auto expand"):o.style.filter+=" progid:"+h+"(M11="+E+",M12="+z+",M21="+N+",M22="+P+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",L=parseInt(m(o,"dojo-transform-matrix-tx")||"0"),D=parseInt(m(o,"dojo-transform-matrix-ty")||"0");var le=m(o,"dojo-transform-origin").split(" ");for(Y=0;Y<2;Y++)le[Y]=le[Y]||"50%";return F=-1!=le[0].toString().indexOf("%")?O*parseInt(le[0])*.01:le[0],S=-1!=le[1].toString().indexOf("%")?q*parseInt(le[1])*.01:le[1],c(o,"dojo-startX")?T=parseInt(m(o,"dojo-startX")):(T=parseInt(R(o,"left")),m(o,"dojo-startX","absolute"==H?T:"0")),c(o,"dojo-startY")?j=parseInt(m(o,"dojo-startY")):(j=parseInt(R(o,"top")),m(o,"dojo-startY","absolute"==H?j:"0")),R(o,{position:H,left:T-parseInt(C)+parseInt(F)-((parseInt(F)-L)*E+(parseInt(S)-D)*z)+"px",top:j-parseInt(I)+parseInt(S)-((parseInt(F)-L)*N+(parseInt(S)-D)*P)+"px"}),t},_getTransformFilter:function(e){try{var t=n.byId(e),i=t.filters.item(0);return"matrix("+i.M11+", "+i.M12+", "+i.M21+", "+i.M22+", "+(a.attr(e,"dojo-transform-tx")||"0")+", "+(a.attr(e,"dojo-transform-ty")||"0")+")"}catch(e){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),u["ext-dojo"].style.init(),a.style});//# sourceMappingURL=style.js.map