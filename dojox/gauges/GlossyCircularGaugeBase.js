//>>built
define("dojox/gauges/GlossyCircularGaugeBase",["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojox/gfx","./AnalogGauge","./AnalogCircleIndicator","./TextIndicator","./GlossyCircularGaugeNeedle"],function(e,t,i,r,a,n,o,s){return e("dojox.gauges.GlossyCircularGaugeBase",[a],{_defaultIndicator:n,_needle:null,_textIndicator:null,_textIndicatorAdded:!1,_range:null,value:0,color:"black",needleColor:"#c4c4c4",textIndicatorFont:"normal normal normal 20pt serif",textIndicatorVisible:!0,textIndicatorColor:"#c4c4c4",_majorTicksOffset:130,majorTicksInterval:10,_majorTicksLength:5,majorTicksColor:"#c4c4c4",majorTicksLabelPlacement:"inside",_minorTicksOffset:130,minorTicksInterval:5,_minorTicksLength:3,minorTicksColor:"#c4c4c4",noChange:!1,title:"",font:"normal normal normal 10pt serif",scalePrecision:0,textIndicatorPrecision:0,_font:null,constructor:function(){this.startAngle=-135,this.endAngle=135,this.min=0,this.max=100},startup:function(){if(this.inherited(arguments),!this._needle){var e=Math.min(this.width/this._designWidth,this.height/this._designHeight);this.cx=e*this._designCx+(this.width-e*this._designWidth)/2,this.cy=e*this._designCy+(this.height-e*this._designHeight)/2,this._range={low:this.min?this.min:0,high:this.max?this.max:100,color:[255,255,255,0]},this.addRange(this._range),this._majorTicksOffset=this._minorTicksOffset=e*this._majorTicksOffset,this._majorTicksLength=e*this._majorTicksLength,this._minorTicksLength=e*this._minorTicksLength,this.setMajorTicks({fixedPrecision:!0,precision:this.scalePrecision,font:this._font,offset:this._majorTicksOffset,interval:this.majorTicksInterval,length:this._majorTicksLength,color:this.majorTicksColor,labelPlacement:this.majorTicksLabelPlacement}),this.setMinorTicks({offset:this._minorTicksOffset,interval:this.minorTicksInterval,length:this._minorTicksLength,color:this.minorTicksColor}),this._needle=new s({hideValue:!0,title:this.title,noChange:this.noChange,color:this.needleColor,value:this.value}),this.addIndicator(this._needle),this._textIndicator=new o({x:e*this._designTextIndicatorX+(this.width-e*this._designWidth)/2,y:e*this._designTextIndicatorY+(this.height-e*this._designHeight)/2,fixedPrecision:!0,precision:this.textIndicatorPrecision,color:this.textIndicatorColor,value:this.value?this.value:this.min,align:"middle",font:this._textIndicatorFont}),this.textIndicatorVisible&&(this.addIndicator(this._textIndicator),this._textIndicatorAdded=!0),i.connect(this._needle,"valueChanged",t.hitch(this,function(){this.value=this._needle.value,this._textIndicator.update(this._needle.value),this.onValueChanged()}))}},onValueChanged:function(){},_setColorAttr:function(e){this.color=e?e:"black",this._gaugeBackground&&this._gaugeBackground.parent&&this._gaugeBackground.parent.remove(this._gaugeBackground),this._foreground&&this._foreground.parent&&this._foreground.parent.remove(this._foreground),this._gaugeBackground=null,this._foreground=null,this.draw()},_setNeedleColorAttr:function(e){this.needleColor=e,this._needle&&(this.removeIndicator(this._needle),this._needle.color=this.needleColor,this._needle.shape=null,this.addIndicator(this._needle))},_setTextIndicatorColorAttr:function(e){this.textIndicatorColor=e,this._textIndicator&&(this._textIndicator.color=this.textIndicatorColor,this.draw())},_setTextIndicatorFontAttr:function(e){this.textIndicatorFont=e,this._textIndicatorFont=r.splitFontString(e),this._textIndicator&&(this._textIndicator.font=this._textIndicatorFont,this.draw())},setMajorTicksOffset:function(e){return this._majorTicksOffset=e,this._setMajorTicksProperty({offset:this._majorTicksOffset}),this},getMajorTicksOffset:function(){return this._majorTicksOffset},_setMajorTicksIntervalAttr:function(e){this.majorTicksInterval=e,this._setMajorTicksProperty({interval:this.majorTicksInterval})},setMajorTicksLength:function(e){return this._majorTicksLength=e,this._setMajorTicksProperty({length:this._majorTicksLength}),this},getMajorTicksLength:function(){return this._majorTicksLength},_setMajorTicksColorAttr:function(e){this.majorTicksColor=e,this._setMajorTicksProperty({color:this.majorTicksColor})},_setMajorTicksLabelPlacementAttr:function(e){this.majorTicksLabelPlacement=e,this._setMajorTicksProperty({labelPlacement:this.majorTicksLabelPlacement})},_setMajorTicksProperty:function(e){this.majorTicks&&(t.mixin(this.majorTicks,e),this.setMajorTicks(this.majorTicks))},setMinorTicksOffset:function(e){return this._minorTicksOffset=e,this._setMinorTicksProperty({offset:this._minorTicksOffset}),this},getMinorTicksOffset:function(){return this._minorTicksOffset},_setMinorTicksIntervalAttr:function(e){this.minorTicksInterval=e,this._setMinorTicksProperty({interval:this.minorTicksInterval})},setMinorTicksLength:function(e){return this._minorTicksLength=e,this._setMinorTicksProperty({length:this._minorTicksLength}),this},getMinorTicksLength:function(){return this._minorTicksLength},_setMinorTicksColorAttr:function(e){this.minorTicksColor=e,this._setMinorTicksProperty({color:this.minorTicksColor})},_setMinorTicksProperty:function(e){this.minorTicks&&(t.mixin(this.minorTicks,e),this.setMinorTicks(this.minorTicks))},_setMinAttr:function(e){this.min=e,null!=this.majorTicks&&this.setMajorTicks(this.majorTicks),null!=this.minorTicks&&this.setMinorTicks(this.minorTicks),this.draw(),this._updateNeedle()},_setMaxAttr:function(e){this.max=e,null!=this.majorTicks&&this.setMajorTicks(this.majorTicks),null!=this.minorTicks&&this.setMinorTicks(this.minorTicks),this.draw(),this._updateNeedle()},_setScalePrecisionAttr:function(e){this.scalePrecision=e,this._setMajorTicksProperty({precision:e})},_setTextIndicatorPrecisionAttr:function(e){this.textIndicatorPrecision=e,this._setMajorTicksProperty({precision:e})},_setValueAttr:function(e){if(e=Math.min(this.max,e),e=Math.max(this.min,e),this.value=e,this._needle){var t=this._needle.noChange;this._needle.noChange=!1,this._needle.update(e),this._needle.noChange=t}},_setNoChangeAttr:function(e){this.noChange=e,this._needle&&(this._needle.noChange=this.noChange)},_setTextIndicatorVisibleAttr:function(e){this.textIndicatorVisible=e,this._textIndicator&&this._needle&&(this.textIndicatorVisible&&!this._textIndicatorAdded?(this.addIndicator(this._textIndicator),this._textIndicatorAdded=!0,this.moveIndicatorToFront(this._needle)):!this.textIndicatorVisible&&this._textIndicatorAdded&&(this.removeIndicator(this._textIndicator),this._textIndicatorAdded=!1))},_setTitleAttr:function(e){this.title=e,this._needle&&(this._needle.title=this.title)},_setOrientationAttr:function(e){this.orientation=e,null!=this.majorTicks&&this.setMajorTicks(this.majorTicks),null!=this.minorTicks&&this.setMinorTicks(this.minorTicks),this.draw(),this._updateNeedle()},_updateNeedle:function(){if(this.value=Math.max(this.min,this.value),this.value=Math.min(this.max,this.value),this._needle){var e=this._needle.noChange;this._needle.noChange=!1,this._needle.update(this.value,!1),this._needle.noChange=e}},_setFontAttr:function(e){this.font=e,this._font=r.splitFontString(e),this._setMajorTicksProperty({font:this._font})}})});//# sourceMappingURL=GlossyCircularGaugeBase.js.map