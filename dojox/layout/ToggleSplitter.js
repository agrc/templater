//>>built
define("dojox/layout/ToggleSplitter",["dojo","dijit","dijit/layout/BorderContainer"],function(e,t){e.experimental("dojox.layout.ToggleSplitter");var i=e.declare("dojox.layout.ToggleSplitter",t.layout._Splitter,{container:null,child:null,region:null,state:"full",_closedSize:"0",baseClass:"dojoxToggleSplitter",templateString:'<div class="dijitSplitter dojoxToggleSplitter" dojoAttachEvent="onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse"><div dojoAttachPoint="toggleNode" class="dijitSplitterThumb dojoxToggleSplitterIcon" tabIndex="0" role="separator" dojoAttachEvent="onmousedown:_onToggleNodeMouseDown,onclick:_toggle,onmouseenter:_onToggleNodeMouseMove,onmouseleave:_onToggleNodeMouseMove,onfocus:_onToggleNodeMouseMove,onblur:_onToggleNodeMouseMove"><span class="dojoxToggleSplitterA11y" dojoAttachPoint="a11yText"></span></div></div>',postCreate:function(){this.inherited(arguments);var t=this.region;e.addClass(this.domNode,this.baseClass+t.charAt(0).toUpperCase()+t.substring(1))},startup:function(){this.inherited(arguments);var t=(this.child,this.child.domNode),i=e.style(t,this.horizontal?"height":"width");return this.domNode.setAttribute("aria-controls",t.id),e.forEach(["toggleSplitterState","toggleSplitterFullSize","toggleSplitterCollapsedSize"],function(e){var t=e.substring("toggleSplitter".length);t=t.charAt(0).toLowerCase()+t.substring(1),e in this.child&&(this[t]=this.child[e])},this),this.fullSize||(this.fullSize="full"==this.state?i+"px":"75px"),this._openStyleProps=this._getStyleProps(t,"full"),this._started=!0,this.set("state",this.state),this},_onKeyPress:function(t){"full"==this.state&&this.inherited(arguments),t.charCode!=e.keys.SPACE&&t.keyCode!=e.keys.ENTER||(this._toggle(t),e.stopEvent(t))},_onToggleNodeMouseDown:function(t){e.stopEvent(t),this.toggleNode.focus()},_startDrag:function(e){"full"==this.state&&this.inherited(arguments)},_stopDrag:function(e){this.inherited(arguments),this.toggleNode.blur()},_toggle:function(e){var t;switch(this.state){case"full":t=this.collapsedSize?"collapsed":"closed";break;case"collapsed":t="closed";break;default:t="full"}this.set("state",t)},_onToggleNodeMouseMove:function(t){var i=this.baseClass,a=this.toggleNode,r="full"==this.state||"collapsed"==this.state,o="mouseout"==t.type||"blur"==t.type;e.toggleClass(a,i+"IconOpen",o&&r),e.toggleClass(a,i+"IconOpenHover",!o&&r),e.toggleClass(a,i+"IconClosed",o&&!r),e.toggleClass(a,i+"IconClosedHover",!o&&!r)},_handleOnChange:function(t){var i,a,r=this.child.domNode,o=this.horizontal?"height":"width";if("full"==this.state){var n=e.mixin({display:"block",overflow:"auto",visibility:"visible"},this._openStyleProps);n[o]=this._openStyleProps&&this._openStyleProps[o]?this._openStyleProps[o]:this.fullSize,e.style(this.domNode,"cursor",""),e.style(r,n)}else if("collapsed"==this.state)a=e.getComputedStyle(r),i=this._getStyleProps(r,"full",a),this._openStyleProps=i,e.style(this.domNode,"cursor","auto"),e.style(r,o,this.collapsedSize);else{this.collapsedSize||(a=e.getComputedStyle(r),i=this._getStyleProps(r,"full",a),this._openStyleProps=i);var s=this._getStyleProps(r,"closed",a);e.style(this.domNode,"cursor","auto"),e.style(r,s)}this._setStateClass(),this.container._started&&this.container._layoutChildren(this.region)},_getStyleProps:function(t,i,a){a||(a=e.getComputedStyle(t));var r={},o=this.horizontal?"height":"width";r.overflow="closed"!=i?a.overflow:"hidden",r.visibility="closed"!=i?a.visibility:"hidden",r[o]="closed"!=i?t.style[o]||a[o]:this._closedSize;var n=["Top","Right","Bottom","Left"];return e.forEach(["padding","margin","border"],function(e){for(var t=0;t<n.length;t++){var o=e+n[t];"border"==e&&(o+="Width"),void 0!==a[o]&&(r[o]="closed"!=i?a[o]:0)}}),r},_setStateClass:function(){var t="&#9652",i=this.region.toLowerCase(),a=this.baseClass,r=this.toggleNode,o="full"==this.state||"collapsed"==this.state,n=this.focused;e.toggleClass(r,a+"IconOpen",o&&!n),e.toggleClass(r,a+"IconClosed",!o&&!n),e.toggleClass(r,a+"IconOpenHover",o&&n),e.toggleClass(r,a+"IconClosedHover",!o&&n),"top"==i&&o||"bottom"==i&&!o?t="&#9650":"top"==i&&!o||"bottom"==i&&o?t="&#9660":"right"==i&&o||"left"==i&&!o?t="&#9654":("right"==i&&!o||"left"==i&&o)&&(t="&#9664"),this.a11yText.innerHTML=t},_setStateAttr:function(e){if(this._started){var t=this.state;this.state=e,this._handleOnChange(t);var i;switch(e){case"full":this.domNode.setAttribute("aria-expanded",!0),i="onOpen";break;case"collapsed":this.domNode.setAttribute("aria-expanded",!0),i="onCollapsed";break;default:this.domNode.setAttribute("aria-expanded",!1),i="onClosed"}this[i](this.child)}},onOpen:function(e){},onCollapsed:function(e){},onClosed:function(e){}});return e.extend(t._Widget,{toggleSplitterState:"full",toggleSplitterFullSize:"",toggleSplitterCollapsedSize:""}),i});//# sourceMappingURL=ToggleSplitter.js.map