{"version":3,"sources":["xmppSession.js.uncompressed.js"],"names":["define","dojo","dijit","dojox","provide","require","xmpp","STREAM_NS","CLIENT_NS","STANZA_NS","SASL_NS","BIND_NS","SESSION_NS","BODY_NS","XHTML_BODY_NS","XHTML_IM_NS","INACTIVE","CONNECTED","ACTIVE","TERMINATE","LOGIN_FAILURE","INVALID_ID","NO_ID","error","BAD_REQUEST","CONFLICT","FEATURE_NOT_IMPLEMENTED","FORBIDDEN","GONE","INTERNAL_SERVER_ERROR","ITEM_NOT_FOUND","ID_MALFORMED","NOT_ACCEPTABLE","NOT_ALLOWED","NOT_AUTHORIZED","SERVICE_UNAVAILABLE","SUBSCRIPTION_REQUIRED","UNEXPECTED_REQUEST","xmppSession","props","this","roster","chatRegister","_iqId","Math","round","random","isObject","mixin","session","TransportSession","connect","extend","open","user","password","resource","Error","jid","indexOf","domain","close","state","util","createElement","type","xmlns","processProtocolResponse","msg","nodeName","nsIndex","substring","getAttribute","saslHandler","messageHandler","chatHandler","simpleMessageHandler","iqHandler","iqSetHandler","presenceHandler","presenceSubscriptionRequest","processXmppError","presenceUpdate","featuresHandler","authMechanisms","hasBindFeature","hasSessionFeature","hasChildNodes","i","childNodes","length","n","x","push","firstChild","nodeValue","auth","bindResource","sasl","registry","match","e","onSuccess","onChallenge","onLoginFailure","setState","sendRestart","_sendRestart","message","from","to","chatState","chatid","body","subject","xhtml","getElementsByTagName","found","ci","uid","getBareJid","chat","firstMessage","ACTIVE_STATE","useChatState","receiveMessage","chatInstance","ChatService","registerChatInstance","setSession","onRegisterChatInstance","fn","rosterSetHandler","sendIqResult","iqId","req","id","dispatchPacket","elem","r","rosterItem","previousCopy","name","groups","y","splice","REMOVED","clone","itemName","status","substatus","presence","SUBSCRIPTION_SUBSTATUS_NONE","SUBSCRIPTION_REQUEST_PENDING","groupNode","gname","CHANGED","createRosterEntry","ADDED","onRosterAdded","onRosterRemoved","onRosterChanged","fromRes","getResourceFromJid","p","show","STATUS_ONLINE","priority","hasAvatar","STATUS_OFFLINE","parseInt","avatarHash","onPresenceUpdate","retrieveRoster","getNextIqId","string","Builder","append","def","addCallback","getRosterIndex","re","SUBSCRIPTION_NONE","hasSession","bindReq","onBindResource","onSubscriptionRequest","matchId","search","searchString","service","searchAttribute","xml:lang","lang","request","toString","_onSearchResults","onSearchResults","onLogin","bindTag","fulljid","err","onBindSession","results","onRetrieveRoster","query","onRosterUpdated","onTransportReady","rosterService","RosterService","presenceService","PresenceService","userService","UserService","onTransportTerminate","newState","oldState","onConnected","onTerminate","onActive","ri","stanzaType","errorType","cn","condition","sendStanzaError","text","textAttr"],"mappings":"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","file":"xmppSession.js.uncompressed.js"}