{"version":3,"sources":["JsonRestStore.js.uncompressed.js"],"names":["define","lang","declare","connect","rpcRest","rpcJsonRest","jsonSchema","ServiceStore","rpc","getObject","JsonRestStore","constructor","options","_index","this","obj","attrName","oldValue","newValue","prefix","service","servicePath","__id","substring","length","onSet","idAttribute","target","match","allowNoTrailingSlash","services","registerService","schema","_schema","_store","idAsRef","_idAttr","getConstructor","self","_constructor","data","call","onNew","prototype","loadReferencedSchema","referenceIntegrity","newItem","parentInfo","values","getValue","parent","attribute","concat","__parent","setValue","deleteItem","item","checked","store","dataExtCfg","_getStoreForItem","_saveNotNeeded","index","fixReferences","toSplice","push","__checked","i","value","Array","unsetAttribute","splice","deleteObject","onDelete","changing","_deleting","cancelChanging","object","dirtyObjects","dirty","getDirtyObjects","old","properties","mustBeValid","checkPropertyChange","Error","setValues","isArray","undefined","save","kwArgs","global","syncMode","_sync","actions","commit","serverVersion","_updates","revert","isDirty","isItem","anyStore","getServiceAndId","_doQuery","args","query","queryStr","deferred","addCallback","result","contentType","ioArgs","xhr","getResponseHeader","schemaRef","serviceAndId","replace","schemaDeferred","byId","id","addCallbacks","newSchema","mixin","error","_processResults","results","count","totalCount","fullLength","request","start","items","getIdentity","__clientId","fetchItemByIdentity","identity","toString","_prefix","inherited","arguments","getFeatures","features","getParent","getStore","Class","jsonRefConfig","_useRefs"],"mappings":"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","file":"JsonRestStore.js.uncompressed.js"}