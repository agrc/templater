{"version":3,"sources":["CsvStore.js.uncompressed.js"],"names":["define","lang","declare","xhr","kernel","filterUtil","simpleFetch","CsvStore","constructor","keywordParameters","this","_attributes","_attributeIndexes","_dataArray","_arrayOfAllItems","_loadFinished","url","_csvData","data","label","undefined","_storeProp","_idProp","_features","dojo.data.api.Read","dojo.data.api.Identity","_loadInProgress","_queuedFetches","identifier","_idMap","separator","urlPreventCache","_assertIsItem","item","isItem","Error","declaredClass","_getIndex","idx","getIdentity","getValue","attribute","defaultValue","itemValue","ai","itemData","getValues","value","getAttributes","attributes","i","length","push","hasAttribute","attributeIndex","containsValue","regexp","patternToRegExp","_containsValue","values","possibleValue","match","something","identity","isItemLoaded","loadItem","getFeatures","getLabel","getLabelAttributes","_fetchItems","keywordArgs","findCallback","errorCallback","self","filter","requestArgs","arrayOfAllItems","items","query","key","ignoreCase","queryOptions","regexpList","candidateItem","slice","args","getArgs","handleAs","preventCache","getHandler","get","addCallback","_processData","_handleQueuedFetches","e","addErrback","error","oldAbort","abort","df","fired","cancel","call","close","request","_getArrayOfArraysFromCsvFileContents","csvFileContents","isString","leadingWhiteSpaceCharacters","RegExp","trailingWhiteSpaceCharacters","doubleQuotes","arrayOfOutputRecords","arrayOfInputLines","_splitLines","singleLine","listOfFields","split","j","space_field_space","field_space","replace","field","firstChar","charAt","lastChar","secondToLastChar","thirdToLastChar","nextField","splice","shift","csvContent","line","inQuotes","c","id","iData","_createItemFromIdentity","fetchItemByIdentity","scope","global","onItem","onError","getIdentityAttributes","fData","delayedFilter","delayedQuery","extend"],"mappings":"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","file":"CsvStore.js.uncompressed.js"}