//>>built
define("dojox/data/PersevereStore",["dojo","dojox","require","dojox/data/JsonQueryRestStore","dojox/rpc/Client","dojo/_base/url"],function(e,t,i){t.json.ref.serializeFunctions=!0;var r=e.declare("dojox.data.PersevereStore",t.data.JsonQueryRestStore,{useFullIdInQueries:!0,jsonQueryPagination:!1});return r.getStores=function(r,a){r=r&&(r.match(/\/$/)?r:r+"/")||"/",r.match(/^\w*:\/\//)&&(i("dojox/io/xhrScriptPlugin"),t.io.xhrScriptPlugin(r,"callback",t.io.xhrPlugins.fullHttpAdapter));var n=e.xhr;e.xhr=function(t,i){return(i.headers=i.headers||{})["Server-Methods"]="false",n.apply(e,arguments)};var o=t.rpc.Rest(r,!0);t.rpc._sync=a;var d,s=o("Class/"),l={},u=0;return s.addCallback(function(i){function a(i){i["extends"]&&i["extends"].prototype&&(i.prototype&&i.prototype.isPrototypeOf(i["extends"].prototype)||(a(i["extends"]),t.rpc.Rest._index[i.prototype.__id]=i.prototype=e.mixin(e.delegate(i["extends"].prototype),i.prototype)))}function n(i,r){if(i&&r)for(var a in i){var n=i[a];"client"==n.runAt||r[a]||(r[a]=function(i){return function(){var r=e.rawXhrPost({url:this.__id,postData:t.json.ref.toJson({method:i,id:u++,params:e._toArray(arguments)}),handleAs:"json"});return r.addCallback(function(e){return e.error?new Error(e.error):e.result}),r}}(a))}}t.json.ref.resolveJson(i,{index:t.rpc.Rest._index,idPrefix:"/Class/",assignAbsoluteIds:!0});for(var o in i)if("object"==typeof i[o]){var s=i[o];a(s),n(s.methods,s.prototype=s.prototype||{}),n(s.staticMethods,s),l[i[o].id]=new t.data.PersevereStore({target:new e._Url(r,i[o].id)+"/",schema:s})}return d=l}),e.xhr=n,a?d:s},r.addProxy=function(){i("dojox/io/xhrPlugins"),t.io.xhrPlugins.addProxy("/proxy/")},r});//# sourceMappingURL=PersevereStore.js.map