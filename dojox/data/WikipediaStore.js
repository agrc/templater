//>>built
define("dojox/data/WikipediaStore",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/io/script","dojo/io-query","dojox/rpc/Service","dojox/data/ServiceStore"],function(e,t,a,i,r,o,n){return e.experimental("dojox.data.WikipediaStore"),a("dojox.data.WikipediaStore",n,{constructor:function(e){if(e&&e.service)this.service=e.service;else{var t=new o(require.toUrl("dojox/rpc/SMDLibrary/wikipedia.smd"));this.service=t.query}this.idAttribute=this.labelAttribute="title"},fetch:function(e){var a=t.mixin({},e.query);return!a||a.action&&"parse"!==a.action?"query"===a.action&&(a.list="search",a.srwhat="text",a.srsearch=a.text,e.start&&(a.sroffset=e.start-1),e.count&&(a.srlimit=e.count>=500?500:e.count),delete a.text):(a.action="parse",a.page=a.title,delete a.title),e.query=a,this.inherited(arguments)},_processResults:function(e,t){if(e.parse)e.parse.title=r.queryToObject(t.ioArgs.url.split("?")[1]).page,e=[e.parse];else if(e.query&&e.query.search){e=e.query.search;var a=this;for(var i in e)e[i]._loadObject=function(e){a.fetch({query:{action:"parse",title:this.title},onItem:e}),delete this._loadObject}}return this.inherited(arguments)}})});//# sourceMappingURL=WikipediaStore.js.map