//>>built
define("dojox/gesture/tap",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(e,t,a,i,r){e.experimental("dojox.gesture.tap");var o=t(i,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,press:function(e,t){if(t.touches&&t.touches.length>=2)return clearTimeout(e.tapTimeOut),void delete e.context;var i=t.target;this._initTap(e,t),e.tapTimeOut=setTimeout(a.hitch(this,function(){this._isTap(e,t)&&this.fire(i,{type:"tap.hold"}),delete e.context}),this.holdThreshold)},release:function(e,t){if(!e.context)return void clearTimeout(e.tapTimeOut);if(this._isTap(e,t))switch(e.context.c){case 1:this.fire(t.target,{type:"tap"});break;case 2:this.fire(t.target,{type:"tap.doubletap"})}clearTimeout(e.tapTimeOut)},_initTap:function(e,t){e.context||(e.context={x:0,y:0,t:0,c:0});var a=(new Date).getTime();a-e.context.t<=this.doubleTapTimeout?e.context.c++:(e.context.c=1,e.context.x=t.screenX,e.context.y=t.screenY),e.context.t=a},_isTap:function(e,t){if(!e.context)return!1;var a=Math.abs(e.context.x-t.screenX),i=Math.abs(e.context.y-t.screenY);return a<=this.tapRadius&&i<=this.tapRadius}});return r.gesture.tap=new o,r.gesture.tap.Tap=o,r.gesture.tap});//# sourceMappingURL=tap.js.map