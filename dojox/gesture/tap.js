//>>built
define("dojox/gesture/tap",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","./Base","../main"],function(e,t,i,a,o){e.experimental("dojox.gesture.tap");var r=t(a,{defaultEvent:"tap",subEvents:["hold","doubletap"],holdThreshold:500,doubleTapTimeout:250,tapRadius:10,press:function(e,t){if(t.touches&&t.touches.length>=2)return clearTimeout(e.tapTimeOut),void delete e.context;var a=t.target;this._initTap(e,t),e.tapTimeOut=setTimeout(i.hitch(this,function(){this._isTap(e,t)&&this.fire(a,{type:"tap.hold"}),delete e.context}),this.holdThreshold)},release:function(e,t){if(!e.context)return void clearTimeout(e.tapTimeOut);if(this._isTap(e,t))switch(e.context.c){case 1:this.fire(t.target,{type:"tap"});break;case 2:this.fire(t.target,{type:"tap.doubletap"})}clearTimeout(e.tapTimeOut)},_initTap:function(e,t){e.context||(e.context={x:0,y:0,t:0,c:0});var i=(new Date).getTime();i-e.context.t<=this.doubleTapTimeout?e.context.c++:(e.context.c=1,e.context.x=t.screenX,e.context.y=t.screenY),e.context.t=i},_isTap:function(e,t){var i=Math.abs(e.context.x-t.screenX),a=Math.abs(e.context.y-t.screenY);return i<=this.tapRadius&&a<=this.tapRadius}});return o.gesture.tap=new r,o.gesture.tap.Tap=r,o.gesture.tap});//# sourceMappingURL=tap.js.map