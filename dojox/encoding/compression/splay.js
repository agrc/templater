//>>built
define("dojox/encoding/compression/splay",["dojo/_base/lang","../bits"],function(e,t){var i=e.getObject("dojox.encoding.compression",!0);return i.Splay=function(e){this.up=new Array(2*e+1),this.left=new Array(e),this.right=new Array(e),this.reset()},e.extend(i.Splay,{reset:function(){for(var e=1;e<this.up.length;this.up[e]=Math.floor((e-1)/2),++e);for(var e=0;e<this.left.length;this.left[e]=2*e+1,this.right[e]=2*e+2,++e);},splay:function(e){var t=e+this.left.length;do{var i=this.up[t];if(i){var a=this.up[i],r=this.left[a];i==r?(r=this.right[a],this.right[a]=t):this.left[a]=t,this[t==this.left[i]?"left":"right"][i]=r,this.up[t]=a,this.up[r]=i,t=a}else t=i}while(t)},encode:function(e,t){var i=[],a=e+this.left.length;do i.push(this.right[this.up[a]]==a),a=this.up[a];while(a);this.splay(e);for(var r=i.length;i.length;)t.putBits(i.pop()?1:0,1);return r},decode:function(e){var t=0;do t=this[e.getBits(1)?"right":"left"][t];while(t<this.left.length);return t-=this.left.length,this.splay(t),t}}),i.Splay});//# sourceMappingURL=splay.js.map