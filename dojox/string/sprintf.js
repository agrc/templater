//>>built
define("dojox/string/sprintf",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","./tokenize"],function(e,t,i,a){var n=t.getObject("string",!0,dojox);return n.sprintf=function(e,t){for(var i=[],a=1;a<arguments.length;a++)i.push(arguments[a]);var o=new n.sprintf.Formatter(e);return o.format.apply(o,i)},n.sprintf.Formatter=function(e){this._mapped=!1,this._format=e,this._tokens=a(e,this._re,this._parseDelim,this)},t.extend(n.sprintf.Formatter,{_re:/\%(?:\(([\w_]+)\)|([1-9]\d*)\$)?([0 +\-\#]*)(\*|\d+)?(\.)?(\*|\d+)?[hlL]?([\%scdeEfFgGiouxX])/g,_parseDelim:function(e,t,i,a,n,o,r){return e&&(this._mapped=!0),{mapping:e,intmapping:t,flags:i,_minWidth:a,period:n,_precision:o,specifier:r}},_specifiers:{b:{base:2,isInt:!0},o:{base:8,isInt:!0},x:{base:16,isInt:!0},X:{extend:["x"],toUpper:!0},d:{base:10,isInt:!0},i:{extend:["d"]},u:{extend:["d"],isUnsigned:!0},c:{setArg:function(e){if(!isNaN(e.arg)){var t=parseInt(e.arg);if(0>t||t>127)throw new Error("invalid character code passed to %c in sprintf");e.arg=isNaN(t)?""+t:String.fromCharCode(t)}}},s:{setMaxWidth:function(e){e.maxWidth="."==e.period?e.precision:-1}},e:{isDouble:!0,doubleNotation:"e"},E:{extend:["e"],toUpper:!0},f:{isDouble:!0,doubleNotation:"f"},F:{extend:["f"]},g:{isDouble:!0,doubleNotation:"g"},G:{extend:["g"],toUpper:!0}},format:function(e){if(this._mapped&&"object"!=typeof e)throw new Error("format requires a mapping");for(var i,a="",n=0,o=0;o<this._tokens.length;o++)if(i=this._tokens[o],"string"==typeof i)a+=i;else{if(this._mapped){if("undefined"==typeof e[i.mapping])throw new Error("missing key "+i.mapping);i.arg=e[i.mapping]}else{if(i.intmapping)var n=parseInt(i.intmapping)-1;if(n>=arguments.length)throw new Error("got "+arguments.length+" printf arguments, insufficient for '"+this._format+"'");i.arg=arguments[n++]}if(!i.compiled){i.compiled=!0,i.sign="",i.zeroPad=!1,i.rightJustify=!1,i.alternative=!1;for(var r={},s=i.flags.length;s--;){var l=i.flags.charAt(s);switch(r[l]=!0,l){case" ":i.sign=" ";break;case"+":i.sign="+";break;case"0":i.zeroPad=!r["-"];break;case"-":i.rightJustify=!0,i.zeroPad=!1;break;case"#":i.alternative=!0;break;default:throw Error("bad formatting flag '"+i.flags.charAt(s)+"'")}}i.minWidth=i._minWidth?parseInt(i._minWidth):0,i.maxWidth=-1,i.toUpper=!1,i.isUnsigned=!1,i.isInt=!1,i.isDouble=!1,i.precision=1,"."==i.period&&(i._precision?i.precision=parseInt(i._precision):i.precision=0);var d=this._specifiers[i.specifier];if("undefined"==typeof d)throw new Error("unexpected specifier '"+i.specifier+"'");d.extend&&(t.mixin(d,this._specifiers[d.extend]),delete d.extend),t.mixin(i,d)}if("function"==typeof i.setArg&&i.setArg(i),"function"==typeof i.setMaxWidth&&i.setMaxWidth(i),"*"==i._minWidth){if(this._mapped)throw new Error("* width not supported in mapped formats");if(i.minWidth=parseInt(arguments[n++]),isNaN(i.minWidth))throw new Error("the argument for * width at position "+n+" is not a number in "+this._format);i.minWidth<0&&(i.rightJustify=!0,i.minWidth=-i.minWidth)}if("*"==i._precision&&"."==i.period){if(this._mapped)throw new Error("* precision not supported in mapped formats");if(i.precision=parseInt(arguments[n++]),isNaN(i.precision))throw Error("the argument for * precision at position "+n+" is not a number in "+this._format);i.precision<0&&(i.precision=1,i.period="")}i.isInt?("."==i.period&&(i.zeroPad=!1),this.formatInt(i)):i.isDouble&&("."!=i.period&&(i.precision=6),this.formatDouble(i)),this.fitField(i),a+=""+i.arg}return a},_zeros10:"0000000000",_spaces10:"          ",formatInt:function(e){var t=parseInt(e.arg);if(!isFinite(t)){if("number"!=typeof e.arg)throw new Error("format argument '"+e.arg+"' not an integer; parseInt returned "+t);t=0}0>t&&(e.isUnsigned||10!=e.base)&&(t=4294967295+t+1),0>t?(e.arg=(-t).toString(e.base),this.zeroPad(e),e.arg="-"+e.arg):(e.arg=t.toString(e.base),t||e.precision?this.zeroPad(e):e.arg="",e.sign&&(e.arg=e.sign+e.arg)),16==e.base&&(e.alternative&&(e.arg="0x"+e.arg),e.arg=e.toUpper?e.arg.toUpperCase():e.arg.toLowerCase()),8==e.base&&e.alternative&&"0"!=e.arg.charAt(0)&&(e.arg="0"+e.arg)},formatDouble:function(e){var t=parseFloat(e.arg);if(!isFinite(t)){if("number"!=typeof e.arg)throw new Error("format argument '"+e.arg+"' not a float; parseFloat returned "+t);t=0}switch(e.doubleNotation){case"e":e.arg=t.toExponential(e.precision);break;case"f":e.arg=t.toFixed(e.precision);break;case"g":Math.abs(t)<1e-4?e.arg=t.toExponential(e.precision>0?e.precision-1:e.precision):e.arg=t.toPrecision(e.precision),e.alternative||(e.arg=e.arg.replace(/(\..*[^0])0*/,"$1"),e.arg=e.arg.replace(/\.0*e/,"e").replace(/\.0$/,""));break;default:throw new Error("unexpected double notation '"+e.doubleNotation+"'")}e.arg=e.arg.replace(/e\+(\d)$/,"e+0$1").replace(/e\-(\d)$/,"e-0$1"),i("opera")&&(e.arg=e.arg.replace(/^\./,"0.")),e.alternative&&(e.arg=e.arg.replace(/^(\d+)$/,"$1."),e.arg=e.arg.replace(/^(\d+)e/,"$1.e")),t>=0&&e.sign&&(e.arg=e.sign+e.arg),e.arg=e.toUpper?e.arg.toUpperCase():e.arg.toLowerCase()},zeroPad:function(e,t){t=2==arguments.length?t:e.precision,"string"!=typeof e.arg&&(e.arg=""+e.arg);for(var i=t-10;e.arg.length<i;)e.arg=e.rightJustify?e.arg+this._zeros10:this._zeros10+e.arg;var a=t-e.arg.length;e.arg=e.rightJustify?e.arg+this._zeros10.substring(0,a):this._zeros10.substring(0,a)+e.arg},fitField:function(e){return e.maxWidth>=0&&e.arg.length>e.maxWidth?e.arg.substring(0,e.maxWidth):e.zeroPad?void this.zeroPad(e,e.minWidth):void this.spacePad(e)},spacePad:function(e,t){t=2==arguments.length?t:e.minWidth,"string"!=typeof e.arg&&(e.arg=""+e.arg);for(var i=t-10;e.arg.length<i;)e.arg=e.rightJustify?e.arg+this._spaces10:this._spaces10+e.arg;var a=t-e.arg.length;e.arg=e.rightJustify?e.arg+this._spaces10.substring(0,a):this._spaces10.substring(0,a)+e.arg}}),n.sprintf});//# sourceMappingURL=sprintf.js.map