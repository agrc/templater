//>>built
define("dojox/math/BigInteger-ext",["dojo","dojox","dojox/math/BigInteger"],function(e,t){function i(){var e=ce();return this._copyTo(e),e}function a(){if(this.s<0){if(1==this.t)return this[0]-this._DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this._DB)-1)<<this._DB|this[0]}function o(){return 0==this.t?this.s:this[0]<<24>>24}function r(){return 0==this.t?this.s:this[0]<<16>>16}function n(e){return Math.floor(Math.LN2*this._DB/Math.log(e))}function s(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function l(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this._chunkSize(e),i=Math.pow(e,t),a=ue(i),o=ce(),r=ce(),n="";for(this._divRemTo(a,o,r);o.signum()>0;)n=(i+r.intValue()).toString(e).substr(1)+n,o._divRemTo(a,o,r);return r.intValue().toString(e)+n}function d(e,t){this._fromInt(0),null==t&&(t=10);for(var i=this._chunkSize(t),a=Math.pow(t,i),o=!1,r=0,n=0,s=0;s<e.length;++s){var l=intAt(e,s);0>l?"-"==e.charAt(s)&&0==this.signum()&&(o=!0):(n=t*n+l,++r>=i&&(this._dMultiply(a),this._dAddOffset(n,0),r=0,n=0))}r>0&&(this._dMultiply(Math.pow(t,r)),this._dAddOffset(n,0)),o&&he.ZERO._subTo(this,this)}function h(e,t,i){if("number"==typeof t)if(2>e)this._fromInt(1);else for(this._fromNumber(e,i),this.testBit(e-1)||this._bitwiseTo(he.ONE.shiftLeft(e-1),v,this),this._isEven()&&this._dAddOffset(1,0);!this.isProbablePrime(t);)this._dAddOffset(2,0),this.bitLength()>e&&this._subTo(he.ONE.shiftLeft(e-1),this);else{var a=[],o=7&e;a.length=(e>>3)+1,t.nextBytes(a),o>0?a[0]&=(1<<o)-1:a[0]=0,this._fromString(a,256)}}function c(){var e=this.t,t=[];t[0]=this.s;var i,a=this._DB-e*this._DB%8,o=0;if(e-- >0)for(a<this._DB&&(i=this[e]>>a)!=(this.s&this._DM)>>a&&(t[o++]=i|this.s<<this._DB-a);e>=0;)8>a?(i=(this[e]&(1<<a)-1)<<8-a,i|=this[--e]>>(a+=this._DB-8)):(i=this[e]>>(a-=8)&255,0>=a&&(a+=this._DB,--e)),0!=(128&i)&&(i|=-256),0==o&&(128&this.s)!=(128&i)&&++o,(o>0||i!=this.s)&&(t[o++]=i);return t}function u(e){return 0==this.compareTo(e)}function m(e){return this.compareTo(e)<0?this:e}function f(e){return this.compareTo(e)>0?this:e}function p(e,t,i){var a,o,r=Math.min(e.t,this.t);for(a=0;r>a;++a)i[a]=t(this[a],e[a]);if(e.t<this.t){for(o=e.s&this._DM,a=r;a<this.t;++a)i[a]=t(this[a],o);i.t=this.t}else{for(o=this.s&this._DM,a=r;a<e.t;++a)i[a]=t(o,e[a]);i.t=e.t}i.s=t(this.s,e.s),i._clamp()}function g(e,t){return e&t}function y(e){var t=ce();return this._bitwiseTo(e,g,t),t}function v(e,t){return e|t}function b(e){var t=ce();return this._bitwiseTo(e,v,t),t}function _(e,t){return e^t}function M(e){var t=ce();return this._bitwiseTo(e,_,t),t}function k(e,t){return e&~t}function x(e){var t=ce();return this._bitwiseTo(e,k,t),t}function w(){for(var e=ce(),t=0;t<this.t;++t)e[t]=this._DM&~this[t];return e.t=this.t,e.s=~this.s,e}function T(e){var t=ce();return 0>e?this._rShiftTo(-e,t):this._lShiftTo(e,t),t}function I(e){var t=ce();return 0>e?this._lShiftTo(-e,t):this._rShiftTo(e,t),t}function j(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function C(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this._DB+j(this[e]);return this.s<0?this.t*this._DB:-1}function F(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function S(){for(var e=0,t=this.s&this._DM,i=0;i<this.t;++i)e+=F(this[i]^t);return e}function E(e){var t=Math.floor(e/this._DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this._DB)}function N(e,t){var i=he.ONE.shiftLeft(e);return this._bitwiseTo(i,t,i),i}function L(e){return this._changeBit(e,v)}function z(e){return this._changeBit(e,k)}function A(e){return this._changeBit(e,_)}function P(e,t){for(var i=0,a=0,o=Math.min(e.t,this.t);o>i;)a+=this[i]+e[i],t[i++]=a&this._DM,a>>=this._DB;if(e.t<this.t){for(a+=e.s;i<this.t;)a+=this[i],t[i++]=a&this._DM,a>>=this._DB;a+=this.s}else{for(a+=this.s;i<e.t;)a+=e[i],t[i++]=a&this._DM,a>>=this._DB;a+=e.s}t.s=0>a?-1:0,a>0?t[i++]=a:-1>a&&(t[i++]=this._DV+a),t.t=i,t._clamp()}function D(e){var t=ce();return this._addTo(e,t),t}function G(e){var t=ce();return this._subTo(e,t),t}function H(e){var t=ce();return this._multiplyTo(e,t),t}function B(e){var t=ce();return this._divRemTo(e,t,null),t}function R(e){var t=ce();return this._divRemTo(e,null,t),t}function O(e){var t=ce(),i=ce();return this._divRemTo(e,t,i),[t,i]}function q(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this._clamp()}function Q(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this._DV;)this[t]-=this._DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function W(){}function Y(e){return e}function U(e,t,i){e._multiplyTo(t,i)}function V(e,t){e._squareTo(t)}function K(e){return this._exp(e,new W)}function X(e,t,i){var a=Math.min(this.t+e.t,t);for(i.s=0,i.t=a;a>0;)i[--a]=0;var o;for(o=i.t-this.t;o>a;++a)i[a+this.t]=this.am(0,e[a],i,a,0,this.t);for(o=Math.min(e.t,t);o>a;++a)this.am(0,e[a],i,a,0,t-a);i._clamp()}function Z(e,t,i){--t;var a=i.t=this.t+e.t-t;for(i.s=0;--a>=0;)i[a]=0;for(a=Math.max(t-this.t,0);a<e.t;++a)i[this.t+a-t]=this.am(t-a,e[a],i,0,0,this.t+a-t);i._clamp(),i._drShiftTo(1,i)}function $(e){this.r2=ce(),this.q3=ce(),he.ONE._dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function J(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=ce();return e._copyTo(t),this.reduce(t),t}function ee(e){return e}function te(e){for(e._drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e._clamp()),this.mu._multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m._multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e._dAddOffset(1,this.m.t+1);for(e._subTo(this.r2,e);e.compareTo(this.m)>=0;)e._subTo(this.m,e)}function ie(e,t){e._squareTo(t),this.reduce(t)}function ae(e,t,i){e._multiplyTo(t,i),this.reduce(i)}function oe(e,t){var i,a,o=e.bitLength(),r=ue(1);if(0>=o)return r;i=18>o?1:48>o?3:144>o?4:768>o?5:6,a=8>o?new Classic(t):t._isEven()?new $(t):new fe(t);var n=[],s=3,l=i-1,d=(1<<i)-1;if(n[1]=a.convert(this),i>1){var h=ce();for(a.sqrTo(n[1],h);d>=s;)n[s]=ce(),a.mulTo(h,n[s-2],n[s]),s+=2}var c,u,m=e.t-1,f=!0,p=ce();for(o=me(e[m])-1;m>=0;){for(o>=l?c=e[m]>>o-l&d:(c=(e[m]&(1<<o+1)-1)<<l-o,m>0&&(c|=e[m-1]>>this._DB+o-l)),s=i;0==(1&c);)c>>=1,--s;if((o-=s)<0&&(o+=this._DB,--m),f)n[c]._copyTo(r),f=!1;else{for(;s>1;)a.sqrTo(r,p),a.sqrTo(p,r),s-=2;s>0?a.sqrTo(r,p):(u=r,r=p,p=u),a.mulTo(p,n[c],r)}for(;m>=0&&0==(e[m]&1<<o);)a.sqrTo(r,p),u=r,r=p,p=u,--o<0&&(o=this._DB-1,--m)}return a.revert(r)}function re(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var a=t;t=i,i=a}var o=t.getLowestSetBit(),r=i.getLowestSetBit();if(0>r)return t;for(r>o&&(r=o),r>0&&(t._rShiftTo(r,t),i._rShiftTo(r,i));t.signum()>0;)(o=t.getLowestSetBit())>0&&t._rShiftTo(o,t),(o=i.getLowestSetBit())>0&&i._rShiftTo(o,i),t.compareTo(i)>=0?(t._subTo(i,t),t._rShiftTo(1,t)):(i._subTo(t,i),i._rShiftTo(1,i));return r>0&&i._lShiftTo(r,i),i}function ne(e){if(0>=e)return 0;var t=this._DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var a=this.t-1;a>=0;--a)i=(t*i+this[a])%e;return i}function se(e){var t=e._isEven();if(this._isEven()&&t||0==e.signum())return he.ZERO;for(var i=e.clone(),a=this.clone(),o=ue(1),r=ue(0),n=ue(0),s=ue(1);0!=i.signum();){for(;i._isEven();)i._rShiftTo(1,i),t?(o._isEven()&&r._isEven()||(o._addTo(this,o),r._subTo(e,r)),o._rShiftTo(1,o)):r._isEven()||r._subTo(e,r),r._rShiftTo(1,r);for(;a._isEven();)a._rShiftTo(1,a),t?(n._isEven()&&s._isEven()||(n._addTo(this,n),s._subTo(e,s)),n._rShiftTo(1,n)):s._isEven()||s._subTo(e,s),s._rShiftTo(1,s);i.compareTo(a)>=0?(i._subTo(a,i),t&&o._subTo(n,o),r._subTo(s,r)):(a._subTo(i,a),t&&n._subTo(o,n),s._subTo(r,s))}return 0!=a.compareTo(he.ONE)?he.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s._addTo(e,s),s.signum()<0?s.add(e):s):s}function le(e){var t,i=this.abs();if(1==i.t&&i[0]<=pe[pe.length-1]){for(t=0;t<pe.length;++t)if(i[0]==pe[t])return!0;return!1}if(i._isEven())return!1;for(t=1;t<pe.length;){for(var a=pe[t],o=t+1;o<pe.length&&ge>a;)a*=pe[o++];for(a=i._modInt(a);o>t;)if(a%pe[t++]==0)return!1}return i._millerRabin(e)}function de(e){var t=this.subtract(he.ONE),i=t.getLowestSetBit();if(0>=i)return!1;var a=t.shiftRight(i);e=e+1>>1,e>pe.length&&(e=pe.length);for(var o=ce(),r=0;e>r;++r){o._fromInt(pe[r]);var n=o.modPow(a,this);if(0!=n.compareTo(he.ONE)&&0!=n.compareTo(t)){for(var s=1;s++<i&&0!=n.compareTo(t);)if(n=n.modPowInt(2,this),0==n.compareTo(he.ONE))return!1;if(0!=n.compareTo(t))return!1}}return!0}e.experimental("dojox.math.BigInteger-ext");var he=t.math.BigInteger,ce=he._nbi,ue=he._nbv,me=he._nbits,fe=he._Montgomery;W.prototype.convert=Y,W.prototype.revert=Y,W.prototype.mulTo=U,W.prototype.sqrTo=V,$.prototype.convert=J,$.prototype.revert=ee,$.prototype.reduce=te,$.prototype.mulTo=ae,$.prototype.sqrTo=ie;var pe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ge=(1<<26)/pe[pe.length-1];return e.extend(he,{_chunkSize:n,_toRadix:l,_fromRadix:d,_fromNumber:h,_bitwiseTo:p,_changeBit:N,_addTo:P,_dMultiply:q,_dAddOffset:Q,_multiplyLowerTo:X,_multiplyUpperTo:Z,_modInt:ne,_millerRabin:de,clone:i,intValue:a,byteValue:o,shortValue:r,signum:s,toByteArray:c,equals:u,min:m,max:f,and:y,or:b,xor:M,andNot:x,not:w,shiftLeft:T,shiftRight:I,getLowestSetBit:C,bitCount:S,testBit:E,setBit:L,clearBit:z,flipBit:A,add:D,subtract:G,multiply:H,divide:B,remainder:R,divideAndRemainder:O,modPow:oe,modInverse:se,pow:K,gcd:re,isProbablePrime:le}),t.math.BigInteger});//# sourceMappingURL=BigInteger-ext.js.map