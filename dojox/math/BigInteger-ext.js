//>>built
define("dojox/math/BigInteger-ext",["dojo","dojox","dojox/math/BigInteger"],function(e,t){function i(){var e=ue();return this._copyTo(e),e}function a(){if(this.s<0){if(1==this.t)return this[0]-this._DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this._DB)-1)<<this._DB|this[0]}function o(){return 0==this.t?this.s:this[0]<<24>>24}function n(){return 0==this.t?this.s:this[0]<<16>>16}function r(e){return Math.floor(Math.LN2*this._DB/Math.log(e))}function s(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function l(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this._chunkSize(e),i=Math.pow(e,t),a=ce(i),o=ue(),n=ue(),r="";for(this._divRemTo(a,o,n);o.signum()>0;)r=(i+n.intValue()).toString(e).substr(1)+r,o._divRemTo(a,o,n);return n.intValue().toString(e)+r}function d(e,t){this._fromInt(0),null==t&&(t=10);for(var i=this._chunkSize(t),a=Math.pow(t,i),o=!1,n=0,r=0,s=0;s<e.length;++s){var l=intAt(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(o=!0):(r=t*r+l,++n>=i&&(this._dMultiply(a),this._dAddOffset(r,0),n=0,r=0))}n>0&&(this._dMultiply(Math.pow(t,n)),this._dAddOffset(r,0)),o&&he.ZERO._subTo(this,this)}function h(e,t,i){if("number"==typeof t)if(e<2)this._fromInt(1);else for(this._fromNumber(e,i),this.testBit(e-1)||this._bitwiseTo(he.ONE.shiftLeft(e-1),y,this),this._isEven()&&this._dAddOffset(1,0);!this.isProbablePrime(t);)this._dAddOffset(2,0),this.bitLength()>e&&this._subTo(he.ONE.shiftLeft(e-1),this);else{var a=[],o=7&e;a.length=1+(e>>3),t.nextBytes(a),o>0?a[0]&=(1<<o)-1:a[0]=0,this._fromString(a,256)}}function u(){var e=this.t,t=[];t[0]=this.s;var i,a=this._DB-e*this._DB%8,o=0;if(e-- >0)for(a<this._DB&&(i=this[e]>>a)!=(this.s&this._DM)>>a&&(t[o++]=i|this.s<<this._DB-a);e>=0;)a<8?(i=(this[e]&(1<<a)-1)<<8-a,i|=this[--e]>>(a+=this._DB-8)):(i=this[e]>>(a-=8)&255,a<=0&&(a+=this._DB,--e)),0!=(128&i)&&(i|=-256),0==o&&(128&this.s)!=(128&i)&&++o,(o>0||i!=this.s)&&(t[o++]=i);return t}function c(e){return 0==this.compareTo(e)}function m(e){return this.compareTo(e)<0?this:e}function f(e){return this.compareTo(e)>0?this:e}function p(e,t,i){var a,o,n=Math.min(e.t,this.t);for(a=0;a<n;++a)i[a]=t(this[a],e[a]);if(e.t<this.t){for(o=e.s&this._DM,a=n;a<this.t;++a)i[a]=t(this[a],o);i.t=this.t}else{for(o=this.s&this._DM,a=n;a<e.t;++a)i[a]=t(o,e[a]);i.t=e.t}i.s=t(this.s,e.s),i._clamp()}function g(e,t){return e&t}function v(e){var t=ue();return this._bitwiseTo(e,g,t),t}function y(e,t){return e|t}function k(e){var t=ue();return this._bitwiseTo(e,y,t),t}function b(e,t){return e^t}function _(e){var t=ue();return this._bitwiseTo(e,b,t),t}function M(e,t){return e&~t}function x(e){var t=ue();return this._bitwiseTo(e,M,t),t}function w(){for(var e=ue(),t=0;t<this.t;++t)e[t]=this._DM&~this[t];return e.t=this.t,e.s=~this.s,e}function j(e){var t=ue();return e<0?this._rShiftTo(-e,t):this._lShiftTo(e,t),t}function I(e){var t=ue();return e<0?this._lShiftTo(-e,t):this._rShiftTo(e,t),t}function T(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function C(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this._DB+T(this[e]);return this.s<0?this.t*this._DB:-1}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function F(){for(var e=0,t=this.s&this._DM,i=0;i<this.t;++i)e+=S(this[i]^t);return e}function E(e){var t=Math.floor(e/this._DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this._DB)}function z(e,t){var i=he.ONE.shiftLeft(e);return this._bitwiseTo(i,t,i),i}function A(e){return this._changeBit(e,y)}function N(e){return this._changeBit(e,M)}function P(e){return this._changeBit(e,b)}function L(e,t){for(var i=0,a=0,o=Math.min(e.t,this.t);i<o;)a+=this[i]+e[i],t[i++]=a&this._DM,a>>=this._DB;if(e.t<this.t){for(a+=e.s;i<this.t;)a+=this[i],t[i++]=a&this._DM,a>>=this._DB;a+=this.s}else{for(a+=this.s;i<e.t;)a+=e[i],t[i++]=a&this._DM,a>>=this._DB;a+=e.s}t.s=a<0?-1:0,a>0?t[i++]=a:a<-1&&(t[i++]=this._DV+a),t.t=i,t._clamp()}function B(e){var t=ue();return this._addTo(e,t),t}function D(e){var t=ue();return this._subTo(e,t),t}function R(e){var t=ue();return this._multiplyTo(e,t),t}function G(e){var t=ue();return this._divRemTo(e,t,null),t}function H(e){var t=ue();return this._divRemTo(e,null,t),t}function O(e){var t=ue(),i=ue();return this._divRemTo(e,t,i),[t,i]}function q(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this._clamp()}function W(e,t){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this._DV;)this[t]-=this._DV,++t>=this.t&&(this[this.t++]=0),++this[t]}function Q(){}function V(e){return e}function U(e,t,i){e._multiplyTo(t,i)}function $(e,t){e._squareTo(t)}function K(e){return this._exp(e,new Q)}function X(e,t,i){var a=Math.min(this.t+e.t,t);for(i.s=0,i.t=a;a>0;)i[--a]=0;var o;for(o=i.t-this.t;a<o;++a)i[a+this.t]=this.am(0,e[a],i,a,0,this.t);for(o=Math.min(e.t,t);a<o;++a)this.am(0,e[a],i,a,0,t-a);i._clamp()}function Y(e,t,i){--t;var a=i.t=this.t+e.t-t;for(i.s=0;--a>=0;)i[a]=0;for(a=Math.max(t-this.t,0);a<e.t;++a)i[this.t+a-t]=this.am(t-a,e[a],i,0,0,this.t+a-t);i._clamp(),i._drShiftTo(1,i)}function J(e){this.r2=ue(),this.q3=ue(),he.ONE._dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Z(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=ue();return e._copyTo(t),this.reduce(t),t}function ee(e){return e}function te(e){for(e._drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e._clamp()),this.mu._multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m._multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e._dAddOffset(1,this.m.t+1);for(e._subTo(this.r2,e);e.compareTo(this.m)>=0;)e._subTo(this.m,e)}function ie(e,t){e._squareTo(t),this.reduce(t)}function ae(e,t,i){e._multiplyTo(t,i),this.reduce(i)}function oe(e,t){var i,a,o=e.bitLength(),n=ce(1);if(o<=0)return n;i=o<18?1:o<48?3:o<144?4:o<768?5:6,a=o<8?new Classic(t):t._isEven()?new J(t):new fe(t);var r=[],s=3,l=i-1,d=(1<<i)-1;if(r[1]=a.convert(this),i>1){var h=ue();for(a.sqrTo(r[1],h);s<=d;)r[s]=ue(),a.mulTo(h,r[s-2],r[s]),s+=2}var u,c,m=e.t-1,f=!0,p=ue();for(o=me(e[m])-1;m>=0;){for(o>=l?u=e[m]>>o-l&d:(u=(e[m]&(1<<o+1)-1)<<l-o,m>0&&(u|=e[m-1]>>this._DB+o-l)),s=i;0==(1&u);)u>>=1,--s;if((o-=s)<0&&(o+=this._DB,--m),f)r[u]._copyTo(n),f=!1;else{for(;s>1;)a.sqrTo(n,p),a.sqrTo(p,n),s-=2;s>0?a.sqrTo(n,p):(c=n,n=p,p=c),a.mulTo(p,r[u],n)}for(;m>=0&&0==(e[m]&1<<o);)a.sqrTo(n,p),c=n,n=p,p=c,--o<0&&(o=this._DB-1,--m)}return a.revert(n)}function ne(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var a=t;t=i,i=a}var o=t.getLowestSetBit(),n=i.getLowestSetBit();if(n<0)return t;for(o<n&&(n=o),n>0&&(t._rShiftTo(n,t),i._rShiftTo(n,i));t.signum()>0;)(o=t.getLowestSetBit())>0&&t._rShiftTo(o,t),(o=i.getLowestSetBit())>0&&i._rShiftTo(o,i),t.compareTo(i)>=0?(t._subTo(i,t),t._rShiftTo(1,t)):(i._subTo(t,i),i._rShiftTo(1,i));return n>0&&i._lShiftTo(n,i),i}function re(e){if(e<=0)return 0;var t=this._DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var a=this.t-1;a>=0;--a)i=(t*i+this[a])%e;return i}function se(e){var t=e._isEven();if(this._isEven()&&t||0==e.signum())return he.ZERO;for(var i=e.clone(),a=this.clone(),o=ce(1),n=ce(0),r=ce(0),s=ce(1);0!=i.signum();){for(;i._isEven();)i._rShiftTo(1,i),t?(o._isEven()&&n._isEven()||(o._addTo(this,o),n._subTo(e,n)),o._rShiftTo(1,o)):n._isEven()||n._subTo(e,n),n._rShiftTo(1,n);for(;a._isEven();)a._rShiftTo(1,a),t?(r._isEven()&&s._isEven()||(r._addTo(this,r),s._subTo(e,s)),r._rShiftTo(1,r)):s._isEven()||s._subTo(e,s),s._rShiftTo(1,s);i.compareTo(a)>=0?(i._subTo(a,i),t&&o._subTo(r,o),n._subTo(s,n)):(a._subTo(i,a),t&&r._subTo(o,r),s._subTo(n,s))}return 0!=a.compareTo(he.ONE)?he.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s._addTo(e,s),s.signum()<0?s.add(e):s):s}function le(e){var t,i=this.abs();if(1==i.t&&i[0]<=pe[pe.length-1]){for(t=0;t<pe.length;++t)if(i[0]==pe[t])return!0;return!1}if(i._isEven())return!1;for(t=1;t<pe.length;){for(var a=pe[t],o=t+1;o<pe.length&&a<ge;)a*=pe[o++];for(a=i._modInt(a);t<o;)if(a%pe[t++]==0)return!1}return i._millerRabin(e)}function de(e){var t=this.subtract(he.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var a=t.shiftRight(i);(e=e+1>>1)>pe.length&&(e=pe.length);for(var o=ue(),n=0;n<e;++n){o._fromInt(pe[n]);var r=o.modPow(a,this);if(0!=r.compareTo(he.ONE)&&0!=r.compareTo(t)){for(var s=1;s++<i&&0!=r.compareTo(t);)if(r=r.modPowInt(2,this),0==r.compareTo(he.ONE))return!1;if(0!=r.compareTo(t))return!1}}return!0}e.experimental("dojox.math.BigInteger-ext");var he=t.math.BigInteger,ue=he._nbi,ce=he._nbv,me=he._nbits,fe=he._Montgomery;Q.prototype.convert=V,Q.prototype.revert=V,Q.prototype.mulTo=U,Q.prototype.sqrTo=$,J.prototype.convert=Z,J.prototype.revert=ee,J.prototype.reduce=te,J.prototype.mulTo=ae,J.prototype.sqrTo=ie;var pe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ge=(1<<26)/pe[pe.length-1];return e.extend(he,{_chunkSize:r,_toRadix:l,_fromRadix:d,_fromNumber:h,_bitwiseTo:p,_changeBit:z,_addTo:L,_dMultiply:q,_dAddOffset:W,_multiplyLowerTo:X,_multiplyUpperTo:Y,_modInt:re,_millerRabin:de,clone:i,intValue:a,byteValue:o,shortValue:n,signum:s,toByteArray:u,equals:c,min:m,max:f,and:v,or:k,xor:_,andNot:x,not:w,shiftLeft:j,shiftRight:I,getLowestSetBit:C,bitCount:F,testBit:E,setBit:A,clearBit:N,flipBit:P,add:B,subtract:D,multiply:R,divide:G,remainder:H,divideAndRemainder:O,modPow:oe,modInverse:se,pow:K,gcd:ne,isProbablePrime:le}),t.math.BigInteger});//# sourceMappingURL=BigInteger-ext.js.map