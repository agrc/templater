//>>built
define("dojox/math/stats",["dojo","../main"],function(e,t){e.getObject("math.stats",!0,t);var i=t.math.stats;return e.mixin(i,{sd:function(e){return Math.sqrt(i.variance(e))},variance:function(t){var i=0,r=0;return e.forEach(t,function(e){i+=e,r+=Math.pow(e,2)}),r/t.length-Math.pow(i/t.length,2)},bestFit:function(t,i,r){i=i||"x",r=r||"y",void 0!==t[0]&&"number"==typeof t[0]&&(t=e.map(t,function(e,t){return{x:t,y:e}}));for(var n,a=0,o=0,s=0,l=0,d=0,c=0,u=0,h=t.length,f=0;f<h;f++)a+=t[f][i],o+=t[f][r],s+=Math.pow(t[f][i],2),l+=Math.pow(t[f][r],2),d+=t[f][i]*t[f][r];for(f=0;f<h;f++)n=t[f][i]-a/h,c+=n*n,u+=n*t[f][r];var m=u/(c||1),p=Math.sqrt((s-Math.pow(a,2)/h)*(l-Math.pow(o,2)/h));if(0===p)throw new Error("dojox.math.stats.bestFit: the denominator for Pearson's R is 0.");var g=(d-a*o/h)/p,y=Math.pow(g,2);return m<0&&(g=-g),{slope:m,intercept:(o-a*m)/(h||1),r:g,r2:y}},forecast:function(e,t,r,n){var a=i.bestFit(e,r,n);return a.slope*t+a.intercept},mean:function(t){var i=0;return e.forEach(t,function(e){i+=e}),i/Math.max(t.length,1)},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},median:function(e){var t=e.slice(0).sort(function(e,t){return e-t});return(t[Math.floor(e.length/2)]+t[Math.ceil(e.length/2)])/2},mode:function(t){var i={},r=0,n=Number.MIN_VALUE;e.forEach(t,function(e){void 0!==i[e]?i[e]++:i[e]=1});for(var a in i)n<i[a]&&(n=i[a],r=a);return r},sum:function(t){var i=0;return e.forEach(t,function(e){i+=e}),i},approxLin:function(e,t){var i=t*(e.length-1),r=Math.ceil(i),n=r-1;return n<0?e[0]:r>=e.length?e[e.length-1]:e[n]*(r-i)+e[r]*(i-n)},summary:function(e,t){t||(e=e.slice(0),e.sort(function(e,t){return e-t}));var r=i.approxLin;return{min:e[0],p25:r(e,.25),med:r(e,.5),p75:r(e,.75),max:e[e.length-1],p10:r(e,.1),p90:r(e,.9)}}}),t.math.stats});//# sourceMappingURL=stats.js.map