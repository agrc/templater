//>>built
define("dojox/math/stats",["dojo","../main"],function(e,t){e.getObject("math.stats",!0,t);var a=t.math.stats;return e.mixin(a,{sd:function(e){return Math.sqrt(a.variance(e))},variance:function(t){var a=0,i=0;return e.forEach(t,function(e){a+=e,i+=Math.pow(e,2)}),i/t.length-Math.pow(a/t.length,2)},bestFit:function(t,a,i){a=a||"x",i=i||"y",void 0!==t[0]&&"number"==typeof t[0]&&(t=e.map(t,function(e,t){return{x:t,y:e}}));for(var r,n=0,o=0,s=0,l=0,d=0,u=0,c=0,m=t.length,h=0;m>h;h++)n+=t[h][a],o+=t[h][i],s+=Math.pow(t[h][a],2),l+=Math.pow(t[h][i],2),d+=t[h][a]*t[h][i];for(h=0;m>h;h++)r=t[h][a]-n/m,u+=r*r,c+=r*t[h][i];var f=c/(u||1),g=Math.sqrt((s-Math.pow(n,2)/m)*(l-Math.pow(o,2)/m));if(0===g)throw new Error("dojox.math.stats.bestFit: the denominator for Pearson's R is 0.");var p=(d-n*o/m)/g,y=Math.pow(p,2);return 0>f&&(p=-p),{slope:f,intercept:(o-n*f)/(m||1),r:p,r2:y}},forecast:function(e,t,i,r){var n=a.bestFit(e,i,r);return n.slope*t+n.intercept},mean:function(t){var a=0;return e.forEach(t,function(e){a+=e}),a/Math.max(t.length,1)},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},median:function(e){var t=e.slice(0).sort(function(e,t){return e-t});return(t[Math.floor(e.length/2)]+t[Math.ceil(e.length/2)])/2},mode:function(t){var a={},i=0,r=Number.MIN_VALUE;e.forEach(t,function(e){void 0!==a[e]?a[e]++:a[e]=1});for(var n in a)r<a[n]&&(r=a[n],i=n);return i},sum:function(t){var a=0;return e.forEach(t,function(e){a+=e}),a},approxLin:function(e,t){var a=t*(e.length-1),i=Math.ceil(a),r=i-1;return 0>r?e[0]:i>=e.length?e[e.length-1]:e[r]*(i-a)+e[i]*(a-r)},summary:function(e,t){t||(e=e.slice(0),e.sort(function(e,t){return e-t}));var i=a.approxLin,r={min:e[0],p25:i(e,.25),med:i(e,.5),p75:i(e,.75),max:e[e.length-1],p10:i(e,.1),p90:i(e,.9)};return r}}),t.math.stats});//# sourceMappingURL=stats.js.map