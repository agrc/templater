//>>built
define("dojox/math/stats",["dojo","../main"],function(e,t){e.getObject("math.stats",!0,t);var i=t.math.stats;return e.mixin(i,{sd:function(e){return Math.sqrt(i.variance(e))},variance:function(t){var i=0,a=0;return e.forEach(t,function(e){i+=e,a+=Math.pow(e,2)}),a/t.length-Math.pow(i/t.length,2)},bestFit:function(t,i,a){i=i||"x",a=a||"y",void 0!==t[0]&&"number"==typeof t[0]&&(t=e.map(t,function(e,t){return{x:t,y:e}}));for(var n,r=0,o=0,s=0,d=0,l=0,u=0,h=0,c=t.length,m=0;c>m;m++)r+=t[m][i],o+=t[m][a],s+=Math.pow(t[m][i],2),d+=Math.pow(t[m][a],2),l+=t[m][i]*t[m][a];for(m=0;c>m;m++)n=t[m][i]-r/c,u+=n*n,h+=n*t[m][a];var f=h/(u||1),g=Math.sqrt((s-Math.pow(r,2)/c)*(d-Math.pow(o,2)/c));if(0===g)throw new Error("dojox.math.stats.bestFit: the denominator for Pearson's R is 0.");var p=(l-r*o/c)/g,y=Math.pow(p,2);return 0>f&&(p=-p),{slope:f,intercept:(o-r*f)/(c||1),r:p,r2:y}},forecast:function(e,t,a,n){var r=i.bestFit(e,a,n);return r.slope*t+r.intercept},mean:function(t){var i=0;return e.forEach(t,function(e){i+=e}),i/Math.max(t.length,1)},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},median:function(e){var t=e.slice(0).sort(function(e,t){return e-t});return(t[Math.floor(e.length/2)]+t[Math.ceil(e.length/2)])/2},mode:function(t){var i={},a=0,n=Number.MIN_VALUE;e.forEach(t,function(e){void 0!==i[e]?i[e]++:i[e]=1});for(var r in i)n<i[r]&&(n=i[r],a=r);return a},sum:function(t){var i=0;return e.forEach(t,function(e){i+=e}),i},approxLin:function(e,t){var i=t*(e.length-1),a=Math.ceil(i),n=a-1;return 0>n?e[0]:a>=e.length?e[e.length-1]:e[n]*(a-i)+e[a]*(i-n)},summary:function(e,t){t||(e=e.slice(0),e.sort(function(e,t){return e-t}));var a=i.approxLin,n={min:e[0],p25:a(e,.25),med:a(e,.5),p75:a(e,.75),max:e[e.length-1],p10:a(e,.1),p90:a(e,.9)};return n}}),t.math.stats});//# sourceMappingURL=stats.js.map