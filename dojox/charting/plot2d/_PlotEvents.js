//>>built
define("dojox/charting/plot2d/_PlotEvents",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(e,t,a,i){return a("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[],this._eventSeries={}},destroy:function(){this.resetEvents(),this.inherited(arguments)},plotEvent:function(e){},raiseEvent:function(a){this.plotEvent(a);var i=e.delegate(a);i.originalEvent=a.type,i.originalPlot=a.plot,i.type="onindirect",t.forEach(this.chart.stack,function(e){e!==this&&e.plotEvent&&(i.plot=e,e.plotEvent(i))},this)},connect:function(e,t){return this.dirty=!0,i.connect(this,"plotEvent",e,t)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(t.forEach(this._shapeEvents,function(e){e.shape.disconnect(e.handle)}),this._shapeEvents=[]),this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(e,t){this._shapeEvents.push({shape:e.eventMask,handle:e.eventMask.connect(t,this,function(a){e.type=t,e.event=a,this.raiseEvent(e),e.event=null})})},_connectEvents:function(e){e&&(e.chart=this.chart,e.plot=this,e.hAxis=this.hAxis||null,e.vAxis=this.vAxis||null,e.eventMask=e.eventMask||e.shape,this._connectSingleEvent(e,"onmouseover"),this._connectSingleEvent(e,"onmouseout"),this._connectSingleEvent(e,"onclick"))},_reconnectEvents:function(e){var a=this._eventSeries[e];a&&t.forEach(a,this._connectEvents,this)},fireEvent:function(e,t,a,i){var r=this._eventSeries[e];if(r&&r.length&&a<r.length){var o=r[a];o.type=t,o.event=i||null,this.raiseEvent(o),o.event=null}}})});//# sourceMappingURL=_PlotEvents.js.map