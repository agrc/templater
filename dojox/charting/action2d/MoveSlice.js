//>>built
define("dojox/charting/action2d/MoveSlice",["dojo/_base/connect","dojo/_base/declare","dojo/_base/array","./PlotAction","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(e,t,a,i,r,o,d,n){var l=1.05,s=7;return t("dojox.charting.action2d.MoveSlice",i,{defaultParams:{duration:400,easing:r.backOut,scale:l,shift:s},optionalParams:{},constructor:function(e,t,a){a||(a={}),this.scale="number"==typeof a.scale?a.scale:l,this.shift="number"==typeof a.shift?a.shift:s,this.connect()},process:function(t){if(t.shape&&"slice"==t.element&&t.type in this.overOutEvents){if(!this.angles){var i=o._degToRad(t.plot.opt.startAngle);"number"==typeof t.run.data[0]?this.angles=n.map(n.scanl(t.run.data,"+",0),"* 2 * Math.PI / this",n.foldl(t.run.data,"+",0)):this.angles=n.map(n.scanl(t.run.data,"a + b.y",0),"* 2 * Math.PI / this",n.foldl(t.run.data,"a + b.y",0)),this.angles=a.map(this.angles,function(e){return e+i})}var r,l,s,m,u,h=t.index,f=(this.angles[h]+this.angles[h+1])/2,c=o.rotateAt(-f,t.cx,t.cy),y=o.rotateAt(f,t.cx,t.cy);r=this.anim[h],r?r.action.stop(!0):this.anim[h]=r={},"onmouseover"==t.type?(m=0,u=this.shift,l=1,s=this.scale):(m=this.shift,u=0,l=this.scale,s=1),r.action=d.animateTransform({shape:t.shape,duration:this.duration,easing:this.easing,transform:[y,{name:"translate",start:[m,0],end:[u,0]},{name:"scaleAt",start:[l,t.cx,t.cy],end:[s,t.cx,t.cy]},c]}),"onmouseout"==t.type&&e.connect(r.action,"onEnd",this,function(){delete this.anim[h]}),r.action.play()}},reset:function(){delete this.angles}})});//# sourceMappingURL=MoveSlice.js.map