//>>built
define("dojox/charting/Chart3D",["dojo/_base/array","dojo/dom","dojo/_base/declare","dojox/gfx","dojox/gfx3d","dojo/has","dojo/has!dojo-bidi?./bidi/Chart3D"],function(e,t,a,i,r,o,n){var d={x:0,y:0,z:1},l=r.vector,s=i.normalizedLength,m=a(o("dojo-bidi")?"dojox.charting.NonBidiChart3D":"dojox.charting.Chart3D",null,{constructor:function(e,a,r,o){this.node=t.byId(e),this.surface=i.createSurface(this.node,s(this.node.style.width),s(this.node.style.height)),this.view=this.surface.createViewport(),this.view.setLights(a.lights,a.ambient,a.specular),this.view.setCameraTransform(r),this.theme=o,this.walls=[],this.plots=[]},generate:function(){return this._generateWalls()._generatePlots()},invalidate:function(){return this.view.invalidate(),this},render:function(){return this.view.render(),this},addPlot:function(e){return this._add(this.plots,e)},removePlot:function(e){return this._remove(this.plots,e)},addWall:function(e){return this._add(this.walls,e)},removeWall:function(e){return this._remove(this.walls,e)},_add:function(t,a){return e.some(t,function(e){return e==a})||(t.push(a),this.view.invalidate()),this},_remove:function(t,a){var i=e.filter(t,function(e){return e!=a});return i.length<t.length?(t=i,this.invalidate()):this},_generateWalls:function(){for(var e=0;e<this.walls.length;++e)l.dotProduct(d,this.walls[e].normal)>0&&this.walls[e].generate(this);return this},_generatePlots:function(){for(var e=0,t=r.matrix,a=0;a<this.plots.length;++a)e+=this.plots[a].getDepth();for(--a;a>=0;--a){var i=this.view.createScene();i.setTransform(t.translate(0,0,-e)),this.plots[a].generate(this,i),e-=this.plots[a].getDepth()}return this},setDir:function(e){return this}});return o("dojo-bidi")?a("dojox.charting.Chart3D",[m,n]):m});//# sourceMappingURL=Chart3D.js.map