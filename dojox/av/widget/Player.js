//>>built
define("dojox/av/widget/Player",["dojo","dijit","dijit/_Widget","dijit/_TemplatedMixin"],function(e,t,a,i){return e.experimental("dojox.av.widget.Player"),e.declare("dojox.av.widget.Player",[a,i],{playerWidth:"480px",widgetsInTemplate:!0,templateString:e.cache("dojox.av.widget","resources/Player.html"),_fillContent:function(){if(!this.items&&this.srcNodeRef){this.items=[];var t=e.query("*",this.srcNodeRef);e.forEach(t,function(e){this.items.push(e)},this)}},postCreate:function(){e.style(this.domNode,"width",this.playerWidth+(e.isString(this.playerWidth)?"":"px")),e.isString(this.playerWidth)&&this.playerWidth.indexOf("%")&&e.connect(window,"resize",this,"onResize"),this.children=[];e.forEach(this.items,function(a,i){switch(a.id=t.getUniqueId("player_control"),e.attr(a,"controlType")){case"play":this.playContainer.appendChild(a);break;case"volume":this.controlsBottom.appendChild(a);break;case"status":this.statusContainer.appendChild(a);break;case"progress":case"slider":this.progressContainer.appendChild(a);break;case"video":this.mediaNode=a,this.playerScreen.appendChild(a)}this.items[i]=a.id},this)},startup:function(){this.media=t.byId(this.mediaNode.id),e.isAIR||(e.style(this.media.domNode,"width","100%"),e.style(this.media.domNode,"height","100%")),e.forEach(this.items,function(e){if(e!==this.mediaNode.id){var a=t.byId(e);this.children.push(a),a&&a.setMedia(this.media,this)}},this)},onResize:function(t){var a=e.marginBox(this.domNode);this.media&&null!==this.media.onResize&&this.media.onResize(a),e.forEach(this.children,function(e){e.onResize&&e.onResize(a)})}})});//# sourceMappingURL=Player.js.map