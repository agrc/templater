{"version":3,"sources":["Annotation.js.uncompressed.js"],"names":["define","dojo","declare","dojox","sketch","_Plugin","onMouseDown","e","this","_omd","onMouseMove","rect","_cshape","setShape","figure","surface","createRect","setStroke","color","width","style","setFill","getEventSource","setAttribute","onMouseUp","f","remove","_startPoint","x","pageX","y","pageY","limit","Math","max","abs","_absEnd","_start","_create","_end","start","end","_","nextKey","a","transform","dx","_calCol","zoomFactor","dy","control","onBeforeCreateShape","initialize","select","onCreateShape","history","add","CommandTypes","Create","Annotation","id","_key","mode","Modes","View","shape","boundingBox","hasAnchors","anchors","_properties","stroke","font","family","size","weight","fill","label","p","prototype","constructor","type","getType","onRemove","noundo","Delete","serialize","property","name","value","r","toLowerCase","undefined","arguments","length","onPropertyChange","oldvalue","onCreate","onDblClick","l","prompt","beginEdit","Modify","draw","endEdit","destroy","apply","obj","getBBox","_type","Move","_prevState","calculate","slope","p1","p2","s","drawBBox","moveToBack","_add","setBinding","pt","getTextBox","zoomfactor","fp","fontFamily","fontSize","fontWeight","floor","gfx","_base","_getTextBox","setMode","m","method","Edit","zoom","pct","labelShape","clone","ceil","setFont","n","renderer","pathShape","writeCommonAttrs","data","toJson","readCommonAttrs","c","i","cs","childNodes","nodeType","nodeValue","substr","fromJson","getAttribute","t","replace","split","parseFloat","register","toolclass","cls","registerTool","mixin","annotation","AnnotationTool"],"mappings":"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","file":"Annotation.js.uncompressed.js"}