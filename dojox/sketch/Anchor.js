//>>built
define("dojox/sketch/Anchor",["dojo/_base/kernel","dojo/_base/lang","../gfx"],function(e){return e.getObject("sketch",!0,dojox),dojox.sketch.Anchor=function(e,t,i){var a=this,o=4,n=null;this.type=function(){return"Anchor"},this.annotation=e,this.id=t,this._key="anchor-"+dojox.sketch.Anchor.count++,this.shape=null,this.isControl=null==i||i,this.beginEdit=function(){this.annotation.beginEdit(dojox.sketch.CommandTypes.Modify)},this.endEdit=function(){this.annotation.endEdit()},this.zoom=function(i){if(this.shape){var a=Math.floor(o/i),n="vml"==dojox.gfx.renderer?1:1/i;this.shape.setShape({x:e[t].x-a,y:e[t].y-a,width:2*a,height:2*a}).setStroke({color:"black",width:n})}},this.setBinding=function(i){e[t]={x:e[t].x+i.dx,y:e[t].y+i.dy},e.draw(),e.drawBBox()},this.setUndo=function(){e.setUndo()},this.enable=function(){e.shape&&(e.figure._add(this),n={x:e[t].x-o,y:e[t].y-o,width:2*o,height:2*o},this.shape=e.shape.createRect(n).setFill([255,255,255,.35]),this.shape.getEventSource().setAttribute("id",a._key),this.shape.getEventSource().setAttribute("shape-rendering","crispEdges"),this.zoom(e.figure.zoomFactor))},this.disable=function(){e.figure._remove(this),e.shape&&e.shape.remove(this.shape),this.shape=null,n=null}},dojox.sketch.Anchor.count=0,dojox.sketch.Anchor});//# sourceMappingURL=Anchor.js.map