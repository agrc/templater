{"version":3,"sources":["lighting.js.uncompressed.js"],"names":["define","lang","Color","declare","gfx","gfx3d","lite","lighting","black","r","g","b","a","white","toStdColor","c","normalizeColor","fromStdColor","Math","round","scaleColor","s","addColor","multiplyColor","saturateColor","mixColor","c1","c2","diff2Color","length2Color","dot","x","y","z","scale","v","add","saturate","min","max","length","sqrt","normalize","faceforward","n","i","p","reflect","diffuse","normal","lights","l","d","direction","color","specular","roughness","h","pow","phong","size","constructor","incident","ambient","this","push","intensity","npr_cool","npr_warm","npr_alpha","npr_beta","npr_scale","constant","finish","pigment","alpha","matte","Ka","shadow","Kd","metal","Ks","phong_size","plastic","npr","cool","warm","defaults","dull","shiny","glossy","phong_dull","phong_shiny","phong_glossy","luminous","metalA","metalB","metalC","metalD","metalE"],"mappings":"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","file":"lighting.js.uncompressed.js"}