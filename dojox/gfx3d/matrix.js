//>>built
define("dojox/gfx3d/matrix",["dojo/_base/lang","./_base"],function(e,t){return t.matrix={_degToRad:function(e){return Math.PI*e/180},_radToDeg:function(e){return e/Math.PI*180}},t.matrix.Matrix3D=function(a){if(a)if("number"==typeof a)this.xx=this.yy=this.zz=a;else if(a instanceof Array){if(a.length>0){for(var i=t.matrix.normalize(a[0]),o=1;o<a.length;++o){var r=i,n=t.matrix.normalize(a[o]);i=new t.matrix.Matrix3D,i.xx=r.xx*n.xx+r.xy*n.yx+r.xz*n.zx,i.xy=r.xx*n.xy+r.xy*n.yy+r.xz*n.zy,i.xz=r.xx*n.xz+r.xy*n.yz+r.xz*n.zz,i.yx=r.yx*n.xx+r.yy*n.yx+r.yz*n.zx,i.yy=r.yx*n.xy+r.yy*n.yy+r.yz*n.zy,i.yz=r.yx*n.xz+r.yy*n.yz+r.yz*n.zz,i.zx=r.zx*n.xx+r.zy*n.yx+r.zz*n.zx,i.zy=r.zx*n.xy+r.zy*n.yy+r.zz*n.zy,i.zz=r.zx*n.xz+r.zy*n.yz+r.zz*n.zz,i.dx=r.xx*n.dx+r.xy*n.dy+r.xz*n.dz+r.dx,i.dy=r.yx*n.dx+r.yy*n.dy+r.yz*n.dz+r.dy,i.dz=r.zx*n.dx+r.zy*n.dy+r.zz*n.dz+r.dz}e.mixin(this,i)}}else e.mixin(this,a)},e.extend(t.matrix.Matrix3D,{xx:1,xy:0,xz:0,yx:0,yy:1,yz:0,zx:0,zy:0,zz:1,dx:0,dy:0,dz:0}),e.mixin(t.matrix,{identity:new t.matrix.Matrix3D,translate:function(e,a,i){return arguments.length>1?new t.matrix.Matrix3D({dx:e,dy:a,dz:i}):new t.matrix.Matrix3D({dx:e.x,dy:e.y,dz:e.z})},scale:function(e,a,i){return arguments.length>1?new t.matrix.Matrix3D({xx:e,yy:a,zz:i}):"number"==typeof e?new t.matrix.Matrix3D({xx:e,yy:e,zz:e}):new t.matrix.Matrix3D({xx:e.x,yy:e.y,zz:e.z})},rotateX:function(e){var a=Math.cos(e),i=Math.sin(e);return new t.matrix.Matrix3D({yy:a,yz:-i,zy:i,zz:a})},rotateXg:function(e){return t.matrix.rotateX(t.matrix._degToRad(e))},rotateY:function(e){var a=Math.cos(e),i=Math.sin(e);return new t.matrix.Matrix3D({xx:a,xz:i,zx:-i,zz:a})},rotateYg:function(e){return t.matrix.rotateY(t.matrix._degToRad(e))},rotateZ:function(e){var a=Math.cos(e),i=Math.sin(e);return new t.matrix.Matrix3D({xx:a,xy:-i,yx:i,yy:a})},rotateZg:function(e){return t.matrix.rotateZ(t.matrix._degToRad(e))},cameraTranslate:function(e,a,i){return arguments.length>1?new t.matrix.Matrix3D({dx:-e,dy:-a,dz:-i}):new t.matrix.Matrix3D({dx:-e.x,dy:-e.y,dz:-e.z})},cameraRotateX:function(e){var a=Math.cos(-e),i=Math.sin(-e);return new t.matrix.Matrix3D({yy:a,yz:-i,zy:i,zz:a})},cameraRotateXg:function(e){return t.matrix.rotateX(t.matrix._degToRad(e))},cameraRotateY:function(e){var a=Math.cos(-e),i=Math.sin(-e);return new t.matrix.Matrix3D({xx:a,xz:i,zx:-i,zz:a})},cameraRotateYg:function(e){return t.matrix.rotateY(dojox.gfx3d.matrix._degToRad(e))},cameraRotateZ:function(e){var a=Math.cos(-e),i=Math.sin(-e);return new t.matrix.Matrix3D({xx:a,xy:-i,yx:i,yy:a})},cameraRotateZg:function(e){return t.matrix.rotateZ(t.matrix._degToRad(e))},normalize:function(e){return e instanceof t.matrix.Matrix3D?e:new t.matrix.Matrix3D(e)},clone:function(e){var a=new t.matrix.Matrix3D;for(var i in e)"number"==typeof e[i]&&"number"==typeof a[i]&&a[i]!=e[i]&&(a[i]=e[i]);return a},invert:function(e){var a=t.matrix.normalize(e),i=a.xx*a.yy*a.zz+a.xy*a.yz*a.zx+a.xz*a.yx*a.zy-a.xx*a.yz*a.zy-a.xy*a.yx*a.zz-a.xz*a.yy*a.zx;return new t.matrix.Matrix3D({xx:(a.yy*a.zz-a.yz*a.zy)/i,xy:(a.xz*a.zy-a.xy*a.zz)/i,xz:(a.xy*a.yz-a.xz*a.yy)/i,yx:(a.yz*a.zx-a.yx*a.zz)/i,yy:(a.xx*a.zz-a.xz*a.zx)/i,yz:(a.xz*a.yx-a.xx*a.yz)/i,zx:(a.yx*a.zy-a.yy*a.zx)/i,zy:(a.xy*a.zx-a.xx*a.zy)/i,zz:(a.xx*a.yy-a.xy*a.yx)/i,dx:-1*(a.xy*a.yz*a.dz+a.xz*a.dy*a.zy+a.dx*a.yy*a.zz-a.xy*a.dy*a.zz-a.xz*a.yy*a.dz-a.dx*a.yz*a.zy)/i,dy:(a.xx*a.yz*a.dz+a.xz*a.dy*a.zx+a.dx*a.yx*a.zz-a.xx*a.dy*a.zz-a.xz*a.yx*a.dz-a.dx*a.yz*a.zx)/i,dz:-1*(a.xx*a.yy*a.dz+a.xy*a.dy*a.zx+a.dx*a.yx*a.zy-a.xx*a.dy*a.zy-a.xy*a.yx*a.dz-a.dx*a.yy*a.zx)/i})},_multiplyPoint:function(e,t,a,i){return{x:e.xx*t+e.xy*a+e.xz*i+e.dx,y:e.yx*t+e.yy*a+e.yz*i+e.dy,z:e.zx*t+e.zy*a+e.zz*i+e.dz}},multiplyPoint:function(e,a,i,o){var r=t.matrix.normalize(e);return"number"==typeof a&&"number"==typeof i&&"number"==typeof o?t.matrix._multiplyPoint(r,a,i,o):t.matrix._multiplyPoint(r,a.x,a.y,a.z)},multiply:function(e){for(var a=t.matrix.normalize(e),i=1;i<arguments.length;++i){var o=a,r=t.matrix.normalize(arguments[i]);a=new t.matrix.Matrix3D,a.xx=o.xx*r.xx+o.xy*r.yx+o.xz*r.zx,a.xy=o.xx*r.xy+o.xy*r.yy+o.xz*r.zy,a.xz=o.xx*r.xz+o.xy*r.yz+o.xz*r.zz,a.yx=o.yx*r.xx+o.yy*r.yx+o.yz*r.zx,a.yy=o.yx*r.xy+o.yy*r.yy+o.yz*r.zy,a.yz=o.yx*r.xz+o.yy*r.yz+o.yz*r.zz,a.zx=o.zx*r.xx+o.zy*r.yx+o.zz*r.zx,a.zy=o.zx*r.xy+o.zy*r.yy+o.zz*r.zy,a.zz=o.zx*r.xz+o.zy*r.yz+o.zz*r.zz,a.dx=o.xx*r.dx+o.xy*r.dy+o.xz*r.dz+o.dx,a.dy=o.yx*r.dx+o.yy*r.dy+o.yz*r.dz+o.dy,a.dz=o.zx*r.dx+o.zy*r.dy+o.zz*r.dz+o.dz}return a},_project:function(e,t,a,i){return{x:e.xx*t+e.xy*a+e.xz*i+e.dx,y:e.yx*t+e.yy*a+e.yz*i+e.dy,z:e.zx*t+e.zy*a+e.zz*i+e.dz}},project:function(e,a,i,o){var r=t.matrix.normalize(e);return"number"==typeof a&&"number"==typeof i&&"number"==typeof o?t.matrix._project(r,a,i,o):t.matrix._project(r,a.x,a.y,a.z)}}),t.Matrix3D=t.matrix.Matrix3D,t.matrix});//# sourceMappingURL=matrix.js.map