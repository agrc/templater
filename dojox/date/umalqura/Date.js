//>>built
define("dojox/date/umalqura/Date",["dojo/_base/lang","dojo/_base/declare","dojo/date","../islamic/Date"],function(e,t,a){var r=t("dojox.date.umalqura.Date",null,{_MONTH_LENGTH:["010100101011","011010010011","010110110101","001010110110","101110110010","011010110101","010101010110","101010010110","110101001010","111010100101","011101010010","101101101001","010101110100","101001101101","100100110110","110010010110","110101001010","111001101001","011010110100","101010111010","010010111101","001000111101","100100011101","101010010101","101101001010","101101011010","010101101101","001010110110","100100111011","010010011011","011001010101","011010101001","011101010100","101101101010","010101101100","101010101101","010101010101","101100101001","101110010010","101110101001","010111010100","101011011010","010101011010","101010101011","010110010101","011101001001","011101100100","101110101010","010110110101","001010110110","101001010110","110100101010","111010010101","011100101010","011101010101","001101011010","100101011101","010010011011","101001001101","110100100110","110101010011","010110101010","101010101101","010010110110","101001010111","010100100111","101010010101","101101001010","101101010101","001101101100","100110101110","010010110110","101010010110","101101001010","110110100101","010111010010","010111011001","001011011100","100101101101","010010101101","011001010101"],_hijriBegin:1400,_hijriEnd:1480,_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var e=arguments.length;if(e)if(1==e){var t=arguments[0];"number"==typeof t&&(t=new Date(t)),t instanceof Date?this.fromGregorian(t):""==t?this._date=new Date(""):(this._year=t._year,this._month=t._month,this._date=t._date,this._hours=t._hours,this._minutes=t._minutes,this._seconds=t._seconds,this._milliseconds=t._milliseconds)}else e>=3&&(this._year+=arguments[0],this._month+=arguments[1],this._date+=arguments[2],this._hours+=arguments[3]||0,this._minutes+=arguments[4]||0,this._seconds+=arguments[5]||0,this._milliseconds+=arguments[6]||0);else this.fromGregorian(new Date)},getDate:function(){return this._date},getMonth:function(){return this._month},getFullYear:function(){return this._year},getDay:function(){var e=this.toGregorian(),t=e.getDay();return t},getHours:function(){return this._hours},getMinutes:function(){return this._minutes},getSeconds:function(){return this._seconds},getMilliseconds:function(){return this._milliseconds},setDate:function(e){if(e=parseInt(e),e>0&&e<=this.getDaysInIslamicMonth(this._month,this._year))this._date=e;else{var t;if(e>0){for(t=this.getDaysInIslamicMonth(this._month,this._year);e>t;e-=t,t=this.getDaysInIslamicMonth(this._month,this._year))this._month++,this._month>=12&&(this._year++,this._month-=12);this._date=e}else{for(t=this.getDaysInIslamicMonth(this._month-1>=0?this._month-1:11,this._month-1>=0?this._year:this._year-1);0>=e;t=this.getDaysInIslamicMonth(this._month-1>=0?this._month-1:11,this._month-1>=0?this._year:this._year-1))this._month--,this._month<0&&(this._year--,this._month+=12),e+=t;this._date=e}}return this},setFullYear:function(e){this._year=+e},setMonth:function(e){this._year+=Math.floor(e/12),e>0?this._month=Math.floor(e%12):this._month=Math.floor((e%12+12)%12)},setHours:function(){var e=arguments.length,t=0;for(e>=1&&(t=parseInt(arguments[0])),e>=2&&(this._minutes=parseInt(arguments[1])),e>=3&&(this._seconds=parseInt(arguments[2])),4==e&&(this._milliseconds=parseInt(arguments[3]));t>=24;){this._date++;var i=this.getDaysInIslamicMonth(this._month,this._year);this._date>i&&(this._month++,this._month>=12&&(this._year++,this._month-=12),this._date-=i),t-=24}this._hours=t},_addMinutes:function(e){return e+=this._minutes,this.setMinutes(e),this.setHours(this._hours+parseInt(e/60)),this},_addSeconds:function(e){return e+=this._seconds,this.setSeconds(e),this._addMinutes(parseInt(e/60)),this},_addMilliseconds:function(e){return e+=this._milliseconds,this.setMilliseconds(e),this._addSeconds(parseInt(e/1e3)),this},setMinutes:function(e){for(;e>=60;){if(this._hours++,this._hours>=24){this._date++,this._hours-=24;var t=this.getDaysInIslamicMonth(this._month,this._year);this._date>t&&(this._month++,this._month>=12&&(this._year++,this._month-=12),this._date-=t)}e-=60}this._minutes=e},setSeconds:function(e){for(;e>=60;){if(this._minutes++,this._minutes>=60&&(this._hours++,this._minutes-=60,this._hours>=24)){this._date++,this._hours-=24;var t=this.getDaysInIslamicMonth(this._month,this._year);this._date>t&&(this._month++,this._month>=12&&(this._year++,this._month-=12),this._date-=t)}e-=60}this._seconds=e},setMilliseconds:function(e){for(;e>=1e3;){if(this.setSeconds++,this.setSeconds>=60&&(this._minutes++,this.setSeconds-=60,this._minutes>=60&&(this._hours++,this._minutes-=60,this._hours>=24))){this._date++,this._hours-=24;var t=this.getDaysInIslamicMonth(this._month,this._year);this._date>t&&(this._month++,this._month>=12&&(this._year++,this._month-=12),this._date-=t)}e-=1e3}this._milliseconds=e},toString:function(){var e=new Date;return e.setHours(this._hours),e.setMinutes(this._minutes),e.setSeconds(this._seconds),e.setMilliseconds(this._milliseconds),this._month+" "+this._date+" "+this._year+" "+e.toTimeString()},toGregorian:function(){var e=this._year,t=this._month,i=this._date,r=new Date;if(e>=this._hijriBegin&&e<=this._hijriEnd){var n=new Array(17);n[0]=new Date(1979,10,20,0,0,0,0),n[1]=new Date(1984,8,26,0,0,0,0),n[2]=new Date(1989,7,3,0,0,0,0),n[3]=new Date(1994,5,10,0,0,0,0),n[4]=new Date(1999,3,17,0,0,0,0),n[5]=new Date(2004,1,21,0,0,0,0),n[6]=new Date(2008,11,29,0,0,0,0),n[7]=new Date(2013,10,4,0,0,0,0),n[8]=new Date(2018,8,11,0,0,0,0),n[9]=new Date(2023,6,19,0,0,0,0),n[10]=new Date(2028,4,25,0,0,0,0),n[11]=new Date(2033,3,1,0,0,0,0),n[12]=new Date(2038,1,5,0,0,0,0),n[13]=new Date(2042,11,14,0,0,0,0),n[14]=new Date(2047,9,20,0,0,0,0),n[15]=new Date(2052,7,26,0,0,0,0),n[16]=new Date(2057,6,3,0,0,0,0);var o=e-this._hijriBegin,d=Math.floor(o/5),s=o%5,l=0,u=s,c=5*d,f=0,m=0;if(0==s){for(m=0;t-1>=m;m++)"1"==this._MONTH_LENGTH[o].charAt(m)?l+=30:"0"==this._MONTH_LENGTH[o].charAt(m)&&(l+=29);l+=i-1}else{for(k=c;k<=c+s;k++){for(f=0;u>0&&12>f;f++)"1"==this._MONTH_LENGTH[k].charAt(f)?l+=30:"0"==this._MONTH_LENGTH[k].charAt(f)&&(l+=29);if(u--,0==u)for(m=0;t-1>=m;m++)"1"==this._MONTH_LENGTH[o].charAt(m)?l+=30:"0"==this._MONTH_LENGTH[o].charAt(m)&&(l+=29)}l+=i-1}var h=new Date(n[d]);h.setHours(this._hours,this._minutes,this._seconds,this._milliseconds),r=a.add(h,"day",l)}else{var y=new dojox.date.islamic.Date(this._year,this._month,this._date,this._hours,this._minutes,this._seconds,this._milliseconds);r=new Date(y.toGregorian())}return r},fromGregorian:function(e){var t=new Date(e);t.setHours(0,0,0,0);var r=(t.getFullYear(),t.getMonth(),t.getDate(),new Array(17));r[0]=new Date(1979,10,20,0,0,0,0),r[1]=new Date(1984,8,26,0,0,0,0),r[2]=new Date(1989,7,3,0,0,0,0),r[3]=new Date(1994,5,10,0,0,0,0),r[4]=new Date(1999,3,17,0,0,0,0),r[5]=new Date(2004,1,21,0,0,0,0),r[6]=new Date(2008,11,29,0,0,0,0),r[7]=new Date(2013,10,4,0,0,0,0),r[8]=new Date(2018,8,11,0,0,0,0),r[9]=new Date(2023,6,19,0,0,0,0),r[10]=new Date(2028,4,25,0,0,0,0),r[11]=new Date(2033,3,1,0,0,0,0),r[12]=new Date(2038,1,5,0,0,0,0),r[13]=new Date(2042,11,14,0,0,0,0),r[14]=new Date(2047,9,20,0,0,0,0),r[15]=new Date(2052,7,26,0,0,0,0),r[16]=new Date(2057,6,3,0,0,0,0);var n=new Date(2058,5,21,0,0,0,0);if(a.compare(t,r[0])>=0&&a.compare(t,n)<=0){var o;if(a.compare(t,r[16])<=0){var d=0,s=0,l=0;for(d=0;d<r.length;d++){if(0==a.compare(t,r[d],"date")){s=d,l=1;break}if(a.compare(t,r[d],"date")<0){s=d-1;break}}var u=0,c=0,f=0;if(1==l)this._date=1,this._month=0,this._year=this._hijriBegin+5*s,this._hours=e.getHours(),this._minutes=e.getMinutes(),this._seconds=e.getSeconds(),this._milliseconds=e.getMilliseconds(),this._day=r[s].getDay();else{for(o=a.difference(r[s],t,"day"),s=5*s,i=s;i<s+5;i++){for(u=0;11>=u;u++){if("1"==this._MONTH_LENGTH[i].charAt(u)?f=30:"0"==this._MONTH_LENGTH[i].charAt(u)&&(f=29),!(o>f)){c=1;break}o-=f}if(1==c){if(0==o){o=1,11==u?(u=1,++i):++u;break}o==f&&(o=0,11==u?(u=0,++i):++u),o++;break}}this._date=o,this._month=u,this._year=this._hijriBegin+i,this._hours=e.getHours(),this._minutes=e.getMinutes(),this._seconds=e.getSeconds(),this._milliseconds=e.getMilliseconds(),this._day=e.getDay()}}else{o=a.difference(r[16],t,"day");a.difference(new Date(2057,6,3,0,0,0,0),new Date(2057,6,1,0,0,0,0),"date");for(u=0;11>=u;u++){if("1"==this._MONTH_LENGTH[80].charAt(u)?f=30:"0"==this._MONTH_LENGTH[80].charAt(u)&&(f=29),!(o>f)){c=1;break}o-=f}1==c&&(0==o?(o=1,11==u?(u=1,++i):++u):(o==f&&(o=0,11==u?(u=0,++i):++u),o++)),this._date=o,this._month=u,this._year=1480,this._hours=e.getHours(),this._minutes=e.getMinutes(),this._seconds=e.getSeconds(),this._milliseconds=e.getMilliseconds(),this._day=e.getDay()}}else{var m=new dojox.date.islamic.Date(t);this._date=m.getDate(),this._month=m.getMonth(),this._year=m.getFullYear(),this._hours=e.getHours(),this._minutes=e.getMinutes(),this._seconds=e.getSeconds(),this._milliseconds=e.getMilliseconds(),this._day=e.getDay()}return this},valueOf:function(){return this.toGregorian().valueOf()},_yearStart:function(e){return 354*(e-1)+Math.floor((3+11*e)/30)},_monthStart:function(e,t){return Math.ceil(29.5*t)+354*(e-1)+Math.floor((3+11*e)/30)},_civilLeapYear:function(e){return 11>(14+11*e)%30},getDaysInIslamicMonth:function(e,t){if(t>=this._hijriBegin&&t<=this._hijriEnd){var i=t-this._hijriBegin,a=0;a=1==this._MONTH_LENGTH[i].charAt(e)?30:29}else{var r=new dojox.date.islamic.Date;a=r.getDaysInIslamicMonth(e,t)}return a}});return r.getDaysInIslamicMonth=function(e){return(new r).getDaysInIslamicMonth(e.getMonth(),e.getFullYear())},r});//# sourceMappingURL=Date.js.map