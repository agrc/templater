//>>built
define("dojox/date/buddhist/locale",["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","dojo/i18n!dojo/cldr/nls/buddhist"],function(e,t,i,a,r,n,o,d){function s(e,t,i,r,n){return n.replace(/([a-z])\1*/gi,function(i){var r,d,s=i.charAt(0),l=i.length,u=["abbr","wide","narrow"];switch(s){case"G":r=t.eraAbbr[0];break;case"y":r=String(e.getFullYear());break;case"M":var c=e.getMonth();if(3>l)r=c+1,d=!0;else{var f=["months","format",u[l-3]].join("-");r=t[f][c]}break;case"d":r=e.getDate(!0),d=!0;break;case"E":var m=e.getDay();if(3>l)r=m+1,d=!0;else{var h=["days","format",u[l-3]].join("-");r=t[h][m]}break;case"a":var p=e.getHours()<12?"am":"pm";r=t["dayPeriods-format-wide-"+p];break;case"h":case"H":case"K":case"k":var y=e.getHours();switch(s){case"h":r=y%12||12;break;case"H":r=y;break;case"K":r=y%12;break;case"k":r=y||24}d=!0;break;case"m":r=e.getMinutes(),d=!0;break;case"s":r=e.getSeconds(),d=!0;break;case"S":r=Math.round(e.getMilliseconds()*Math.pow(10,l-3)),d=!0;break;case"z":if(r=a.getTimezoneName(e.toGregorian()))break;l=4;case"Z":var v=e.toGregorian().getTimezoneOffset(),g=[0>=v?"+":"-",o.pad(Math.floor(Math.abs(v)/60),2),o.pad(Math.abs(v)%60,2)];4==l&&(g.splice(0,0,"GMT"),g.splice(3,0,":")),r=g.join("");break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+n)}return d&&(r=o.pad(r,l)),r})}function l(e,t,a,r){var n=function(e){return e};t=t||n,a=a||n,r=r||n;var o=e.match(/(''|[^'])+/g),d="'"==e.charAt(0);return i.forEach(o,function(e,i){e?(o[i]=(d?a:t)(e),d=!d):o[i]=""}),r(o.join(""))}function u(e,t,i,a){a=n.escapeString(a);r.normalizeLocale(i.locale);return a.replace(/([a-z])\1*/gi,function(a){var r,n=a.charAt(0),o=a.length,d="",s="";switch(i.strict?(o>1&&(d="0{"+(o-1)+"}"),o>2&&(s="0{"+(o-2)+"}")):(d="0?",s="0{0,2}"),n){case"y":r="\\d+";break;case"M":r=o>2?"\\S+":d+"[1-9]|1[0-2]";break;case"d":r="[12]\\d|"+d+"[1-9]|3[01]";break;case"E":r="\\S+";break;case"h":r=d+"[1-9]|1[0-2]";break;case"k":r=d+"\\d|1[01]";break;case"H":r=d+"\\d|1\\d|2[0-3]";break;case"K":r=d+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":r=d+"\\d|[0-5]\\d";break;case"S":r="\\d{"+o+"}";break;case"a":var l=i.am||t["dayPeriods-format-wide-am"],u=i.pm||t["dayPeriods-format-wide-pm"];i.strict?r=l+"|"+u:(r=l+"|"+u,l!=l.toLowerCase()&&(r+="|"+l.toLowerCase()),u!=u.toLowerCase()&&(r+="|"+u.toLowerCase()));break;default:r=".*"}return e&&e.push(a),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var c=t.getObject("date.buddhist.locale",!0,e);c.format=function(e,i){i=i||{};var a=r.normalizeLocale(i.locale),n=i.formatLength||"short",o=c._getBuddhistBundle(a),d=[],u=t.hitch(this,s,e,o,a,i.fullYear);if("year"==i.selector){var f=e.getFullYear();return f}if("time"!=i.selector){var m=i.datePattern||o["dateFormat-"+n];m&&d.push(l(m,u))}if("date"!=i.selector){var h=i.timePattern||o["timeFormat-"+n];h&&d.push(l(h,u))}var p=d.join(" ");return p},c.regexp=function(e){return c._parseInfo(e).regexp},c._parseInfo=function(e){e=e||{};var i,a=r.normalizeLocale(e.locale),n=c._getBuddhistBundle(a),o=e.formatLength||"short",d=e.datePattern||n["dateFormat-"+o],s=e.timePattern||n["timeFormat-"+o];i="date"==e.selector?d:"time"==e.selector?s:"undefined"==typeof s?d:d+" "+s;var f=[],m=l(i,t.hitch(this,u,f,n,e));return{regexp:m,tokens:f,bundle:n}},c.parse=function(e,t){e=e.replace(/[\u200E\u200F\u202A-\u202E]/g,""),t||(t={});var a=c._parseInfo(t),n=a.tokens,o=a.bundle,s=new RegExp("^"+a.regexp+"$"),l=s.exec(e);r.normalizeLocale(t.locale);if(!l)return null;var u=[2513,0,1,0,0,0,0],f="",m=0,h=["abbr","wide","narrow"],p=(i.every(l,function(e,a){if(!a)return!0;var r=n[a-1],d=r.length;switch(r.charAt(0)){case"y":u[0]=Number(e);break;case"M":if(d>2){var s=o["months-format-"+h[d-3]].concat();if(t.strict||(e=e.replace(".","").toLowerCase(),s=i.map(s,function(e){return e?e.replace(".","").toLowerCase():e})),e=i.indexOf(s,e),-1==e)return!1;m=d}else e--;u[1]=Number(e);break;case"D":u[1]=0;case"d":u[2]=Number(e);break;case"a":var l=t.am||o["dayPeriods-format-wide-am"],c=t.pm||o["dayPeriods-format-wide-pm"];if(!t.strict){var p=/\./g;e=e.replace(p,"").toLowerCase(),l=l.replace(p,"").toLowerCase(),c=c.replace(p,"").toLowerCase()}if(t.strict&&e!=l&&e!=c)return!1;f=e==c?"p":e==l?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":u[3]=Number(e);break;case"m":u[4]=Number(e);break;case"s":u[5]=Number(e);break;case"S":u[6]=Number(e)}return!0}),+u[3]);"p"===f&&12>p?u[3]=p+12:"a"===f&&12==p&&(u[3]=0);var y=new d(u[0],u[1],u[2],u[3],u[4],u[5],u[6]);return y};var f=[];return c.addCustomFormats=function(e,t){f.push({pkg:e,name:t})},c._getBuddhistBundle=function(e){var a={};return i.forEach(f,function(i){var n=r.getLocalization(i.pkg,i.name,e);a=t.mixin(a,n)},this),a},c.addCustomFormats("dojo.cldr","buddhist"),c.getNames=function(e,t,i,a,r){var n,o=c._getBuddhistBundle(a),d=[e,i,t];if("standAlone"==i){var s=d.join("-");n=o[s],1==n[0]&&(n=void 0)}return d[1]="format",(n||o[d.join("-")]).concat()},c});//# sourceMappingURL=locale.js.map