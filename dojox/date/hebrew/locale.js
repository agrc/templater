//>>built
define("dojox/date/hebrew/locale",["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","./numerals","dojo/i18n!dojo/cldr/nls/hebrew"],function(e,t,a,i,r,o,d,n,l){function s(e,t,a,i,r){return r.replace(/([a-z])\1*/gi,function(i){var o,n,s=i.charAt(0),m=i.length,u=["abbr","wide","narrow"];switch(s){case"G":o=t[4>m?"eraAbbr":"eraNames"][0];break;case"y":o=a.match(/^he(?:-.+)?$/)?l.getYearHebrewLetters(e.getFullYear()):String(e.getFullYear());break;case"M":var h=e.getMonth();if(3>m)!e.isLeapYear(e.getFullYear())&&h>5&&h--,a.match(/^he(?:-.+)?$/)?o=l.getMonthHebrewLetters(h):(o=h+1,n=!0);else{var c=f.getNames("months",u[m-3],"format",a,e);o=c[h]}break;case"d":a.match(/^he(?:-.+)?$/)?o=e.getDateLocalized(a):(o=e.getDate(),n=!0);break;case"E":var y=e.getDay();if(3>m)o=y+1,n=!0;else{var v=["days","format",u[m-3]].join("-");o=t[v][y]}break;case"a":var p=e.getHours()<12?"am":"pm";o=t["dayPeriods-format-wide-"+p];break;case"h":case"H":case"K":case"k":var g=e.getHours();switch(s){case"h":o=g%12||12;break;case"H":o=g;break;case"K":o=g%12;break;case"k":o=g||24}n=!0;break;case"m":o=e.getMinutes(),n=!0;break;case"s":o=e.getSeconds(),n=!0;break;case"S":o=Math.round(e.getMilliseconds()*Math.pow(10,m-3)),n=!0;break;case"z":o="";break;default:throw new Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+r)}return n&&(o=d.pad(o,m)),o})}function m(e,t,i,r){var o=function(e){return e};t=t||o,i=i||o,r=r||o;var d=e.match(/(''|[^'])+/g),n="'"==e.charAt(0);return a.forEach(d,function(e,a){e?(d[a]=(n?i:t)(e),n=!n):d[a]=""}),r(d.join(""))}function u(e,t,a,i){i=o.escapeString(i);var d=r.normalizeLocale(a.locale);return i.replace(/([a-z])\1*/gi,function(i){var r,o=i.charAt(0),n=i.length,l="",s="";switch(a.strict?(n>1&&(l="0{"+(n-1)+"}"),n>2&&(s="0{"+(n-2)+"}")):(l="0?",s="0{0,2}"),o){case"y":r="\\S+";break;case"M":r=d.match("^he(?:-.+)?$")?n>2?"\\S+ ?\\S+":"\\S{1,4}":n>2?"\\S+ ?\\S+":l+"[1-9]|1[0-3]";break;case"d":r=d.match("^he(?:-.+)?$")?"\\S['\"'×³]{1,2}\\S?":"[12]\\d|"+l+"[1-9]|30";break;case"E":r=d.match("^he(?:-.+)?$")?n>3?"\\S+ ?\\S+":"\\S":"\\S+";break;case"h":r=l+"[1-9]|1[0-2]";break;case"k":r=l+"\\d|1[01]";break;case"H":r=l+"\\d|1\\d|2[0-3]";break;case"K":r=l+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":r=l+"\\d|[0-5]\\d";break;case"S":r="\\d{"+n+"}";break;case"a":var m=a.am||t["dayPeriods-format-wide-am"],u=a.pm||t["dayPeriods-format-wide-pm"];a.strict?r=m+"|"+u:(r=m+"|"+u,m!=m.toLowerCase()&&(r+="|"+m.toLowerCase()),u!=u.toLowerCase()&&(r+="|"+u.toLowerCase()));break;default:r=".*"}return e&&e.push(i),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var f=t.getObject("date.hebrew.locale",!0,e);r.getLocalization("dojo.cldr","hebrew"),f.format=function(e,a){a=a||{};var i=r.normalizeLocale(a.locale),o=a.formatLength||"short",d=f._getHebrewBundle(i),n=[],u=t.hitch(this,s,e,d,i,a.fullYear);if("year"==a.selector){var h=e.getFullYear();return i.match(/^he(?:-.+)?$/)?l.getYearHebrewLetters(h):h}if("time"!=a.selector){var c=a.datePattern||d["dateFormat-"+o];c&&n.push(m(c,u))}if("date"!=a.selector){var y=a.timePattern||d["timeFormat-"+o];y&&n.push(m(y,u))}var v=n.join(" ");return v},f.regexp=function(e){return f._parseInfo(e).regexp},f._parseInfo=function(e){e=e||{};var a,i=r.normalizeLocale(e.locale),o=f._getHebrewBundle(i),d=e.formatLength||"short",n=e.datePattern||o["dateFormat-"+d],l=e.timePattern||o["timeFormat-"+d];a="date"==e.selector?n:"time"==e.selector?l:void 0===l?n:n+" "+l;var s=[],h=m(a,t.hitch(this,u,s,o,e));return{regexp:h,tokens:s,bundle:o}},f.parse=function(e,t){e=e.replace(/[\u200E\u200F\u202A-\u202E]/g,""),t||(t={});var i=f._parseInfo(t),o=i.tokens,d=i.bundle,s=new RegExp("^"+i.regexp+"$"),m=s.exec(e),u=r.normalizeLocale(t.locale);if(!m)return null;var h=[5730,3,23,0,0,0,0],c="",y=0,v=["abbr","wide","narrow"],p=(a.every(m,function(e,i){if(!i)return!0;var r=o[i-1],s=r.length;switch(r.charAt(0)){case"y":u.match(/^he(?:-.+)?$/)?h[0]=l.parseYearHebrewLetters(e):h[0]=Number(e);break;case"M":if(s>2){var m=f.getNames("months",v[s-3],"format",u,new n(5769,1,1)),p=f.getNames("months",v[s-3],"format",u,new n(5768,1,1));t.strict||(e=e.replace(".","").toLowerCase(),m=a.map(m,function(e){return e?e.replace(".","").toLowerCase():e}),p=a.map(p,function(e){return e?e.replace(".","").toLowerCase():e}));var g=e;if(e=a.indexOf(m,g),-1==e&&(e=a.indexOf(p,g),-1==e))return!1;y=s}else u.match(/^he(?:-.+)?$/)?e=l.parseMonthHebrewLetters(e):e--;h[1]=Number(e);break;case"D":h[1]=0;case"d":u.match(/^he(?:-.+)?$/)?h[2]=l.parseDayHebrewLetters(e):h[2]=Number(e);break;case"a":var M=t.am||d["dayPeriods-format-wide-am"],b=t.pm||d["dayPeriods-format-wide-pm"];if(!t.strict){var w=/\./g;e=e.replace(w,"").toLowerCase(),M=M.replace(w,"").toLowerCase(),b=b.replace(w,"").toLowerCase()}if(t.strict&&e!=M&&e!=b)return!1;c=e==b?"p":e==M?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":h[3]=Number(e);break;case"m":h[4]=Number(e);break;case"s":h[5]=Number(e);break;case"S":h[6]=Number(e)}return!0}),+h[3]);"p"===c&&12>p?h[3]=p+12:"a"===c&&12==p&&(h[3]=0);var g=new n(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);return 3>y&&h[1]>=5&&!g.isLeapYear(g.getFullYear())&&g.setMonth(h[1]+1),g};var h=[];return f.addCustomFormats=function(e,t){h.push({pkg:e,name:t})},f._getHebrewBundle=function(e){var i={};return a.forEach(h,function(a){var o=r.getLocalization(a.pkg,a.name,e);i=t.mixin(i,o)},this),i},f.addCustomFormats("dojo.cldr","hebrew"),f.getNames=function(e,t,a,i,r){var o,d=f._getHebrewBundle(i),n=[e,a,t];if("standAlone"==a){var l=n.join("-");o=d[l],1==o[0]&&(o=void 0)}n[1]="format";var s=(o||d[n.join("-")]).concat();return"months"==e&&(r.isLeapYear(r.getFullYear())?(n.push("leap"),s[6]=d[n.join("-")]):delete s[5]),s},f});//# sourceMappingURL=locale.js.map