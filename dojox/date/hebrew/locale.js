//>>built
define("dojox/date/hebrew/locale",["dojox/main","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","./numerals","dojo/i18n!dojo/cldr/nls/hebrew"],function(e,t,a,i,r,n,o,d,s){function l(e,t,a,i,r){return r.replace(/([a-z])\1*/gi,function(i){var n,d,l=i.charAt(0),m=i.length,u=["abbr","wide","narrow"];switch(l){case"G":n=t[m<4?"eraAbbr":"eraNames"][0];break;case"y":n=a.match(/^he(?:-.+)?$/)?s.getYearHebrewLetters(e.getFullYear()):String(e.getFullYear());break;case"M":var f=e.getMonth();if(m<3)!e.isLeapYear(e.getFullYear())&&f>5&&f--,a.match(/^he(?:-.+)?$/)?n=s.getMonthHebrewLetters(f):(n=f+1,d=!0);else{n=h.getNames("months",u[m-3],"format",a,e)[f]}break;case"d":a.match(/^he(?:-.+)?$/)?n=e.getDateLocalized(a):(n=e.getDate(),d=!0);break;case"E":var c=e.getDay();if(m<3)n=c+1,d=!0;else{var y=["days","format",u[m-3]].join("-");n=t[y][c]}break;case"a":var v=e.getHours()<12?"am":"pm";n=t["dayPeriods-format-wide-"+v];break;case"h":case"H":case"K":case"k":var p=e.getHours();switch(l){case"h":n=p%12||12;break;case"H":n=p;break;case"K":n=p%12;break;case"k":n=p||24}d=!0;break;case"m":n=e.getMinutes(),d=!0;break;case"s":n=e.getSeconds(),d=!0;break;case"S":n=Math.round(e.getMilliseconds()*Math.pow(10,m-3)),d=!0;break;case"z":n="";break;default:throw new Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+r)}return d&&(n=o.pad(n,m)),n})}function m(e,t,i,r){var n=function(e){return e};t=t||n,i=i||n,r=r||n;var o=e.match(/(''|[^'])+/g),d="'"==e.charAt(0);return a.forEach(o,function(e,a){e?(o[a]=(d?i:t)(e),d=!d):o[a]=""}),r(o.join(""))}function u(e,t,a,i){i=n.escapeString(i);var o=r.normalizeLocale(a.locale);return i.replace(/([a-z])\1*/gi,function(i){var r,n=i.charAt(0),d=i.length,s="";switch(a.strict?(d>1&&(s="0{"+(d-1)+"}"),d>2&&"0{"+(d-2)+"}"):(s="0?","0{0,2}"),n){case"y":r="\\S+";break;case"M":r=o.match("^he(?:-.+)?$")?d>2?"\\S+ ?\\S+":"\\S{1,4}":d>2?"\\S+ ?\\S+":s+"[1-9]|1[0-3]";break;case"d":r=o.match("^he(?:-.+)?$")?"\\S['\"'×³]{1,2}\\S?":"[12]\\d|"+s+"[1-9]|30";break;case"E":r=o.match("^he(?:-.+)?$")?d>3?"\\S+ ?\\S+":"\\S":"\\S+";break;case"h":r=s+"[1-9]|1[0-2]";break;case"k":r=s+"\\d|1[01]";break;case"H":r=s+"\\d|1\\d|2[0-3]";break;case"K":r=s+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":r=s+"\\d|[0-5]\\d";break;case"S":r="\\d{"+d+"}";break;case"a":var l=a.am||t["dayPeriods-format-wide-am"],m=a.pm||t["dayPeriods-format-wide-pm"];a.strict?r=l+"|"+m:(r=l+"|"+m,l!=l.toLowerCase()&&(r+="|"+l.toLowerCase()),m!=m.toLowerCase()&&(r+="|"+m.toLowerCase()));break;default:r=".*"}return e&&e.push(i),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var h=t.getObject("date.hebrew.locale",!0,e);r.getLocalization("dojo.cldr","hebrew"),h.format=function(e,a){a=a||{};var i=r.normalizeLocale(a.locale),n=a.formatLength||"short",o=h._getHebrewBundle(i),d=[],u=t.hitch(this,l,e,o,i,a.fullYear);if("year"==a.selector){var f=e.getFullYear();return i.match(/^he(?:-.+)?$/)?s.getYearHebrewLetters(f):f}if("time"!=a.selector){var c=a.datePattern||o["dateFormat-"+n];c&&d.push(m(c,u))}if("date"!=a.selector){var y=a.timePattern||o["timeFormat-"+n];y&&d.push(m(y,u))}return d.join(" ")},h.regexp=function(e){return h._parseInfo(e).regexp},h._parseInfo=function(e){e=e||{};var a,i=r.normalizeLocale(e.locale),n=h._getHebrewBundle(i),o=e.formatLength||"short",d=e.datePattern||n["dateFormat-"+o],s=e.timePattern||n["timeFormat-"+o];a="date"==e.selector?d:"time"==e.selector?s:void 0===s?d:d+" "+s;var l=[];return{regexp:m(a,t.hitch(this,u,l,n,e)),tokens:l,bundle:n}},h.parse=function(e,t){e=e.replace(/[\u200E\u200F\u202A-\u202E]/g,""),t||(t={});var i=h._parseInfo(t),n=i.tokens,o=i.bundle,l=new RegExp("^"+i.regexp+"$"),m=l.exec(e),u=r.normalizeLocale(t.locale);if(!m)return null;var f=[5730,3,23,0,0,0,0],c="",y=0,v=["abbr","wide","narrow"],p=(a.every(m,function(e,i){if(!i)return!0;var r=n[i-1],l=r.length;switch(r.charAt(0)){case"y":u.match(/^he(?:-.+)?$/)?f[0]=s.parseYearHebrewLetters(e):f[0]=Number(e);break;case"M":if(l>2){var m=h.getNames("months",v[l-3],"format",u,new d(5769,1,1)),p=h.getNames("months",v[l-3],"format",u,new d(5768,1,1));t.strict||(e=e.replace(".","").toLowerCase(),m=a.map(m,function(e){return e?e.replace(".","").toLowerCase():e}),p=a.map(p,function(e){return e?e.replace(".","").toLowerCase():e}));var g=e;if(-1==(e=a.indexOf(m,g))&&-1==(e=a.indexOf(p,g)))return!1;y=l}else u.match(/^he(?:-.+)?$/)?e=s.parseMonthHebrewLetters(e):e--;f[1]=Number(e);break;case"D":f[1]=0;case"d":u.match(/^he(?:-.+)?$/)?f[2]=s.parseDayHebrewLetters(e):f[2]=Number(e);break;case"a":var M=t.am||o["dayPeriods-format-wide-am"],b=t.pm||o["dayPeriods-format-wide-pm"];if(!t.strict){var k=/\./g;e=e.replace(k,"").toLowerCase(),M=M.replace(k,"").toLowerCase(),b=b.replace(k,"").toLowerCase()}if(t.strict&&e!=M&&e!=b)return!1;c=e==b?"p":e==M?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":f[3]=Number(e);break;case"m":f[4]=Number(e);break;case"s":f[5]=Number(e);break;case"S":f[6]=Number(e)}return!0}),+f[3]);"p"===c&&p<12?f[3]=p+12:"a"===c&&12==p&&(f[3]=0);var g=new d(f[0],f[1],f[2],f[3],f[4],f[5],f[6]);return y<3&&f[1]>=5&&!g.isLeapYear(g.getFullYear())&&g.setMonth(f[1]+1),g};var f=[];return h.addCustomFormats=function(e,t){f.push({pkg:e,name:t})},h._getHebrewBundle=function(e){var i={};return a.forEach(f,function(a){var n=r.getLocalization(a.pkg,a.name,e);i=t.mixin(i,n)},this),i},h.addCustomFormats("dojo.cldr","hebrew"),h.getNames=function(e,t,a,i,r){var n,o=h._getHebrewBundle(i),d=[e,a,t];if("standAlone"==a){n=o[d.join("-")],1==n[0]&&(n=void 0)}d[1]="format";var s=(n||o[d.join("-")]).concat();return"months"==e&&(r.isLeapYear(r.getFullYear())?(d.push("leap"),s[6]=o[d.join("-")]):delete s[5]),s},h});//# sourceMappingURL=locale.js.map