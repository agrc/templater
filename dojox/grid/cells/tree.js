//>>built
define("dojox/grid/cells/tree",["dojo/_base/kernel","../../main","dojo/_base/lang","../cells"],function(e,t,i){return t.grid.cells.TreeCell={formatAggregate:function(e,t,i){var a=this.grid,o=(a.edit.info,a.aggregator?a.aggregator.getForCell(this,t,e,t===this.level?"cnt":this.parentCell.aggregate):this.value||this.defaultValue),n=this._defaultFormat(o,[o,t-this.level,i,this]),r=this.textDir||this.grid.textDir;return r&&this._enforceTextDirWithUcc&&(n=this._enforceTextDirWithUcc(r,n)),n},formatIndexes:function(e,t){var i=this.grid,a=i.edit.info,o=this.get?this.get(e[0],t,e):this.value||this.defaultValue;if(this.editable&&(this.alwaysEditing||a.rowIndex==e[0]&&a.cell==this))return this.formatEditing(o,e[0],e);var n=this._defaultFormat(o,[o,e[0],e,this]),r=this.textDir||this.grid.textDir;return r&&this._enforceTextDirWithUcc&&(n=this._enforceTextDirWithUcc(r,n)),n},getOpenState:function(e){var t=this.grid,i=t.store,a=null;return i.isItem(e)&&(a=e,e=i.getIdentity(e)),this.openStates||(this.openStates={}),"string"==typeof e&&e in this.openStates||(this.openStates[e]=t.getDefaultOpenState(this,a)),this.openStates[e]},formatAtLevel:function(t,a,o,n,r,s){i.isArray(t)||(t=[t]);var l="";if(o>this.level||o===this.level&&n)s.push("dojoxGridSpacerCell"),o===this.level&&s.push("dojoxGridTotalCell"),l="<span></span>";else if(o<this.level)s.push("dojoxGridSummaryCell"),l='<span class="dojoxGridSummarySpan">'+this.formatAggregate(a,o,t)+"</span>";else{var d="";if(this.isCollapsable){var u=this.grid.store,c="";u.isItem(a)&&(c=u.getIdentity(a)),s.push("dojoxGridExpandoCell"),d="<span "+e._scopeName+'Type="dojox.grid._Expando" level="'+o+'" class="dojoxGridExpando"" toggleClass="'+r+'" itemId="'+c+'" cellIdx="'+this.index+'"></span>'}l=d+this.formatIndexes(t,a)}return this.grid.focus.cell&&this.index==this.grid.focus.cell.index&&t.join("/")==this.grid.focus.rowIndex&&s.push(this.grid.focus.focusClass),l}},t.grid.cells.TreeCell});//# sourceMappingURL=tree.js.map