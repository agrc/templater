//>>built
define("dojox/grid/cells/tree",["dojo/_base/kernel","../../main","dojo/_base/lang","../cells"],function(e,t,i){return t.grid.cells.TreeCell={formatAggregate:function(e,t,i){var a=this.grid,r=(a.edit.info,a.aggregator?a.aggregator.getForCell(this,t,e,t===this.level?"cnt":this.parentCell.aggregate):this.value||this.defaultValue),o=this._defaultFormat(r,[r,t-this.level,i,this]),n=this.textDir||this.grid.textDir;return n&&this._enforceTextDirWithUcc&&(o=this._enforceTextDirWithUcc(n,o)),o},formatIndexes:function(e,t){var i=this.grid,a=i.edit.info,r=this.get?this.get(e[0],t,e):this.value||this.defaultValue;if(this.editable&&(this.alwaysEditing||a.rowIndex==e[0]&&a.cell==this))return this.formatEditing(r,e[0],e);var o=this._defaultFormat(r,[r,e[0],e,this]),n=this.textDir||this.grid.textDir;return n&&this._enforceTextDirWithUcc&&(o=this._enforceTextDirWithUcc(n,o)),o},getOpenState:function(e){var t=this.grid,i=t.store,a=null;return i.isItem(e)&&(a=e,e=i.getIdentity(e)),this.openStates||(this.openStates={}),"string"==typeof e&&e in this.openStates||(this.openStates[e]=t.getDefaultOpenState(this,a)),this.openStates[e]},formatAtLevel:function(t,a,r,o,n,d){i.isArray(t)||(t=[t]);var s="";if(r>this.level||r===this.level&&o)d.push("dojoxGridSpacerCell"),r===this.level&&d.push("dojoxGridTotalCell"),s="<span></span>";else if(r<this.level)d.push("dojoxGridSummaryCell"),s='<span class="dojoxGridSummarySpan">'+this.formatAggregate(a,r,t)+"</span>";else{var l="";if(this.isCollapsable){var u=this.grid.store,h="";u.isItem(a)&&(h=u.getIdentity(a)),d.push("dojoxGridExpandoCell"),l="<span "+e._scopeName+'Type="dojox.grid._Expando" level="'+r+'" class="dojoxGridExpando"" toggleClass="'+n+'" itemId="'+h+'" cellIdx="'+this.index+'"></span>'}s=l+this.formatIndexes(t,a)}return this.grid.focus.cell&&this.index==this.grid.focus.cell.index&&t.join("/")==this.grid.focus.rowIndex&&d.push(this.grid.focus.focusClass),s}},t.grid.cells.TreeCell});//# sourceMappingURL=tree.js.map