//>>built
define("dojox/grid/LazyTreeGridStoreModel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dijit/tree/ForestStoreModel"],function(e,t,i,a){return e("dojox.grid.LazyTreeGridStoreModel",a,{serverStore:!1,constructor:function(e){this.serverStore=!!e.serverStore},mayHaveChildren:function(e){var a=null;return t.some(this.childrenAttrs,function(t){return a=this.store.getValue(e,t),i.isString(a)?parseInt(a,10)>0||"true"===a.toLowerCase():"number"==typeof a?a>0:"boolean"==typeof a?a:!!this.store.isItem(a)&&(a=this.store.getValues(e,t),!!i.isArray(a)&&a.length>0)},this)},getChildren:function(e,t,a,r){if(r){var n=r.start||0,o=r.count,s=r.parentId,d=r.sort;if(e===this.root)this.root.size=0,this.store.fetch({start:n,count:o,sort:d,query:this.query,onBegin:i.hitch(this,function(e){this.root.size=e}),onComplete:i.hitch(this,function(e){t(e,r,this.root.size)}),onError:a});else{var l=this.store;if(!l.isItemLoaded(e)){var u=i.hitch(this,arguments.callee);return void l.loadItem({item:e,onItem:function(e){u(e,t,a,r)},onError:a})}this.serverStore&&!this._isChildrenLoaded(e)?(this.childrenSize=0,this.store.fetch({start:n,count:o,sort:d,query:i.mixin({parentId:s},this.query||{}),onBegin:i.hitch(this,function(e){this.childrenSize=e}),onComplete:i.hitch(this,function(e){t(e,r,this.childrenSize)}),onError:a})):this.inherited(arguments)}}else this.inherited(arguments)},_isChildrenLoaded:function(e){var i=null;return t.every(this.childrenAttrs,function(a){return i=this.store.getValues(e,a),t.every(i,function(e){return this.store.isItemLoaded(e)},this)},this)},onNewItem:function(e,t){},onDeleteItem:function(e){}})});//# sourceMappingURL=LazyTreeGridStoreModel.js.map