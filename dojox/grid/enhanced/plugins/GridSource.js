//>>built
define("dojox/grid/enhanced/plugins/GridSource",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dnd/Source","./DnD"],function(e,t,i,r,a){var o=function(e){for(var t=e[0],i=1;i<e.length;++i)t=t.concat(e[i]);return t},n=i.getObject("dojox.grid.enhanced.plugins.GridDnDSource");return e("dojox.grid.enhanced.plugins.GridSource",r,{accept:["grid/cells","grid/rows","grid/cols","text"],insertNodesForGrid:!1,markupFactory:function(e,t){return cls=i.getObject("dojox.grid.enhanced.plugins.GridSource"),new cls(t,e)},checkAcceptance:function(e,i){if(e instanceof n){if(i[0]){var r=e.getItem(i[0].id);if(r&&(t.indexOf(r.type,"grid/rows")>=0||t.indexOf(r.type,"grid/cells")>=0)&&!e.dndPlugin._allDnDItemsLoaded())return!1}this.sourcePlugin=e.dndPlugin}return this.inherited(arguments)},onDraggingOver:function(){this.sourcePlugin&&(this.sourcePlugin._isSource=!0)},onDraggingOut:function(){this.sourcePlugin&&(this.sourcePlugin._isSource=!1)},onDropExternal:function(e,i,r){if(e instanceof n){var a,s=t.map(i,function(t){return e.getItem(t.id).data}),d=e.getItem(i[0].id),l=d.dndPlugin.grid,u=d.type[0];try{switch(u){case"grid/cells":i[0].innerHTML=this.getCellContent(l,s[0].min,s[0].max)||"",this.onDropGridCells(l,s[0].min,s[0].max);break;case"grid/rows":a=o(s),i[0].innerHTML=this.getRowContent(l,a)||"",this.onDropGridRows(l,a);break;case"grid/cols":a=o(s),i[0].innerHTML=this.getColumnContent(l,a)||"",this.onDropGridColumns(l,a)}this.insertNodesForGrid&&(this.selectNone(),this.insertNodes(!0,[i[0]],this.before,this.current)),d.dndPlugin.onDragOut(!r)}catch(c){}}else this.inherited(arguments)},getCellContent:function(e,t,i){},getRowContent:function(e,t){},getColumnContent:function(e,t){},onDropGridCells:function(e,t,i){},onDropGridRows:function(e,t){},onDropGridColumns:function(e,t){}})});//# sourceMappingURL=GridSource.js.map