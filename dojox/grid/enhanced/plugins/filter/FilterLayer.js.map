{"version":3,"sources":["FilterLayer.js.uncompressed.js"],"names":["define","declare","lang","kernel","json","layers","cmdSetFilter","cmdClearFilter","hitchIfCan","scope","func","hitch","global","shallowClone","obj","res","isObject","name","_FilterLayerMixin","tags","onFilterDefined","filter","onFiltered","filteredSize","totalSize","ServerSideFilterLayer","_ServerSideLayer","constructor","args","this","_onUserCommandLoad","setupFilterQuery","filterDef","_filter","toObject","command","_isStateful","toJson","useCommands","onCommandLoad","responce","userRequest","inherited","arguments","oldOnBegin","onBegin","sizes","split","length","_filteredSize","parseInt","enabled","size","req","_this","_storeSize","ClientSideFilterLayer","_StoreLayer","_fetchAll","fetchAllOnFirstFilter","fetchAll","_getter","isFunction","getter","_defaultGetter","datarow","colName","rowIndex","store","getValue","undefined","invalidate","setGetter","toFetchAll","_items","_nextUnfetchedIdx","_result","_indexMap","_resultStartIdx","_fetch","filterRequest","old_onbegin","r","originFetch","start","_nextResultItemIdx","sortStr","isArray","sort","_lastSortInfo","end","count","concat","slice","_hasReachedStoreEnd","_completeQuery","_onFetchBegin","onComplete","items","_doFilter","e","onError","_applyFilter","g","s","_store","applyRow","item","arg","startIdx","i","cnt","onItem","_addCachedItems","push","filterStartIdx","k","onRowMappingChange","mapping","m","clone","alreadyUpdated","mixin"],"mappings":";AAAAA,OAAO,kDACN,qBACA,kBACA,oBACA,kBACA,kBACE,SAASC,EAASC,EAAMC,EAAQC,EAAMC,GAExC,GAAIC,GAAe,SAClBC,EAAiB,QACjBC,EAAa,SAASC,EAAOC,GAC5B,MAAOA,GAAOR,EAAKS,MAAMF,GAASN,EAAOS,OAAQF,GAAQ,cAE1DG,EAAe,SAASC,GACvB,GAAIC,KACJ,IAAGD,GAAOZ,EAAKc,SAASF,GACvB,IAAI,GAAIG,KAAQH,GACfC,EAAIE,GAAQH,EAAIG,EAGlB,OAAOF,IAELG,EAAoBjB,EAAQ,uDAAwD,MAkBvFkB,MAAO,cACPF,KAAM,WAGL,MAAO,UAERG,gBAAiB,SAASC,KAE1BC,WAAY,SAASC,EAAcC,OAWhCC,EAAwBxB,EAAQ,4DAA6DI,EAAOqB,iBAAkBR,IACzHS,YAAa,SAASC,GACrBC,KAAKC,mBAAqBF,EAAKG,kBAAoBF,KAAKC,mBACxDD,KAAKG,UAAU,OAEhBA,UAAW,SAAqCX,GAG/C,GAAGA,EAAO,CACTQ,KAAKI,QAAUZ,CACf,IAAIP,GAAMO,EAAOa,UAEjBL,MAAKM,QAAQ7B,EAAcuB,KAAKO,YAAchC,EAAKiC,OAAOvB,GAAOA,GACjEe,KAAKM,QAAQ5B,EAAgB,MAC7BsB,KAAKS,aAAY,GACjBT,KAAKT,gBAAgBC,OACF,QAAXA,IACRQ,KAAKI,QAAU,KACfJ,KAAKM,QAAQ7B,EAAc,MAC3BuB,KAAKM,QAAQ5B,GAAgB,GAC7BsB,KAAKS,aAAY,GACjBT,KAAKT,gBAAgB,MAEtB,OAAOS,MAAKI,SAEbM,cAAe,SAAyBC,EAAoCC,GAG3EZ,KAAKa,UAAUC,UACf,IAAIC,GAAaH,EAAYI,OAC7B,IAAGhB,KAAKO,YAAY,CACnB,GAAIb,EACJ,IAAGiB,EAAS,CACXX,KAAKM,QAAQ7B,EAAc,MAC3BuB,KAAKM,QAAQ5B,EAAgB,MAC7BsB,KAAKS,aAAY,EACjB,IAAIQ,GAAQN,EAASO,MAAM,IAC3B,MAAGD,EAAME,QAAU,GAKlB,MAJAzB,GAAeM,KAAKoB,cAAgBC,SAASJ,EAAM,GAAI,IACvDjB,KAAKP,WAAWC,EAAc2B,SAASJ,EAAM,GAAI,SAMlDvB,GAAeM,KAAKoB,aAElBpB,MAAKsB,YACPV,EAAYI,QAAU,SAASO,EAAMC,GACpC7C,EAAWiC,EAAYhC,MAAOmC,GAAYrB,EAAc8B,SAGtD,CACJ,GAAIC,GAAQzB,IACZY,GAAYI,QAAU,SAASO,EAAMC,GAChCC,EAAMrB,UACTqB,EAAMC,WAAaH,GAEpBE,EAAMhC,WAAW8B,EAAME,EAAMC,YAAcH,GAC3CC,EAAIR,QAAUD,EACdpC,EAAWiC,EAAYhC,MAAOmC,GAAYQ,EAAMC,QAKhDG,EAAwBvD,EAAQ,4DAA6DI,EAAOoD,YAAavC,IA+BpHqC,YAAa,EAKbG,WAAW,EAEX/B,YAAa,SAASC,GACrBC,KAAKG,UAAU,MACfJ,EAAO1B,EAAKc,SAASY,GAAQA,KAC7BC,KAAK8B,sBAAsB/B,EAAKgC,UAChC/B,KAAKgC,QAAU3D,EAAK4D,WAAWlC,EAAKmC,QAAUnC,EAAKmC,OAASlC,KAAKmC,gBAElEA,eAAgB,SAASC,EAASC,EAASC,EAAUC,GACpD,MAAOA,GAAMC,SAASJ,EAASC,IAEhClC,UAAW,SAAqCX,GAQ/C,WALciD,KAAXjD,IACFQ,KAAKI,QAAUZ,EACfQ,KAAK0C,aACL1C,KAAKT,gBAAgBC,IAEfQ,KAAKI,SAEbuC,UAAW,SAAuBT,GAM9B7D,EAAK4D,WAAWC,KAClBlC,KAAKgC,QAAUE,IAGjBJ,sBAAuB,SAAoBc,GAY1C,WAHkBH,KAAfG,IACF5C,KAAK6B,YAAce,GAEb5C,KAAK6B,WAEba,WAAY,WAKX1C,KAAK6C,UACL7C,KAAK8C,kBAAoB,EACzB9C,KAAK+C,WACL/C,KAAKgD,aACLhD,KAAKiD,gBAAkB,GAGxBC,OAAQ,SAAStC,EAAYuC,GAU5B,IAAInD,KAAKI,QAAQ,CAEhB,GAAIgD,GAAcxC,EAAYI,QAASS,EAAQzB,IAM/C,OALAY,GAAYI,QAAU,SAASO,EAAM8B,GACpC1E,EAAWiC,EAAYhC,MAAOwE,GAAa7B,EAAM8B,GACjD5B,EAAMhC,WAAW8B,EAAMA,IAExBvB,KAAKsD,YAAY1C,GACVA,EAER,IAGC,GAAI2C,GAAQJ,EAAgBA,EAAcK,mBAAqB5C,EAAY2C,KAE3E,IADAA,EAAQA,GAAS,GACbJ,EAAc,CAEjBnD,KAAK+C,WACL/C,KAAKiD,gBAAkBM,CACvB,IAAIE,EACDpF,GAAKqF,QAAQ9C,EAAY+C,OAAS/C,EAAY+C,KAAKxC,OAAS,IAE7DsC,EAAUlF,EAAKiC,OAAOI,EAAY+C,QAAU3D,KAAK4D,gBAElD5D,KAAK0C,aACL1C,KAAK4D,cAAgBH,GAIvB,GAAII,GAAkC,gBAArBjD,GAAYkD,MAC5BP,EAAQ3C,EAAYkD,MAAQ9D,KAAK+C,QAAQ5B,OAASnB,KAAK6C,OAAO1B,MAG5DnB,MAAK+C,QAAQ5B,OACfnB,KAAK+C,QAAU/C,KAAK+C,QAAQgB,OAAO/D,KAAK6C,OAAOmB,MAAMT,EAAOM,IAE5D7D,KAAK+C,QAAU/C,KAAK6C,OAAOmB,MAAMpD,EAAY2C,MAAmC,gBAArB3C,GAAYkD,MACtElD,EAAY2C,MAAQ3C,EAAYkD,MAAQ9D,KAAK6C,OAAO1B,QAEnDnB,KAAK+C,QAAQ5B,QAAUP,EAAYkD,OAAS9D,KAAKiE,sBAEnDjE,KAAKkE,eAAetD,IAGhBuC,IAEHA,EAAgBnE,EAAa4B,GAE7BuC,EAAcnC,QAAU3C,EAAKS,MAAMkB,KAAMA,KAAKmE,eAC9ChB,EAAciB,WAAa/F,EAAKS,MAAMkB,KAAM,SAASqE,EAAO7C,GAE3DxB,KAAK8C,mBAAqBuB,EAAMlD,OAGhCnB,KAAKsE,UAAUD,EAAO7C,EAAI+B,MAAO3C,GAEjCZ,KAAKkD,OAAOtC,EAAaY,MAI3B2B,EAAcI,MAAQvD,KAAK8C,kBAExB9C,KAAK6B,iBACAsB,GAAcW,MAGtBX,EAAcK,mBAAqBK,EAAM7D,KAAK6C,OAAO1B,OAAS0C,EAAM7D,KAAK6C,OAAO1B,OAEhFnB,KAAKsD,YAAYH,IAElB,MAAMoB,GACN,IAAG3D,EAAY4D,QAGd,KAAMD,EAFN5F,GAAWiC,EAAYhC,MAAOgC,EAAY4D,SAASD,EAAG3D,GAKxD,MAAOA,IAERqD,oBAAqB,WAKpB,MAAOjE,MAAK0B,YAAc,GAAK1B,KAAK8C,mBAAqB9C,KAAK0B,YAE/D+C,aAAc,SAAwBrC,EAAqBE,GAO1D,GAAIoC,GAAI1E,KAAKgC,QAAS2C,EAAI3E,KAAK4E,MAC/B,KACC,QAAU5E,KAAKI,QAAQyE,SAASzC,EAAS,SAAS0C,EAAMC,GACvD,MAAOL,GAAEI,EAAMC,EAAKzC,EAAUqC,KAC5BnC,WACH,MAAM+B,GAEN,OAAO,IAGTD,UAAW,SAAoBD,EAAmBW,EAAqBpE,GAMtE,IAAI,GAAIqE,GAAI,EAAGC,EAAM,EAAGD,EAAIZ,EAAMlD,SAAU8D,EACxCjF,KAAKyE,aAAaJ,EAAMY,GAAID,EAAWC,KACzCtG,EAAWiC,EAAYhC,MAAOgC,EAAYuE,QAAQd,EAAMY,GAAIrE,GAC5DsE,GAAOlF,KAAKoF,gBAAgBf,EAAMY,GAAIjF,KAAK6C,OAAO1B,QAClDnB,KAAKgD,UAAUqC,KAAKL,EAAWC,KAIlCd,cAAe,SAAsB5C,EAAyBC,GAK7DxB,KAAK0B,WAAaH,GAEnB2C,eAAgB,SAA6BtD,GAM5C,GAAIW,GAAOvB,KAAK6C,OAAO1B,MACpBnB,MAAK8C,kBAAoB9C,KAAK0B,YAIhCH,IAED5C,EAAWiC,EAAYhC,MAAOgC,EAAYI,SAASO,EAAKX,GACxDZ,KAAKP,WAAWO,KAAK6C,OAAO1B,OAAQnB,KAAK0B,YACzC/C,EAAWiC,EAAYhC,MAAOgC,EAAYwD,YAAYpE,KAAK+C,QAASnC,IAErEwE,gBAAiB,SAAoBf,EAAmBiB,GASnDjH,EAAKqF,QAAQW,KAChBA,GAASA,GAEV,KAAI,GAAIkB,GAAI,EAAGA,EAAIlB,EAAMlD,SAAUoE,EAClCvF,KAAK6C,OAAOyC,EAAiBC,GAAKlB,EAAMkB,EAEzC,OAAOlB,GAAMlD,QAEdqE,mBAAoB,SAASC,GAE5B,GAAGzF,KAAKI,QAAQ,CACf,GAAIsF,GAAIrH,EAAKsH,MAAMF,GAClBG,IACD,KAAI,GAAIvC,KAAKqC,GACZrC,EAAIhC,SAASgC,EAAG,IAChBoC,EAAQzF,KAAKgD,UAAUK,IAAMrD,KAAKgD,UAAU0C,EAAErC,IAC1CuC,EAAe5F,KAAKgD,UAAUK,MACjCuC,EAAe5F,KAAKgD,UAAUK,KAAM,GAEjCuC,EAAevC,KAClBuC,EAAevC,IAAK,QACboC,GAAQpC,OAOpB,OAAOhF,GAAKwH,OACXjG,sBAAuBA,EACvB+B,sBAAuBA,GACrBnD","file":"FilterLayer.js.uncompressed.js"}