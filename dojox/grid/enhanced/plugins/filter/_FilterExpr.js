//>>built
define("dojox/grid/enhanced/plugins/filter/_FilterExpr",["dojo/_base/declare","dojo/_base/lang","dojo/date","./_DataExprs"],function(e,t,a,i){function n(e,t,n,r){e=e.applyRow(n,r),t=t.applyRow(n,r);var o=e.getValue(),s=t.getValue();return e instanceof i.TimeExpr?a.compare(o,s,"time"):e instanceof i.DateExpr?a.compare(o,s,"date"):(e instanceof i.StringExpr&&(o=o.toLowerCase(),s=String(s).toLowerCase()),o==s?0:s>o?-1:1)}var r=e("dojox.grid.enhanced.plugins.filter.LogicAND",i._BiOpExpr,{_name:"and",_calculate:function(e,t,a,n){var r=e.applyRow(a,n).getValue()&&t.applyRow(a,n).getValue();return new i.BooleanExpr(r)}}),o=e("dojox.grid.enhanced.plugins.filter.LogicOR",i._BiOpExpr,{_name:"or",_calculate:function(e,t,a,n){var r=e.applyRow(a,n).getValue()||t.applyRow(a,n).getValue();return new i.BooleanExpr(r)}}),s=e("dojox.grid.enhanced.plugins.filter.LogicXOR",i._BiOpExpr,{_name:"xor",_calculate:function(e,t,a,n){var r=e.applyRow(a,n).getValue(),o=t.applyRow(a,n).getValue();return new i.BooleanExpr(!!r!=!!o)}}),d=e("dojox.grid.enhanced.plugins.filter.LogicNOT",i._UniOpExpr,{_name:"not",_calculate:function(e,t,a){return new i.BooleanExpr(!e.applyRow(t,a).getValue())}}),l=e("dojox.grid.enhanced.plugins.filter.LogicALL",i._OperatorExpr,{_name:"all",applyRow:function(e,t){for(var a=0,n=!0;n&&this._operands[a]instanceof i._ConditionExpr;++a)n=this._operands[a].applyRow(e,t).getValue();return new i.BooleanExpr(n)}}),u=e("dojox.grid.enhanced.plugins.filter.LogicANY",i._OperatorExpr,{_name:"any",applyRow:function(e,t){for(var a=0,n=!1;!n&&this._operands[a]instanceof i._ConditionExpr;++a)n=this._operands[a].applyRow(e,t).getValue();return new i.BooleanExpr(n)}}),h=e("dojox.grid.enhanced.plugins.filter.EqualTo",i._BiOpExpr,{_name:"equal",_calculate:function(e,t,a,r){var o=n(e,t,a,r);return new i.BooleanExpr(0===o)}}),c=e("dojox.grid.enhanced.plugins.filter.LessThan",i._BiOpExpr,{_name:"less",_calculate:function(e,t,a,r){var o=n(e,t,a,r);return new i.BooleanExpr(0>o)}}),m=e("dojox.grid.enhanced.plugins.filter.LessThanOrEqualTo",i._BiOpExpr,{_name:"lessEqual",_calculate:function(e,t,a,r){var o=n(e,t,a,r);return new i.BooleanExpr(0>=o)}}),f=e("dojox.grid.enhanced.plugins.filter.LargerThan",i._BiOpExpr,{_name:"larger",_calculate:function(e,t,a,r){var o=n(e,t,a,r);return new i.BooleanExpr(o>0)}}),g=e("dojox.grid.enhanced.plugins.filter.LargerThanOrEqualTo",i._BiOpExpr,{_name:"largerEqual",_calculate:function(e,t,a,r){var o=n(e,t,a,r);return new i.BooleanExpr(o>=0)}}),p=e("dojox.grid.enhanced.plugins.filter.Contains",i._BiOpExpr,{_name:"contains",_calculate:function(e,t,a,n){var r=String(e.applyRow(a,n).getValue()).toLowerCase(),o=String(t.applyRow(a,n).getValue()).toLowerCase();return new i.BooleanExpr(r.indexOf(o)>=0)}}),y=e("dojox.grid.enhanced.plugins.filter.StartsWith",i._BiOpExpr,{_name:"startsWith",_calculate:function(e,t,a,n){var r=String(e.applyRow(a,n).getValue()).toLowerCase(),o=String(t.applyRow(a,n).getValue()).toLowerCase();return new i.BooleanExpr(r.substring(0,o.length)==o)}}),v=e("dojox.grid.enhanced.plugins.filter.EndsWith",i._BiOpExpr,{_name:"endsWith",_calculate:function(e,t,a,n){var r=String(e.applyRow(a,n).getValue()).toLowerCase(),o=String(t.applyRow(a,n).getValue()).toLowerCase();return new i.BooleanExpr(r.substring(r.length-o.length)==o)}}),b=e("dojox.grid.enhanced.plugins.filter.Matches",i._BiOpExpr,{_name:"matches",_calculate:function(e,t,a,n){var r=String(e.applyRow(a,n).getValue()),o=new RegExp(t.applyRow(a,n).getValue());return new i.BooleanExpr(r.search(o)>=0)}}),k=e("dojox.grid.enhanced.plugins.filter.IsEmpty",i._UniOpExpr,{_name:"isEmpty",_calculate:function(e,t,a){var n=e.applyRow(t,a).getValue();return new i.BooleanExpr(""===n||null==n)}});return t.mixin({LogicAND:r,LogicOR:o,LogicXOR:s,LogicNOT:d,LogicALL:l,LogicANY:u,EqualTo:h,LessThan:c,LessThanOrEqualTo:m,LargerThan:f,LargerThanOrEqualTo:g,Contains:p,StartsWith:y,EndsWith:v,Matches:b,IsEmpty:k},i)});//# sourceMappingURL=_FilterExpr.js.map