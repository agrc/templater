//>>built
define("dojox/grid/enhanced/plugins/filter/_FilterExpr",["dojo/_base/declare","dojo/_base/lang","dojo/date","./_DataExprs"],function(e,t,i,a){function o(e,t,o,n){e=e.applyRow(o,n),t=t.applyRow(o,n);var r=e.getValue(),s=t.getValue();return e instanceof a.TimeExpr?i.compare(r,s,"time"):e instanceof a.DateExpr?i.compare(r,s,"date"):(e instanceof a.StringExpr&&(r=r.toLowerCase(),s=String(s).toLowerCase()),r==s?0:s>r?-1:1)}var n=e("dojox.grid.enhanced.plugins.filter.LogicAND",a._BiOpExpr,{_name:"and",_calculate:function(e,t,i,o){var n=e.applyRow(i,o).getValue()&&t.applyRow(i,o).getValue();return new a.BooleanExpr(n)}}),r=e("dojox.grid.enhanced.plugins.filter.LogicOR",a._BiOpExpr,{_name:"or",_calculate:function(e,t,i,o){var n=e.applyRow(i,o).getValue()||t.applyRow(i,o).getValue();return new a.BooleanExpr(n)}}),s=e("dojox.grid.enhanced.plugins.filter.LogicXOR",a._BiOpExpr,{_name:"xor",_calculate:function(e,t,i,o){var n=e.applyRow(i,o).getValue(),r=t.applyRow(i,o).getValue();return new a.BooleanExpr(!!n!=!!r)}}),d=e("dojox.grid.enhanced.plugins.filter.LogicNOT",a._UniOpExpr,{_name:"not",_calculate:function(e,t,i){return new a.BooleanExpr(!e.applyRow(t,i).getValue())}}),l=e("dojox.grid.enhanced.plugins.filter.LogicALL",a._OperatorExpr,{_name:"all",applyRow:function(e,t){for(var i=0,o=!0;o&&this._operands[i]instanceof a._ConditionExpr;++i)o=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(o)}}),u=e("dojox.grid.enhanced.plugins.filter.LogicANY",a._OperatorExpr,{_name:"any",applyRow:function(e,t){for(var i=0,o=!1;!o&&this._operands[i]instanceof a._ConditionExpr;++i)o=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(o)}}),h=e("dojox.grid.enhanced.plugins.filter.EqualTo",a._BiOpExpr,{_name:"equal",_calculate:function(e,t,i,n){var r=o(e,t,i,n);return new a.BooleanExpr(0===r)}}),c=e("dojox.grid.enhanced.plugins.filter.LessThan",a._BiOpExpr,{_name:"less",_calculate:function(e,t,i,n){var r=o(e,t,i,n);return new a.BooleanExpr(0>r)}}),m=e("dojox.grid.enhanced.plugins.filter.LessThanOrEqualTo",a._BiOpExpr,{_name:"lessEqual",_calculate:function(e,t,i,n){var r=o(e,t,i,n);return new a.BooleanExpr(0>=r)}}),f=e("dojox.grid.enhanced.plugins.filter.LargerThan",a._BiOpExpr,{_name:"larger",_calculate:function(e,t,i,n){var r=o(e,t,i,n);return new a.BooleanExpr(r>0)}}),g=e("dojox.grid.enhanced.plugins.filter.LargerThanOrEqualTo",a._BiOpExpr,{_name:"largerEqual",_calculate:function(e,t,i,n){var r=o(e,t,i,n);return new a.BooleanExpr(r>=0)}}),p=e("dojox.grid.enhanced.plugins.filter.Contains",a._BiOpExpr,{_name:"contains",_calculate:function(e,t,i,o){var n=String(e.applyRow(i,o).getValue()).toLowerCase(),r=String(t.applyRow(i,o).getValue()).toLowerCase();return new a.BooleanExpr(n.indexOf(r)>=0)}}),y=e("dojox.grid.enhanced.plugins.filter.StartsWith",a._BiOpExpr,{_name:"startsWith",_calculate:function(e,t,i,o){var n=String(e.applyRow(i,o).getValue()).toLowerCase(),r=String(t.applyRow(i,o).getValue()).toLowerCase();return new a.BooleanExpr(n.substring(0,r.length)==r)}}),v=e("dojox.grid.enhanced.plugins.filter.EndsWith",a._BiOpExpr,{_name:"endsWith",_calculate:function(e,t,i,o){var n=String(e.applyRow(i,o).getValue()).toLowerCase(),r=String(t.applyRow(i,o).getValue()).toLowerCase();return new a.BooleanExpr(n.substring(n.length-r.length)==r)}}),b=e("dojox.grid.enhanced.plugins.filter.Matches",a._BiOpExpr,{_name:"matches",_calculate:function(e,t,i,o){var n=String(e.applyRow(i,o).getValue()),r=new RegExp(t.applyRow(i,o).getValue());return new a.BooleanExpr(n.search(r)>=0)}}),M=e("dojox.grid.enhanced.plugins.filter.IsEmpty",a._UniOpExpr,{_name:"isEmpty",_calculate:function(e,t,i){var o=e.applyRow(t,i).getValue();return new a.BooleanExpr(""===o||null==o)}});return t.mixin({LogicAND:n,LogicOR:r,LogicXOR:s,LogicNOT:d,LogicALL:l,LogicANY:u,EqualTo:h,LessThan:c,LessThanOrEqualTo:m,LargerThan:f,LargerThanOrEqualTo:g,Contains:p,StartsWith:y,EndsWith:v,Matches:b,IsEmpty:M},a)});//# sourceMappingURL=_FilterExpr.js.map