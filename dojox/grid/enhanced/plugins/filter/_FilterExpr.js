//>>built
define("dojox/grid/enhanced/plugins/filter/_FilterExpr",["dojo/_base/declare","dojo/_base/lang","dojo/date","./_DataExprs"],function(e,t,i,a){function r(e,t,r,o){e=e.applyRow(r,o),t=t.applyRow(r,o);var n=e.getValue(),s=t.getValue();return e instanceof a.TimeExpr?i.compare(n,s,"time"):e instanceof a.DateExpr?i.compare(n,s,"date"):(e instanceof a.StringExpr&&(n=n.toLowerCase(),s=String(s).toLowerCase()),n==s?0:s>n?-1:1)}var o=e("dojox.grid.enhanced.plugins.filter.LogicAND",a._BiOpExpr,{_name:"and",_calculate:function(e,t,i,r){var o=e.applyRow(i,r).getValue()&&t.applyRow(i,r).getValue();return new a.BooleanExpr(o)}}),n=e("dojox.grid.enhanced.plugins.filter.LogicOR",a._BiOpExpr,{_name:"or",_calculate:function(e,t,i,r){var o=e.applyRow(i,r).getValue()||t.applyRow(i,r).getValue();return new a.BooleanExpr(o)}}),s=e("dojox.grid.enhanced.plugins.filter.LogicXOR",a._BiOpExpr,{_name:"xor",_calculate:function(e,t,i,r){var o=e.applyRow(i,r).getValue(),n=t.applyRow(i,r).getValue();return new a.BooleanExpr(!!o!=!!n)}}),d=e("dojox.grid.enhanced.plugins.filter.LogicNOT",a._UniOpExpr,{_name:"not",_calculate:function(e,t,i){return new a.BooleanExpr(!e.applyRow(t,i).getValue())}}),l=e("dojox.grid.enhanced.plugins.filter.LogicALL",a._OperatorExpr,{_name:"all",applyRow:function(e,t){for(var i=0,r=!0;r&&this._operands[i]instanceof a._ConditionExpr;++i)r=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(r)}}),h=e("dojox.grid.enhanced.plugins.filter.LogicANY",a._OperatorExpr,{_name:"any",applyRow:function(e,t){for(var i=0,r=!1;!r&&this._operands[i]instanceof a._ConditionExpr;++i)r=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(r)}}),u=e("dojox.grid.enhanced.plugins.filter.EqualTo",a._BiOpExpr,{_name:"equal",_calculate:function(e,t,i,o){var n=r(e,t,i,o);return new a.BooleanExpr(0===n)}}),c=e("dojox.grid.enhanced.plugins.filter.LessThan",a._BiOpExpr,{_name:"less",_calculate:function(e,t,i,o){var n=r(e,t,i,o);return new a.BooleanExpr(0>n)}}),m=e("dojox.grid.enhanced.plugins.filter.LessThanOrEqualTo",a._BiOpExpr,{_name:"lessEqual",_calculate:function(e,t,i,o){var n=r(e,t,i,o);return new a.BooleanExpr(0>=n)}}),f=e("dojox.grid.enhanced.plugins.filter.LargerThan",a._BiOpExpr,{_name:"larger",_calculate:function(e,t,i,o){var n=r(e,t,i,o);return new a.BooleanExpr(n>0)}}),g=e("dojox.grid.enhanced.plugins.filter.LargerThanOrEqualTo",a._BiOpExpr,{_name:"largerEqual",_calculate:function(e,t,i,o){var n=r(e,t,i,o);return new a.BooleanExpr(n>=0)}}),p=e("dojox.grid.enhanced.plugins.filter.Contains",a._BiOpExpr,{_name:"contains",_calculate:function(e,t,i,r){var o=String(e.applyRow(i,r).getValue()).toLowerCase(),n=String(t.applyRow(i,r).getValue()).toLowerCase();return new a.BooleanExpr(o.indexOf(n)>=0)}}),y=e("dojox.grid.enhanced.plugins.filter.StartsWith",a._BiOpExpr,{_name:"startsWith",_calculate:function(e,t,i,r){var o=String(e.applyRow(i,r).getValue()).toLowerCase(),n=String(t.applyRow(i,r).getValue()).toLowerCase();return new a.BooleanExpr(o.substring(0,n.length)==n)}}),v=e("dojox.grid.enhanced.plugins.filter.EndsWith",a._BiOpExpr,{_name:"endsWith",_calculate:function(e,t,i,r){var o=String(e.applyRow(i,r).getValue()).toLowerCase(),n=String(t.applyRow(i,r).getValue()).toLowerCase();return new a.BooleanExpr(o.substring(o.length-n.length)==n)}}),b=e("dojox.grid.enhanced.plugins.filter.Matches",a._BiOpExpr,{_name:"matches",_calculate:function(e,t,i,r){var o=String(e.applyRow(i,r).getValue()),n=new RegExp(t.applyRow(i,r).getValue());return new a.BooleanExpr(o.search(n)>=0)}}),_=e("dojox.grid.enhanced.plugins.filter.IsEmpty",a._UniOpExpr,{_name:"isEmpty",_calculate:function(e,t,i){var r=e.applyRow(t,i).getValue();return new a.BooleanExpr(""===r||null==r)}});return t.mixin({LogicAND:o,LogicOR:n,LogicXOR:s,LogicNOT:d,LogicALL:l,LogicANY:h,EqualTo:u,LessThan:c,LessThanOrEqualTo:m,LargerThan:f,LargerThanOrEqualTo:g,Contains:p,StartsWith:y,EndsWith:v,Matches:b,IsEmpty:_},a)});//# sourceMappingURL=_FilterExpr.js.map