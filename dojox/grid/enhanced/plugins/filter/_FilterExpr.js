//>>built
define("dojox/grid/enhanced/plugins/filter/_FilterExpr",["dojo/_base/declare","dojo/_base/lang","dojo/date","./_DataExprs"],function(e,t,i,a){function n(e,t,n,r){e=e.applyRow(n,r),t=t.applyRow(n,r);var o=e.getValue(),s=t.getValue();return e instanceof a.TimeExpr?i.compare(o,s,"time"):e instanceof a.DateExpr?i.compare(o,s,"date"):(e instanceof a.StringExpr&&(o=o.toLowerCase(),s=String(s).toLowerCase()),o==s?0:s>o?-1:1)}var r=e("dojox.grid.enhanced.plugins.filter.LogicAND",a._BiOpExpr,{_name:"and",_calculate:function(e,t,i,n){var r=e.applyRow(i,n).getValue()&&t.applyRow(i,n).getValue();return new a.BooleanExpr(r)}}),o=e("dojox.grid.enhanced.plugins.filter.LogicOR",a._BiOpExpr,{_name:"or",_calculate:function(e,t,i,n){var r=e.applyRow(i,n).getValue()||t.applyRow(i,n).getValue();return new a.BooleanExpr(r)}}),s=e("dojox.grid.enhanced.plugins.filter.LogicXOR",a._BiOpExpr,{_name:"xor",_calculate:function(e,t,i,n){var r=e.applyRow(i,n).getValue(),o=t.applyRow(i,n).getValue();return new a.BooleanExpr(!!r!=!!o)}}),d=e("dojox.grid.enhanced.plugins.filter.LogicNOT",a._UniOpExpr,{_name:"not",_calculate:function(e,t,i){return new a.BooleanExpr(!e.applyRow(t,i).getValue())}}),l=e("dojox.grid.enhanced.plugins.filter.LogicALL",a._OperatorExpr,{_name:"all",applyRow:function(e,t){for(var i=0,n=!0;n&&this._operands[i]instanceof a._ConditionExpr;++i)n=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(n)}}),h=e("dojox.grid.enhanced.plugins.filter.LogicANY",a._OperatorExpr,{_name:"any",applyRow:function(e,t){for(var i=0,n=!1;!n&&this._operands[i]instanceof a._ConditionExpr;++i)n=this._operands[i].applyRow(e,t).getValue();return new a.BooleanExpr(n)}}),u=e("dojox.grid.enhanced.plugins.filter.EqualTo",a._BiOpExpr,{_name:"equal",_calculate:function(e,t,i,r){var o=n(e,t,i,r);return new a.BooleanExpr(0===o)}}),c=e("dojox.grid.enhanced.plugins.filter.LessThan",a._BiOpExpr,{_name:"less",_calculate:function(e,t,i,r){var o=n(e,t,i,r);return new a.BooleanExpr(0>o)}}),m=e("dojox.grid.enhanced.plugins.filter.LessThanOrEqualTo",a._BiOpExpr,{_name:"lessEqual",_calculate:function(e,t,i,r){var o=n(e,t,i,r);return new a.BooleanExpr(0>=o)}}),f=e("dojox.grid.enhanced.plugins.filter.LargerThan",a._BiOpExpr,{_name:"larger",_calculate:function(e,t,i,r){var o=n(e,t,i,r);return new a.BooleanExpr(o>0)}}),g=e("dojox.grid.enhanced.plugins.filter.LargerThanOrEqualTo",a._BiOpExpr,{_name:"largerEqual",_calculate:function(e,t,i,r){var o=n(e,t,i,r);return new a.BooleanExpr(o>=0)}}),p=e("dojox.grid.enhanced.plugins.filter.Contains",a._BiOpExpr,{_name:"contains",_calculate:function(e,t,i,n){var r=String(e.applyRow(i,n).getValue()).toLowerCase(),o=String(t.applyRow(i,n).getValue()).toLowerCase();return new a.BooleanExpr(r.indexOf(o)>=0)}}),y=e("dojox.grid.enhanced.plugins.filter.StartsWith",a._BiOpExpr,{_name:"startsWith",_calculate:function(e,t,i,n){var r=String(e.applyRow(i,n).getValue()).toLowerCase(),o=String(t.applyRow(i,n).getValue()).toLowerCase();return new a.BooleanExpr(r.substring(0,o.length)==o)}}),v=e("dojox.grid.enhanced.plugins.filter.EndsWith",a._BiOpExpr,{_name:"endsWith",_calculate:function(e,t,i,n){var r=String(e.applyRow(i,n).getValue()).toLowerCase(),o=String(t.applyRow(i,n).getValue()).toLowerCase();return new a.BooleanExpr(r.substring(r.length-o.length)==o)}}),b=e("dojox.grid.enhanced.plugins.filter.Matches",a._BiOpExpr,{_name:"matches",_calculate:function(e,t,i,n){var r=String(e.applyRow(i,n).getValue()),o=new RegExp(t.applyRow(i,n).getValue());return new a.BooleanExpr(r.search(o)>=0)}}),M=e("dojox.grid.enhanced.plugins.filter.IsEmpty",a._UniOpExpr,{_name:"isEmpty",_calculate:function(e,t,i){var n=e.applyRow(t,i).getValue();return new a.BooleanExpr(""===n||null==n)}});return t.mixin({LogicAND:r,LogicOR:o,LogicXOR:s,LogicNOT:d,LogicALL:l,LogicANY:h,EqualTo:u,LessThan:c,LessThanOrEqualTo:m,LargerThan:f,LargerThanOrEqualTo:g,Contains:p,StartsWith:y,EndsWith:v,Matches:b,IsEmpty:M},a)});//# sourceMappingURL=_FilterExpr.js.map