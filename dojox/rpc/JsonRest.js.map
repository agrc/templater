{"version":3,"sources":["JsonRest.js.uncompressed.js"],"names":["define","dojo","dojox","resolveJson","service","deferred","value","defaultId","timeStamp","ioArgs","xhr","getResponseHeader","Rest","_timeStamps","hrefProperty","_schema","json","ref","refAttribute","index","_index","timeStamps","time","idPrefix","_store","allowNoTrailingSlash","servicePath","replace","idAttribute","jr","getIdAttribute","schemas","loader","_loader","idAsRef","assignAbsoluteIds","dirtyObjects","rpc","JsonRest","serviceClass","conflictDateHeader","commit","kwArgs","actions","alreadyRecorded","savingObjects","i","length","dirty","object","old","__id","indexOf","save","__isDirty","pathParts","match","incrementalUpdates","incremental","j","hasOwnProperty","push","method","target","content","getServiceAndId","alwaysPostNewItems","splice","connect","revertOnError","postCommitDirtyObjects","revert","forEach","obj","changing","sendToServer","contentLocation","plainXhr","left","this","args","headers","apply","arguments","action","_contentId","isPost","Date","serviceAndId","dfd","id","toJson","addCallback","newId","startIndex","substring","e","onComplete","call","scope","addErrback","onError","getDirtyObjects","store","data","_getStoreForItem","onSet","onNew","onDelete","_deleting","_saveNotNeeded","Array","deleteObject","getConstructor","schema","registerService","_constructor","addDefaults","properties","propDef","self","prototype","initialize","initializeCalled","mixin","__clientId","Math","random","toString","Client","clientId","mustBeValid","validate","load","fetch","absoluteId","byId","idAttr","_idAttr","identity","link","serviceName","services","parts","result","_loadObject","Deferred","callback","query","nodeType","cloneNode","start","count","undefined","addBoth","$ref","isDirty","item","some"],"mappings":"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","file":"JsonRest.js.uncompressed.js"}