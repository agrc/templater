//>>built
define("dojo/selector/acme",["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(e,t,a,i,r){var o=i.trim,d=a.forEach,n=function(){return r.doc},l="BackCompat"==n().compatMode,s=">~+",m=!1,u=function(){return!0},f=function(e){e+=s.indexOf(e.slice(-1))>=0?" * ":" ";for(var t,a,i=function(t,a){return o(e.slice(t,a))},r=[],d=-1,n=-1,l=-1,u=-1,f=-1,h=-1,c=-1,y="",v="",p=0,M=e.length,g=null,b=null,w=function(){if(c>=0){var e=c==p?null:i(c,p);g[s.indexOf(e)<0?"tag":"oper"]=e,c=-1}},_=function(){h>=0&&(g.id=i(h,p).replace(/\\/g,""),h=-1)},F=function(){f>=0&&(g.classes.push(i(f+1,p).replace(/\\/g,"")),f=-1)},I=function(){_(),w(),F()},k=function(){I(),u>=0&&g.pseudos.push({name:i(u+1,p)}),g.loops=g.pseudos.length||g.attrs.length||g.classes.length,g.oquery=g.query=i(a,p),g.otag=g.tag=g.oper?null:g.tag||"*",g.tag&&(g.tag=g.tag.toUpperCase()),r.length&&r[r.length-1].oper&&(g.infixOper=r.pop(),g.query=g.infixOper.query+" "+g.query),r.push(g),g=null};y=v,v=e.charAt(p),M>p;p++)if("\\"!=y)if(g||(a=p,g={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return m?this.otag:this.tag}},c=p),t)v==t&&(t=null);else if("'"!=v&&'"'!=v)if(d>=0){if("]"==v){b.attr?b.matchFor=i(l||d+1,p):b.attr=i(d+1,p);var E=b.matchFor;E&&('"'!=E.charAt(0)&&"'"!=E.charAt(0)||(b.matchFor=E.slice(1,-1))),b.matchFor&&(b.matchFor=b.matchFor.replace(/\\/g,"")),g.attrs.push(b),b=null,d=l=-1}else if("="==v){var j="|~^$*".indexOf(y)>=0?y:"";b.type=j+v,b.attr=i(d+1,p-j.length),l=p+1}}else n>=0?")"==v&&(u>=0&&(b.value=i(n+1,p)),u=n=-1):"#"==v?(I(),h=p+1):"."==v?(I(),f=p):":"==v?(I(),u=p):"["==v?(I(),d=p,b={}):"("==v?(u>=0&&(b={name:i(u+1,p),value:null},g.pseudos.push(b)),n=p):" "==v&&y!=v&&k();else t=v;return r},h=function(e,t){return e?t?function(){return e.apply(window,arguments)&&t.apply(window,arguments)}:e:t},c=function(e,t){var a=t||[];return e&&a.push(e),a},y=function(e){return 1==e.nodeType},v="",p=function(e,t){return e?"class"==t?e.className||v:"for"==t?e.htmlFor||v:"style"==t?e.style.cssText||v:(m?e.getAttribute(t):e.getAttribute(t,2))||v:v},M={"*=":function(e,t){return function(a){return p(a,e).indexOf(t)>=0}},"^=":function(e,t){return function(a){return 0==p(a,e).indexOf(t)}},"$=":function(e,t){return function(a){var i=" "+p(a,e),r=i.lastIndexOf(t);return r>-1&&r==i.length-t.length}},"~=":function(e,t){var a=" "+t+" ";return function(t){var i=" "+p(t,e)+" ";return i.indexOf(a)>=0}},"|=":function(e,t){var a=t+"-";return function(i){var r=p(i,e);return r==t||0==r.indexOf(a)}},"=":function(e,t){return function(a){return p(a,e)==t}}},g=n().documentElement,b=!(g.nextElementSibling||"nextElementSibling"in g),w=b?"nextSibling":"nextElementSibling",_=b?"previousSibling":"previousElementSibling",F=b?y:u,I=function(e){for(;e=e[_];)if(F(e))return!1;return!0},k=function(e){for(;e=e[w];)if(F(e))return!1;return!0},E=function(e){var a=e.parentNode;a=7!=a.nodeType?a:a.nextSibling;var i=0,r=a.children||a.childNodes,o=e._i||e.getAttribute("_i")||-1,d=a._l||("undefined"!=typeof a.getAttribute?a.getAttribute("_l"):-1);if(!r)return-1;var n=r.length;if(d==n&&o>=0&&d>=0)return o;t("ie")&&"undefined"!=typeof a.setAttribute?a.setAttribute("_l",n):a._l=n,o=-1;for(var l=a.firstElementChild||a.firstChild;l;l=l[w])F(l)&&(t("ie")?l.setAttribute("_i",++i):l._i=++i,e===l&&(o=i));return o},j=function(e){return!(E(e)%2)},S=function(e){return E(e)%2},D={checked:function(e,t){return function(e){return!!("checked"in e?e.checked:e.selected)}},disabled:function(e,t){return function(e){return e.disabled}},enabled:function(e,t){return function(e){return!e.disabled}},"first-child":function(){return I},"last-child":function(){return k},"only-child":function(e,t){return function(e){return I(e)&&k(e)}},empty:function(e,t){return function(e){for(var t=e.childNodes,a=e.childNodes.length,i=a-1;i>=0;i--){var r=t[i].nodeType;if(1===r||3==r)return!1}return!0}},contains:function(e,t){var a=t.charAt(0);return'"'!=a&&"'"!=a||(t=t.slice(1,-1)),function(e){return e.innerHTML.indexOf(t)>=0}},not:function(e,t){var a=f(t)[0],i={el:1};"*"!=a.tag&&(i.tag=1),a.classes.length||(i.classes=1);var r=T(a,i);return function(e){return!r(e)}},"nth-child":function(e,t){var a=parseInt;if("odd"==t)return S;if("even"==t)return j;if(-1!=t.indexOf("n")){var i=t.split("n",2),r=i[0]?"-"==i[0]?-1:a(i[0]):1,o=i[1]?a(i[1]):0,d=0,n=-1;if(r>0?0>o?o=o%r&&r+o%r:o>0&&(o>=r&&(d=o-o%r),o%=r):0>r&&(r*=-1,o>0&&(n=o,o%=r)),r>0)return function(e){var t=E(e);return t>=d&&(0>n||n>=t)&&t%r==o};t=o}var l=a(t);return function(e){return E(e)==l}}},A=t("ie")<9||9==t("ie")&&t("quirks")?function(e){var t=e.toLowerCase();return"class"==t&&(e="className"),function(a){return m?a.getAttribute(e):a[e]||a[t]}}:function(e){return function(t){return t&&t.getAttribute&&t.hasAttribute(e)}},T=function(e,t){if(!e)return u;t=t||{};var a=null;return"el"in t||(a=h(a,y)),"tag"in t||"*"!=e.tag&&(a=h(a,function(t){return t&&(m?t.tagName:t.tagName.toUpperCase())==e.getTag()})),"classes"in t||d(e.classes,function(e,t,i){var r=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)");a=h(a,function(e){return r.test(e.className)}),a.count=t}),"pseudos"in t||d(e.pseudos,function(e){var t=e.name;D[t]&&(a=h(a,D[t](t,e.value)))}),"attrs"in t||d(e.attrs,function(e){var t,i=e.attr;e.type&&M[e.type]?t=M[e.type](i,e.matchFor):i.length&&(t=A(i)),t&&(a=h(a,t))}),"id"in t||e.id&&(a=h(a,function(t){return!!t&&t.id==e.id})),a||"default"in t||(a=u),a},C=function(e){return function(t,a,i){for(;t=t[w];)if(!b||y(t)){i&&!Z(t,i)||!e(t)||a.push(t);break}return a}},x=function(e){return function(t,a,i){for(var r=t[w];r;){if(F(r)){if(i&&!Z(r,i))break;e(r)&&a.push(r)}r=r[w]}return a}},z=function(e){return e=e||u,function(t,a,i){for(var r,o=0,d=t.children||t.childNodes;r=d[o++];)F(r)&&(!i||Z(r,i))&&e(r,o)&&a.push(r);return a}},G=function(e,t){for(var a=e.parentNode;a&&a!=t;)a=a.parentNode;return!!a},N={},L=function(t){var a=N[t.query];if(a)return a;var i=t.infixOper,r=i?i.oper:"",o=T(t,{el:1}),d=t.tag,s="*"==d,m=n().getElementsByClassName;if(r){var f={el:1};s&&(f.tag=1),o=T(t,f),"+"==r?a=C(o):"~"==r?a=x(o):">"==r&&(a=z(o))}else if(t.id)o=!t.loops&&s?u:T(t,{el:1,id:1}),a=function(a,i){var r=e.byId(t.id,a.ownerDocument||a);if(r&&o(r))return 9==a.nodeType?c(r,i):G(r,a)?c(r,i):void 0};else if(m&&/\{\s*\[native code\]\s*\}/.test(String(m))&&t.classes.length&&!l){o=T(t,{el:1,classes:1,id:1});var h=t.classes.join(" ");a=function(e,t,a){for(var i,r=c(0,t),d=0,n=e.getElementsByClassName(h);i=n[d++];)o(i,e)&&Z(i,a)&&r.push(i);return r}}else s||t.loops?(o=T(t,{el:1,tag:1,id:1}),a=function(e,a,i){for(var r,d=c(0,a),n=0,l=t.getTag(),s=l?e.getElementsByTagName(l):[];r=s[n++];)o(r,e)&&Z(r,i)&&d.push(r);return d}):a=function(e,a,i){for(var r,o=c(0,a),d=0,n=t.getTag(),l=n?e.getElementsByTagName(n):[];r=l[d++];)Z(r,i)&&o.push(r);return o};return N[t.query]=a},H=function(e,t){for(var a,i,r,o,d,n=c(e),l=t.length,s=0;l>s;s++){d=[],a=t[s],i=n.length-1,i>0&&(o={},d.nozip=!0);for(var m=L(a),u=0;r=n[u];u++)m(r,d,o);if(!d.length)break;n=d}return d},P={},O={},q=function(e){var t=f(o(e));if(1==t.length){var a=L(t[0]);return function(e){var t=a(e,[]);return t&&(t.nozip=!0),t}}return function(e){return H(e,t)}},Q=t("ie")?"commentStrip":"nozip",R="querySelectorAll",B=!!n()[R],U=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,W=function(e,t,a,i){return a?(t?t+" ":"")+a+(i?" "+i:""):e},V=/([^[]*)([^\]]*])?/g,K=function(e,t,a){return t.replace(U,W)+(a||"")},J=function(e,a){if(e=e.replace(V,K),B){var i=O[e];if(i&&!a)return i}var r=P[e];if(r)return r;var o=e.charAt(0),d=-1==e.indexOf(" ");e.indexOf("#")>=0&&d&&(a=!0);var n=B&&!a&&-1==s.indexOf(o)&&(!t("ie")||-1==e.indexOf(":"))&&!(l&&e.indexOf(".")>=0)&&-1==e.indexOf(":contains")&&-1==e.indexOf(":checked")&&-1==e.indexOf("|=");if(n){var m=s.indexOf(e.charAt(e.length-1))>=0?e+" *":e;return O[e]=function(t){try{if(9!=t.nodeType&&!d)throw"";var a=t[R](m);return a[Q]=!0,a}catch(i){return J(e,!0)(t)}}}var u=e.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return P[e]=u.length<2?q(e):function(e){for(var t,a=0,i=[];t=u[a++];)i=i.concat(q(t)(e));return i}},Y=0,$=t("ie")?function(e){return m?e.getAttribute("_uid")||e.setAttribute("_uid",++Y)||Y:e.uniqueID}:function(e){return e._uid||(e._uid=++Y)},Z=function(e,t){if(!t)return 1;var a=$(e);return t[a]?0:t[a]=1},X="_zipIdx",ee=function(e){if(e&&e.nozip)return e;if(!e||!e.length)return[];if(e.length<2)return[e[0]];var a=[];Y++;var i,r;if(t("ie")&&m){var o=Y+"";for(i=0;i<e.length;i++)(r=e[i])&&r.getAttribute(X)!=o&&(a.push(r),r.setAttribute(X,o))}else if(t("ie")&&e.commentStrip)try{for(i=0;i<e.length;i++)(r=e[i])&&y(r)&&a.push(r)}catch(d){}else for(i=0;i<e.length;i++)(r=e[i])&&r[X]!=Y&&(a.push(r),r[X]=Y);return a},te=function(e,t){t=t||n();var a=t.ownerDocument||t;m="div"===a.createElement("div").tagName;var i=J(e)(t);return i&&i.nozip?i:ee(i)};return te.filter=function(t,i,r){for(var o,d=[],n=f(i),l=1!=n.length||/[^\w#\.]/.test(i)?function(t){return-1!=a.indexOf(te(i,e.byId(r)),t)}:T(n[0]),s=0;o=t[s];s++)l(o)&&d.push(o);return d},te});//# sourceMappingURL=acme.js.map