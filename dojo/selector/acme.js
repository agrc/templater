//>>built
define("dojo/selector/acme",["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(e,t,a,i,r){var d=i.trim,o=a.forEach,n=function(){return r.doc},l="BackCompat"==n().compatMode,s=">~+",m=!1,u=function(){return!0},f=function(e){s.indexOf(e.slice(-1))>=0?e+=" * ":e+=" ";for(var t,a,i=function(t,a){return d(e.slice(t,a))},r=[],o=-1,n=-1,l=-1,u=-1,f=-1,h=-1,y=-1,c="",v="",M=0,p=e.length,g=null,b=null,w=function(){if(y>=0){var e=y==M?null:i(y,M);g[s.indexOf(e)<0?"tag":"oper"]=e,y=-1}},k=function(){h>=0&&(g.id=i(h,M).replace(/\\/g,""),h=-1)},I=function(){f>=0&&(g.classes.push(i(f+1,M).replace(/\\/g,"")),f=-1)},F=function(){k(),w(),I()},j=function(){F(),u>=0&&g.pseudos.push({name:i(u+1,M)}),g.loops=g.pseudos.length||g.attrs.length||g.classes.length,g.oquery=g.query=i(a,M),g.otag=g.tag=g.oper?null:g.tag||"*",g.tag&&(g.tag=g.tag.toUpperCase()),r.length&&r[r.length-1].oper&&(g.infixOper=r.pop(),g.query=g.infixOper.query+" "+g.query),r.push(g),g=null};c=v,v=e.charAt(M),M<p;M++)if("\\"!=c)if(g||(a=M,g={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return m?this.otag:this.tag}},y=M),t)v==t&&(t=null);else if("'"!=v&&'"'!=v)if(o>=0){if("]"==v){b.attr?b.matchFor=i(l||o+1,M):b.attr=i(o+1,M);var _=b.matchFor;_&&('"'!=_.charAt(0)&&"'"!=_.charAt(0)||(b.matchFor=_.slice(1,-1))),b.matchFor&&(b.matchFor=b.matchFor.replace(/\\/g,"")),g.attrs.push(b),b=null,o=l=-1}else if("="==v){var E="|~^$*".indexOf(c)>=0?c:"";b.type=E+v,b.attr=i(o+1,M-E.length),l=M+1}}else n>=0?")"==v&&(u>=0&&(b.value=i(n+1,M)),u=n=-1):"#"==v?(F(),h=M+1):"."==v?(F(),f=M):":"==v?(F(),u=M):"["==v?(F(),o=M,b={}):"("==v?(u>=0&&(b={name:i(u+1,M),value:null},g.pseudos.push(b)),n=M):" "==v&&c!=v&&j();else t=v;return r},h=function(e,t){return e?t?function(){return e.apply(window,arguments)&&t.apply(window,arguments)}:e:t},y=function(e,t){var a=t||[];return e&&a.push(e),a},c=function(e){return 1==e.nodeType},v="",M=function(e,t){return e?"class"==t?e.className||v:"for"==t?e.htmlFor||v:"style"==t?e.style.cssText||v:(m?e.getAttribute(t):e.getAttribute(t,2))||v:v},p={"*=":function(e,t){return function(a){return M(a,e).indexOf(t)>=0}},"^=":function(e,t){return function(a){return 0==M(a,e).indexOf(t)}},"$=":function(e,t){return function(a){var i=" "+M(a,e),r=i.lastIndexOf(t);return r>-1&&r==i.length-t.length}},"~=":function(e,t){var a=" "+t+" ";return function(t){return(" "+M(t,e)+" ").indexOf(a)>=0}},"|=":function(e,t){var a=t+"-";return function(i){var r=M(i,e);return r==t||0==r.indexOf(a)}},"=":function(e,t){return function(a){return M(a,e)==t}}},g=n().documentElement,b=!(g.nextElementSibling||"nextElementSibling"in g),w=b?"nextSibling":"nextElementSibling",k=b?"previousSibling":"previousElementSibling",I=b?c:u,F=function(e){for(;e=e[k];)if(I(e))return!1;return!0},j=function(e){for(;e=e[w];)if(I(e))return!1;return!0},_=function(e){var a=e.parentNode;a=7!=a.nodeType?a:a.nextSibling;var i=0,r=a.children||a.childNodes,d=e._i||e.getAttribute("_i")||-1,o=a._l||(void 0!==a.getAttribute?a.getAttribute("_l"):-1);if(!r)return-1;var n=r.length;if(o==n&&d>=0&&o>=0)return d;t("ie")&&void 0!==a.setAttribute?a.setAttribute("_l",n):a._l=n,d=-1;for(var l=a.firstElementChild||a.firstChild;l;l=l[w])I(l)&&(t("ie")?l.setAttribute("_i",++i):l._i=++i,e===l&&(d=i));return d},E=function(e){return!(_(e)%2)},G=function(e){return _(e)%2},A={checked:function(e,t){return function(e){return!!("checked"in e?e.checked:e.selected)}},disabled:function(e,t){return function(e){return e.disabled}},enabled:function(e,t){return function(e){return!e.disabled}},"first-child":function(){return F},"last-child":function(){return j},"only-child":function(e,t){return function(e){return F(e)&&j(e)}},empty:function(e,t){return function(e){for(var t=e.childNodes,a=e.childNodes.length,i=a-1;i>=0;i--){var r=t[i].nodeType;if(1===r||3==r)return!1}return!0}},contains:function(e,t){var a=t.charAt(0);return'"'!=a&&"'"!=a||(t=t.slice(1,-1)),function(e){return e.innerHTML.indexOf(t)>=0}},not:function(e,t){var a=f(t)[0],i={el:1};"*"!=a.tag&&(i.tag=1),a.classes.length||(i.classes=1);var r=C(a,i);return function(e){return!r(e)}},"nth-child":function(e,t){var a=parseInt;if("odd"==t)return G;if("even"==t)return E;if(-1!=t.indexOf("n")){var i=t.split("n",2),r=i[0]?"-"==i[0]?-1:a(i[0]):1,d=i[1]?a(i[1]):0,o=0,n=-1;if(r>0?d<0?d=d%r&&r+d%r:d>0&&(d>=r&&(o=d-d%r),d%=r):r<0&&(r*=-1,d>0&&(n=d,d%=r)),r>0)return function(e){var t=_(e);return t>=o&&(n<0||t<=n)&&t%r==d};t=d}var l=a(t);return function(e){return _(e)==l}}},D=t("ie")<9||9==t("ie")&&t("quirks")?function(e){var t=e.toLowerCase();return"class"==t&&(e="className"),function(a){return m?a.getAttribute(e):a[e]||a[t]}}:function(e){return function(t){return t&&t.getAttribute&&t.hasAttribute(e)}},C=function(e,t){if(!e)return u;t=t||{};var a=null;return"el"in t||(a=h(a,c)),"tag"in t||"*"!=e.tag&&(a=h(a,function(t){return t&&(m?t.tagName:t.tagName.toUpperCase())==e.getTag()})),"classes"in t||o(e.classes,function(e,t,i){var r=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)");a=h(a,function(e){return r.test(e.className)}),a.count=t}),"pseudos"in t||o(e.pseudos,function(e){var t=e.name;A[t]&&(a=h(a,A[t](t,e.value)))}),"attrs"in t||o(e.attrs,function(e){var t,i=e.attr;e.type&&p[e.type]?t=p[e.type](i,e.matchFor):i.length&&(t=D(i)),t&&(a=h(a,t))}),"id"in t||e.id&&(a=h(a,function(t){return!!t&&t.id==e.id})),a||"default"in t||(a=u),a},S=function(e){return function(t,a,i){for(;t=t[w];)if(!b||c(t)){i&&!Z(t,i)||!e(t)||a.push(t);break}return a}},z=function(e){return function(t,a,i){for(var r=t[w];r;){if(I(r)){if(i&&!Z(r,i))break;e(r)&&a.push(r)}r=r[w]}return a}},N=function(e,t){var i=function(e){var t=[];try{t=Array.prototype.slice.call(e)}catch(r){for(var a=0,i=e.length;a<i;a++)t.push(e[a])}return t};return e=e||u,function(r,d,o){var n,l=0,s=[];for(s=i(r.children||r.childNodes),t&&a.forEach(s,function(e){1===e.nodeType&&(s=s.concat(i(e.getElementsByTagName("*"))))});n=s[l++];)I(n)&&(!o||Z(n,o))&&e(n,l)&&d.push(n);return d}},T=function(e,t){for(var a=e.parentNode;a&&a!=t;)a=a.parentNode;return!!a},x={},Q=function(t){var i=x[t.query];if(i)return i;var r=t.infixOper,d=r?r.oper:"",o=C(t,{el:1}),s=t.tag,m="*"==s,f=n().getElementsByClassName;if(d){var h={el:1};m&&(h.tag=1),o=C(t,h),"+"==d?i=S(o):"~"==d?i=z(o):">"==d&&(i=N(o))}else if(t.id)o=!t.loops&&m?u:C(t,{el:1,id:1}),i=function(i,r){var d=e.byId(t.id,i.ownerDocument||i);if(i.ownerDocument&&!T(i,i.ownerDocument)){var n=11===i.nodeType?i.childNodes:[i];a.some(n,function(e){var a=N(function(e){return e.id===t.id},!0)(e,[]);if(a.length)return d=a[0],!1})}if(d&&o(d))return 9==i.nodeType?y(d,r):T(d,i)?y(d,r):void 0};else if(f&&/\{\s*\[native code\]\s*\}/.test(String(f))&&t.classes.length&&!l){o=C(t,{el:1,classes:1,id:1});var c=t.classes.join(" ");i=function(e,t,a){for(var i,r=y(0,t),d=0,n=e.getElementsByClassName(c);i=n[d++];)o(i,e)&&Z(i,a)&&r.push(i);return r}}else m||t.loops?(o=C(t,{el:1,tag:1,id:1}),i=function(e,a,i){for(var r,d=y(0,a),n=0,l=t.getTag(),s=l?e.getElementsByTagName(l):[];r=s[n++];)o(r,e)&&Z(r,i)&&d.push(r);return d}):i=function(e,a,i){for(var r,d=y(0,a),o=0,n=t.getTag(),l=n?e.getElementsByTagName(n):[];r=l[o++];)Z(r,i)&&d.push(r);return d};return x[t.query]=i},H=function(e,t){for(var a,i,r,d,o,n=y(e),l=t.length,s=0;s<l;s++){o=[],a=t[s],i=n.length-1,i>0&&(d={},o.nozip=!0);for(var m=Q(a),u=0;r=n[u];u++)m(r,o,d);if(!o.length)break;n=o}return o},L={},q={},P=function(e){var t=f(d(e));if(1==t.length){var a=Q(t[0]);return function(e){var t=a(e,[]);return t&&(t.nozip=!0),t}}return function(e){return H(e,t)}},O=t("ie")?"commentStrip":"nozip",R="querySelectorAll",W=!!n()[R],B=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,K=function(e,t,a,i){return a?(t?t+" ":"")+a+(i?" "+i:""):e},U=/([^[]*)([^\]]*])?/g,V=function(e,t,a){return t.replace(B,K)+(a||"")},$=function(e,a){if(e=e.replace(U,V),W){var i=q[e];if(i&&!a)return i}var r=L[e];if(r)return r;var d=e.charAt(0),o=-1==e.indexOf(" ");if(e.indexOf("#")>=0&&o&&(a=!0),W&&!a&&-1==s.indexOf(d)&&(!t("ie")||-1==e.indexOf(":"))&&!(l&&e.indexOf(".")>=0)&&-1==e.indexOf(":contains")&&-1==e.indexOf(":checked")&&-1==e.indexOf("|=")){var n=s.indexOf(e.charAt(e.length-1))>=0?e+" *":e;return q[e]=function(t){if(9==t.nodeType||o)try{var a=t[R](n);return a[O]=!0,a}catch(e){}return $(e,!0)(t)}}var m=e.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return L[e]=m.length<2?P(e):function(e){for(var t,a=0,i=[];t=m[a++];)i=i.concat(P(t)(e));return i}},J=0,Y=t("ie")?function(e){return m?e.getAttribute("_uid")||e.setAttribute("_uid",++J)||J:e.uniqueID}:function(e){return e._uid||(e._uid=++J)},Z=function(e,t){if(!t)return 1;var a=Y(e);return t[a]?0:t[a]=1},X="_zipIdx",ee=function(e){if(e&&e.nozip)return e;if(!e||!e.length)return[];if(e.length<2)return[e[0]];var a=[];J++;var i,r;if(t("ie")&&m){var d=J+"";for(i=0;i<e.length;i++)(r=e[i])&&r.getAttribute(X)!=d&&(a.push(r),r.setAttribute(X,d))}else if(t("ie")&&e.commentStrip)try{for(i=0;i<e.length;i++)(r=e[i])&&c(r)&&a.push(r)}catch(e){}else for(i=0;i<e.length;i++)(r=e[i])&&r[X]!=J&&(a.push(r),r[X]=J);return a},te=function(e,t){t=t||n();var a=t.ownerDocument||t;m="div"===a.createElement("div").tagName;var i=$(e)(t);return i&&i.nozip?i:ee(i)};return te.filter=function(t,i,r){for(var d,o=[],n=f(i),l=1!=n.length||/[^\w#\.]/.test(i)?function(t){return-1!=a.indexOf(te(i,e.byId(r)),t)}:C(n[0]),s=0;d=t[s];s++)l(d)&&o.push(d);return o},te});//# sourceMappingURL=acme.js.map