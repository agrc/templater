//>>built
define("dojo/behavior",["./_base/kernel","./_base/lang","./_base/array","./_base/connect","./query","./domReady"],function(t,e,i,o,n,s){t.deprecated("dojo.behavior","Use dojo/on with event delegation (on.selector())");var r=function(){function t(t,e){return t[e]||(t[e]=[]),t[e]}function s(t,e,i){var o={};for(var n in t)"undefined"==typeof o[n]&&(i?i.call(e,t[n],n):e(t[n],n))}var r=0;this._behaviors={},this.add=function(i){s(i,this,function(i,o){var n=t(this._behaviors,o);"number"!=typeof n.id&&(n.id=r++);var a=[];n.push(a),(e.isString(i)||e.isFunction(i))&&(i={found:i}),s(i,function(e,i){t(a,i).push(e)})})};var a=function(t,i,n){e.isString(i)?"found"==n?o.publish(i,[t]):o.connect(t,n,function(){o.publish(i,arguments)}):e.isFunction(i)&&("found"==n?i(t):o.connect(t,n,i))};this.apply=function(){s(this._behaviors,function(t,o){n(o).forEach(function(o){var n=0,r="_dj_behavior_"+t.id;if("number"!=typeof o[r]||(n=o[r],n!=t.length)){for(var d,l=n;d=t[l];l++)s(d,function(t,n){e.isArray(t)&&i.forEach(t,function(t){a(o,t,n)})});o[r]=t.length}})})}};return t.behavior=new r,s(function(){t.behavior.apply()}),t.behavior});//# sourceMappingURL=behavior.js.map