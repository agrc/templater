//>>built
define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),n=function(){for(var e=null,o=arguments,r=[o[0]],a=1;a<o.length;a++)if(o[a]){var s=new n(o[a]+""),d=new n(r[0]+"");if(""!=s.path||s.scheme||s.authority||s.query){if(!s.scheme&&(s.scheme=d.scheme,!s.authority&&(s.authority=d.authority,"/"!=s.path.charAt(0)))){for(var l=d.path.substring(0,d.path.lastIndexOf("/")+1)+s.path,c=l.split("/"),h=0;h<c.length;h++)"."==c[h]?h==c.length-1?c[h]="":(c.splice(h,1),h--):h>0&&(1!=h||""!=c[0])&&".."==c[h]&&".."!=c[h-1]&&(h==c.length-1?(c.splice(h,1),c[h-1]=""):(c.splice(h-1,2),h-=2));s.path=c.join("/")}}else s.fragment!=e&&(d.fragment=s.fragment),s=d;r=[],s.scheme&&r.push(s.scheme,":"),s.authority&&r.push("//",s.authority),r.push(s.path),s.query&&r.push("?",s.query),s.fragment&&r.push("#",s.fragment)}this.uri=r.join("");var u=this.uri.match(t);this.scheme=u[2]||(u[1]?"":e),this.authority=u[4]||(u[3]?"":e),this.path=u[5],this.query=u[7]||(u[6]?"":e),this.fragment=u[9]||(u[8]?"":e),this.authority!=e&&(u=this.authority.match(i),this.user=u[3]||e,this.password=u[4]||e,this.host=u[6]||u[7],this.port=u[9]||e)};return n.prototype.toString=function(){return this.uri},e._Url=n});//# sourceMappingURL=url.js.map