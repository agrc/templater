//>>built
define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),n=function(){for(var e=null,o=arguments,r=[o[0]],s=1;s<o.length;s++)if(o[s]){var a=new n(o[s]+""),d=new n(r[0]+"");if(""!=a.path||a.scheme||a.authority||a.query){if(!a.scheme&&(a.scheme=d.scheme,!a.authority&&(a.authority=d.authority,"/"!=a.path.charAt(0)))){for(var l=d.path.substring(0,d.path.lastIndexOf("/")+1)+a.path,h=l.split("/"),c=0;c<h.length;c++)"."==h[c]?c==h.length-1?h[c]="":(h.splice(c,1),c--):c>0&&(1!=c||""!=h[0])&&".."==h[c]&&".."!=h[c-1]&&(c==h.length-1?(h.splice(c,1),h[c-1]=""):(h.splice(c-1,2),c-=2));a.path=h.join("/")}}else a.fragment!=e&&(d.fragment=a.fragment),a=d;r=[],a.scheme&&r.push(a.scheme,":"),a.authority&&r.push("//",a.authority),r.push(a.path),a.query&&r.push("?",a.query),a.fragment&&r.push("#",a.fragment)}this.uri=r.join("");var u=this.uri.match(t);this.scheme=u[2]||(u[1]?"":e),this.authority=u[4]||(u[3]?"":e),this.path=u[5],this.query=u[7]||(u[6]?"":e),this.fragment=u[9]||(u[8]?"":e),this.authority!=e&&(u=this.authority.match(i),this.user=u[3]||e,this.password=u[4]||e,this.host=u[6]||u[7],this.port=u[9]||e)};return n.prototype.toString=function(){return this.uri},e._Url=n});//# sourceMappingURL=url.js.map