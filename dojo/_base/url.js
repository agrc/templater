//>>built
define("dojo/_base/url",["./kernel"],function(t){var e=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),n=function(){for(var t=null,o=arguments,a=[o[0]],s=1;s<o.length;s++)if(o[s]){var r=new n(o[s]+""),d=new n(a[0]+"");if(""!=r.path||r.scheme||r.authority||r.query){if(!r.scheme&&(r.scheme=d.scheme,!r.authority&&(r.authority=d.authority,"/"!=r.path.charAt(0)))){for(var l=d.path.substring(0,d.path.lastIndexOf("/")+1)+r.path,h=l.split("/"),c=0;c<h.length;c++)"."==h[c]?c==h.length-1?h[c]="":(h.splice(c,1),c--):c>0&&(1!=c||""!=h[0])&&".."==h[c]&&".."!=h[c-1]&&(c==h.length-1?(h.splice(c,1),h[c-1]=""):(h.splice(c-1,2),c-=2));r.path=h.join("/")}}else r.fragment!=t&&(d.fragment=r.fragment),r=d;a=[],r.scheme&&a.push(r.scheme,":"),r.authority&&a.push("//",r.authority),a.push(r.path),r.query&&a.push("?",r.query),r.fragment&&a.push("#",r.fragment)}this.uri=a.join("");var u=this.uri.match(e);this.scheme=u[2]||(u[1]?"":t),this.authority=u[4]||(u[3]?"":t),this.path=u[5],this.query=u[7]||(u[6]?"":t),this.fragment=u[9]||(u[8]?"":t),this.authority!=t&&(u=this.authority.match(i),this.user=u[3]||t,this.password=u[4]||t,this.host=u[6]||u[7],this.port=u[9]||t)};return n.prototype.toString=function(){return this.uri},t._Url=n});//# sourceMappingURL=url.js.map