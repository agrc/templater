//>>built
define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),o=function(){for(var e=null,n=arguments,r=[n[0]],s=1;s<n.length;s++)if(n[s]){var a=new o(n[s]+""),d=new o(r[0]+"");if(""!=a.path||a.scheme||a.authority||a.query){if(!a.scheme&&(a.scheme=d.scheme,!a.authority&&(a.authority=d.authority,"/"!=a.path.charAt(0)))){for(var l=d.path.substring(0,d.path.lastIndexOf("/")+1)+a.path,c=l.split("/"),u=0;u<c.length;u++)"."==c[u]?u==c.length-1?c[u]="":(c.splice(u,1),u--):u>0&&(1!=u||""!=c[0])&&".."==c[u]&&".."!=c[u-1]&&(u==c.length-1?(c.splice(u,1),c[u-1]=""):(c.splice(u-1,2),u-=2));a.path=c.join("/")}}else a.fragment!=e&&(d.fragment=a.fragment),a=d;r=[],a.scheme&&r.push(a.scheme,":"),a.authority&&r.push("//",a.authority),r.push(a.path),a.query&&r.push("?",a.query),a.fragment&&r.push("#",a.fragment)}this.uri=r.join("");var h=this.uri.match(t);this.scheme=h[2]||(h[1]?"":e),this.authority=h[4]||(h[3]?"":e),this.path=h[5],this.query=h[7]||(h[6]?"":e),this.fragment=h[9]||(h[8]?"":e),this.authority!=e&&(h=this.authority.match(i),this.user=h[3]||e,this.password=h[4]||e,this.host=h[6]||h[7],this.port=h[9]||e)};return o.prototype.toString=function(){return this.uri},e._Url=o});//# sourceMappingURL=url.js.map