//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){function n(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var i,o,r,a,s,d,l,u,h=[],c=[{cls:0,refs:[]}],f={},p=1,g=e.length,m=0;g>m;++m){for(r=e[m],r?"[object Function]"!=x.call(r)&&n("mixin #"+m+" is not a callable constructor.",t):n("mixin #"+m+" is unknown. Did you use dojo.require to pull it in?",t),o=r._meta?r._meta.bases:[r],a=0,i=o.length-1;i>=0;--i)s=o[i].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),l=s.declaredClass,f.hasOwnProperty(l)||(f[l]={count:0,refs:[],cls:o[i]},++p),d=f[l],a&&a!==d&&(d.refs.push(a),++a.count),a=d;++a.count,c[0].refs.push(a)}for(;c.length;){for(a=c.pop(),h.push(a.cls),--p;u=a.refs,1==u.length;){if(a=u[0],!a||--a.count){a=0;break}h.push(a.cls),--p}if(a)for(m=0,g=u.length;g>m;++m)a=u[m],--a.count||c.push(a)}return p&&n("can't build consistent linearization",t),r=e[0],h[0]=r?r._meta&&r===h[h.length-r._meta.bases.length]?r._meta.bases.length:1:0,h}function r(e,t,i){var o,r,a,s,d,l,u,h,c,f=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=i),i=0,s=e.callee,o=o||s.nom,o||n("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,a=d.bases,c=f.p,o!=k){if(f.c!==s&&(c=0,l=a[0],d=l._meta,d.hidden[o]!==s)){r=d.chains,r&&"string"==typeof r[o]&&n("calling chained method with inherited: "+o,this.declaredClass);do if(d=l._meta,u=l.prototype,d&&(u[o]===s&&u.hasOwnProperty(o)||d.hidden[o]===s))break;while(l=a[++c]);c=l?c:-1}if(l=a[++c])if(u=l.prototype,l._meta&&u.hasOwnProperty(o))i=u[o];else{h=j[o];do if(u=l.prototype,i=u[o],i&&(l._meta?u.hasOwnProperty(o):i!==h))break;while(l=a[++c])}i=l&&i||j[o]}else{if(f.c!==s&&(c=0,d=a[0]._meta,d&&d.ctor!==s)){for(r=d.chains,r&&"manual"===r.constructor||n("calling chained constructor with inherited",this.declaredClass);(l=a[++c])&&(d=l._meta,!d||d.ctor!==s););c=l?c:-1}for(;(l=a[++c])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}return f.c=i,f.p=c,i?t===!0?i:i.apply(this,t||e):void 0}function a(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e,t,i){var n=this.getInherited(e,t);return n?n.apply(this,i||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,i=0,n=t.length;n>i;++i)if(t[i]===e)return!0;return this instanceof e}function l(e,n){for(var o in n)o!=k&&n.hasOwnProperty(o)&&(e[o]=n[o]);if(t("bug-for-in-skips-shadowed"))for(var r=i._extraNames,a=r.length;a;)o=r[--a],o!=k&&n.hasOwnProperty(o)&&(e[o]=n[o])}function u(e,n){var o,r;for(o in n)r=n[o],r===j[o]&&o in j||o==k||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);if(t("bug-for-in-skips-shadowed"))for(var a=i._extraNames,s=a.length;s;)o=a[--s],r=n[o],r===j[o]&&o in j||o==k||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);return e}function h(e){return y.safeMixin(this.prototype,e),this}function c(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],y([this].concat(e),t)}function f(e,t){return function(){var i,n,o,r,a=arguments,s=a,d=a[0],l=e.length;if(!(this instanceof a.callee))return v(a);if(t&&(d&&d.preamble||this.preamble))for(r=new Array(e.length),r[0]=a,n=0;d=a[0],d&&(i=d.preamble,i&&(a=i.apply(this,a)||a)),i=e[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(a=i.apply(this,a)||a),++n!=l;)r[n]=a;for(n=l-1;n>=0;--n)i=e[n],o=i._meta,i=o?o.ctor:i,i&&i.apply(this,r?r[n]:a);i=this.postscript,i&&i.apply(this,s)}}function p(e,t){return function(){var i,n=arguments,o=n,r=n[0];return this instanceof n.callee?(t&&(r&&(i=r.preamble,i&&(o=i.apply(this,o)||o)),i=this.preamble,i&&i.apply(this,o)),e&&e.apply(this,n),i=this.postscript,void(i&&i.apply(this,n))):v(n)}}function g(e){return function(){var t,i,n=arguments,o=0;if(!(this instanceof n.callee))return v(n);for(;t=e[o];++o)if(i=t._meta,t=i?i.ctor:t){t.apply(this,n);break}t=this.postscript,t&&t.apply(this,n)}}function m(e,t,i){return function(){var n,o,r,a=0,s=1;for(i&&(a=t.length-1,s=-1);n=t[a];a+=s)o=n._meta,r=(o?o.hidden:n.prototype)[e],r&&r.apply(this,arguments)}}function b(e){w.prototype=e.prototype;var t=new w;return w.prototype=null,t}function v(e){var t=e.callee,i=b(t);return t.apply(i,e),i}function y(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var u,v,w,C,N,T,L,B=1,A=t;if("[object Array]"==x.call(t)?(T=o(t,e),w=T[0],B=T.length-w,t=T[B]):(T=[0],t?"[object Function]"==x.call(t)?(w=t._meta,T=T.concat(w?w.bases:t)):n("base class is not a callable constructor.",e):null!==t&&n("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(v=B-1;u=b(t),v;--v)w=T[v],(w._meta?l:_)(u,w.prototype),C=new Function,C.superclass=t,C.prototype=u,t=u.constructor=C;else u={};for(y.safeMixin(u,s),w=s.constructor,w!==j.constructor&&(w.nom=k,u.constructor=w),v=B-1;v;--v)w=T[v]._meta,w&&w.chains&&(L=_(L||{},w.chains));if(u["-chains-"]&&(L=_(L||{},u["-chains-"])),w=!L||!L.hasOwnProperty(k),T[0]=C=L&&"manual"===L.constructor?g(T):1==T.length?p(s.constructor,w):f(T,w),C._meta={bases:T,hidden:s,chains:L,parents:A,ctor:s.constructor},C.superclass=t&&t.prototype,C.extend=h,C.createSubclass=c,C.prototype=u,u.constructor=C,u.getInherited=a,u.isInstanceOf=d,u.inherited=S,u.__inherited=r,e&&(u.declaredClass=e,i.setObject(e,C)),L)for(N in L)u[N]&&"string"==typeof L[N]&&N!=k&&(w=u[N]=m(N,T,"after"===L[N]),w.nom=N);return C}var _=i.mixin,j=Object.prototype,x=j.toString,w=new Function,C=0,k="constructor",S=e.config.isDebug?s:r;return e.safeMixin=y.safeMixin=u,e.declare=y,y});//# sourceMappingURL=declare.js.map