//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){function n(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var i,o,r,s,a,d,l,h,c=[],u=[{cls:0,refs:[]}],p={},f=1,m=e.length,g=0;m>g;++g){for(r=e[g],r?"[object Function]"!=j.call(r)&&n("mixin #"+g+" is not a callable constructor.",t):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),o=r._meta?r._meta.bases:[r],s=0,i=o.length-1;i>=0;--i)a=o[i].prototype,a.hasOwnProperty("declaredClass")||(a.declaredClass="uniqName_"+C++),l=a.declaredClass,p.hasOwnProperty(l)||(p[l]={count:0,refs:[],cls:o[i]},++f),d=p[l],s&&s!==d&&(d.refs.push(s),++s.count),s=d;++s.count,u[0].refs.push(s)}for(;u.length;){for(s=u.pop(),c.push(s.cls),--f;h=s.refs,1==h.length;){if(s=h[0],!s||--s.count){s=0;break}c.push(s.cls),--f}if(s)for(g=0,m=h.length;m>g;++g)s=h[g],--s.count||u.push(s)}return f&&n("can't build consistent linearization",t),r=e[0],c[0]=r?r._meta&&r===c[c.length-r._meta.bases.length]?r._meta.bases.length:1:0,c}function r(e,t,i){var o,r,s,a,d,l,h,c,u,p=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=i),i=0,a=e.callee,o=o||a.nom,o||n("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,s=d.bases,u=p.p,o!=N){if(p.c!==a&&(u=0,l=s[0],d=l._meta,d.hidden[o]!==a)){r=d.chains,r&&"string"==typeof r[o]&&n("calling chained method with inherited: "+o,this.declaredClass);do if(d=l._meta,h=l.prototype,d&&(h[o]===a&&h.hasOwnProperty(o)||d.hidden[o]===a))break;while(l=s[++u]);u=l?u:-1}if(l=s[++u])if(h=l.prototype,l._meta&&h.hasOwnProperty(o))i=h[o];else{c=x[o];do if(h=l.prototype,i=h[o],i&&(l._meta?h.hasOwnProperty(o):i!==c))break;while(l=s[++u])}i=l&&i||x[o]}else{if(p.c!==a&&(u=0,d=s[0]._meta,d&&d.ctor!==a)){for(r=d.chains,r&&"manual"===r.constructor||n("calling chained constructor with inherited",this.declaredClass);(l=s[++u])&&(d=l._meta,!d||d.ctor!==a););u=l?u:-1}for(;(l=s[++u])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}return p.c=i,p.p=u,i?t===!0?i:i.apply(this,t||e):void 0}function s(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function a(e,t,i){var n=this.getInherited(e,t);return n?n.apply(this,i||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,i=0,n=t.length;n>i;++i)if(t[i]===e)return!0;return this instanceof e}function l(e,n){for(var o in n)o!=N&&n.hasOwnProperty(o)&&(e[o]=n[o]);if(t("bug-for-in-skips-shadowed"))for(var r=i._extraNames,s=r.length;s;)o=r[--s],o!=N&&n.hasOwnProperty(o)&&(e[o]=n[o])}function h(e,n){var o,r;for(o in n)r=n[o],r===x[o]&&o in x||o==N||("[object Function]"==j.call(r)&&(r.nom=o),e[o]=r);if(t("bug-for-in-skips-shadowed"))for(var s=i._extraNames,a=s.length;a;)o=s[--a],r=n[o],r===x[o]&&o in x||o==N||("[object Function]"==j.call(r)&&(r.nom=o),e[o]=r);return e}function c(e){return b.safeMixin(this.prototype,e),this}function u(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function p(e,t){return function(){var i,n,o,r,s=arguments,a=s,d=s[0],l=e.length;if(!(this instanceof s.callee))return _(s);if(t&&(d&&d.preamble||this.preamble))for(r=new Array(e.length),r[0]=s,n=0;d=s[0],d&&(i=d.preamble,i&&(s=i.apply(this,s)||s)),i=e[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(s=i.apply(this,s)||s),++n!=l;)r[n]=s;for(n=l-1;n>=0;--n)i=e[n],o=i._meta,i=o?o.ctor:i,i&&i.apply(this,r?r[n]:s);i=this.postscript,i&&i.apply(this,a)}}function f(e,t){return function(){var i,n=arguments,o=n,r=n[0];return this instanceof n.callee?(t&&(r&&(i=r.preamble,i&&(o=i.apply(this,o)||o)),i=this.preamble,i&&i.apply(this,o)),e&&e.apply(this,n),i=this.postscript,void(i&&i.apply(this,n))):_(n)}}function m(e){return function(){var t,i,n=arguments,o=0;if(!(this instanceof n.callee))return _(n);for(;t=e[o];++o)if(i=t._meta,t=i?i.ctor:t){t.apply(this,n);break}t=this.postscript,t&&t.apply(this,n)}}function g(e,t,i){return function(){var n,o,r,s=0,a=1;for(i&&(s=t.length-1,a=-1);n=t[s];s+=a)o=n._meta,r=(o?o.hidden:n.prototype)[e],r&&r.apply(this,arguments)}}function v(e){w.prototype=e.prototype;var t=new w;return w.prototype=null,t}function _(e){var t=e.callee,i=v(t);return t.apply(i,e),i}function b(e,t,a){"string"!=typeof e&&(a=t,t=e,e=""),a=a||{};var h,_,w,C,k,S,D,I=1,M=t;if("[object Array]"==j.call(t)?(S=o(t,e),w=S[0],I=S.length-w,t=S[I]):(S=[0],t?"[object Function]"==j.call(t)?(w=t._meta,S=S.concat(w?w.bases:t)):n("base class is not a callable constructor.",e):null!==t&&n("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(_=I-1;h=v(t),_;--_)w=S[_],(w._meta?l:y)(h,w.prototype),C=new Function,C.superclass=t,C.prototype=h,t=h.constructor=C;else h={};for(b.safeMixin(h,a),w=a.constructor,w!==x.constructor&&(w.nom=N,h.constructor=w),_=I-1;_;--_)w=S[_]._meta,w&&w.chains&&(D=y(D||{},w.chains));if(h["-chains-"]&&(D=y(D||{},h["-chains-"])),w=!D||!D.hasOwnProperty(N),S[0]=C=D&&"manual"===D.constructor?m(S):1==S.length?f(a.constructor,w):p(S,w),C._meta={bases:S,hidden:a,chains:D,parents:M,ctor:a.constructor},C.superclass=t&&t.prototype,C.extend=c,C.createSubclass=u,C.prototype=h,h.constructor=C,h.getInherited=s,h.isInstanceOf=d,h.inherited=T,h.__inherited=r,e&&(h.declaredClass=e,i.setObject(e,C)),D)for(k in D)h[k]&&"string"==typeof D[k]&&k!=N&&(w=h[k]=g(k,S,"after"===D[k]),w.nom=k);return C}var y=i.mixin,x=Object.prototype,j=x.toString,w=new Function,C=0,N="constructor",T=e.config.isDebug?a:r;return e.safeMixin=b.safeMixin=h,e.declare=b,b});//# sourceMappingURL=declare.js.map