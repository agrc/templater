//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){function n(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var i,o,s,r,a,d,l,h,c=[],u=[{cls:0,refs:[]}],p={},f=1,m=e.length,g=0;m>g;++g){for(s=e[g],s?"[object Function]"!=x.call(s)&&n("mixin #"+g+" is not a callable constructor.",t):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),o=s._meta?s._meta.bases:[s],r=0,i=o.length-1;i>=0;--i)a=o[i].prototype,a.hasOwnProperty("declaredClass")||(a.declaredClass="uniqName_"+C++),l=a.declaredClass,p.hasOwnProperty(l)||(p[l]={count:0,refs:[],cls:o[i]},++f),d=p[l],r&&r!==d&&(d.refs.push(r),++r.count),r=d;++r.count,u[0].refs.push(r)}for(;u.length;){for(r=u.pop(),c.push(r.cls),--f;h=r.refs,1==h.length;){if(r=h[0],!r||--r.count){r=0;break}c.push(r.cls),--f}if(r)for(g=0,m=h.length;m>g;++g)r=h[g],--r.count||u.push(r)}return f&&n("can't build consistent linearization",t),s=e[0],c[0]=s?s._meta&&s===c[c.length-s._meta.bases.length]?s._meta.bases.length:1:0,c}function s(e,t,i){var o,s,r,a,d,l,h,c,u,p=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=i),i=0,a=e.callee,o=o||a.nom,o||n("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,r=d.bases,u=p.p,o!=w){if(p.c!==a&&(u=0,l=r[0],d=l._meta,d.hidden[o]!==a)){s=d.chains,s&&"string"==typeof s[o]&&n("calling chained method with inherited: "+o,this.declaredClass);do if(d=l._meta,h=l.prototype,d&&(h[o]===a&&h.hasOwnProperty(o)||d.hidden[o]===a))break;while(l=r[++u]);u=l?u:-1}if(l=r[++u])if(h=l.prototype,l._meta&&h.hasOwnProperty(o))i=h[o];else{c=j[o];do if(h=l.prototype,i=h[o],i&&(l._meta?h.hasOwnProperty(o):i!==c))break;while(l=r[++u])}i=l&&i||j[o]}else{if(p.c!==a&&(u=0,d=r[0]._meta,d&&d.ctor!==a)){for(s=d.chains,s&&"manual"===s.constructor||n("calling chained constructor with inherited",this.declaredClass);(l=r[++u])&&(d=l._meta,!d||d.ctor!==a););u=l?u:-1}for(;(l=r[++u])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}return p.c=i,p.p=u,i?t===!0?i:i.apply(this,t||e):void 0}function r(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function a(e,t,i){var n=this.getInherited(e,t);return n?n.apply(this,i||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,i=0,n=t.length;n>i;++i)if(t[i]===e)return!0;return this instanceof e}function l(e,n){for(var o in n)o!=w&&n.hasOwnProperty(o)&&(e[o]=n[o]);if(t("bug-for-in-skips-shadowed"))for(var s=i._extraNames,r=s.length;r;)o=s[--r],o!=w&&n.hasOwnProperty(o)&&(e[o]=n[o])}function h(e,n){var o,s;for(o in n)s=n[o],s===j[o]&&o in j||o==w||("[object Function]"==x.call(s)&&(s.nom=o),e[o]=s);if(t("bug-for-in-skips-shadowed"))for(var r=i._extraNames,a=r.length;a;)o=r[--a],s=n[o],s===j[o]&&o in j||o==w||("[object Function]"==x.call(s)&&(s.nom=o),e[o]=s);return e}function c(e){return b.safeMixin(this.prototype,e),this}function u(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function p(e,t){return function(){var i,n,o,s,r=arguments,a=r,d=r[0],l=e.length;if(!(this instanceof r.callee))return v(r);if(t&&(d&&d.preamble||this.preamble))for(s=new Array(e.length),s[0]=r,n=0;d=r[0],d&&(i=d.preamble,i&&(r=i.apply(this,r)||r)),i=e[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(r=i.apply(this,r)||r),++n!=l;)s[n]=r;for(n=l-1;n>=0;--n)i=e[n],o=i._meta,i=o?o.ctor:i,i&&i.apply(this,s?s[n]:r);i=this.postscript,i&&i.apply(this,a)}}function f(e,t){return function(){var i,n=arguments,o=n,s=n[0];return this instanceof n.callee?(t&&(s&&(i=s.preamble,i&&(o=i.apply(this,o)||o)),i=this.preamble,i&&i.apply(this,o)),e&&e.apply(this,n),i=this.postscript,void(i&&i.apply(this,n))):v(n)}}function m(e){return function(){var t,i,n=arguments,o=0;if(!(this instanceof n.callee))return v(n);for(;t=e[o];++o)if(i=t._meta,t=i?i.ctor:t){t.apply(this,n);break}t=this.postscript,t&&t.apply(this,n)}}function g(e,t,i){return function(){var n,o,s,r=0,a=1;for(i&&(r=t.length-1,a=-1);n=t[r];r+=a)o=n._meta,s=(o?o.hidden:n.prototype)[e],s&&s.apply(this,arguments)}}function _(e){N.prototype=e.prototype;var t=new N;return N.prototype=null,t}function v(e){var t=e.callee,i=_(t);return t.apply(i,e),i}function b(e,t,a){"string"!=typeof e&&(a=t,t=e,e=""),a=a||{};var h,v,N,C,S,k,D,I=1,P=t;if("[object Array]"==x.call(t)?(k=o(t,e),N=k[0],I=k.length-N,t=k[I]):(k=[0],t?"[object Function]"==x.call(t)?(N=t._meta,k=k.concat(N?N.bases:t)):n("base class is not a callable constructor.",e):null!==t&&n("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(v=I-1;h=_(t),v;--v)N=k[v],(N._meta?l:y)(h,N.prototype),C=new Function,C.superclass=t,C.prototype=h,t=h.constructor=C;else h={};for(b.safeMixin(h,a),N=a.constructor,N!==j.constructor&&(N.nom=w,h.constructor=N),v=I-1;v;--v)N=k[v]._meta,N&&N.chains&&(D=y(D||{},N.chains));if(h["-chains-"]&&(D=y(D||{},h["-chains-"])),N=!D||!D.hasOwnProperty(w),k[0]=C=D&&"manual"===D.constructor?m(k):1==k.length?f(a.constructor,N):p(k,N),C._meta={bases:k,hidden:a,chains:D,parents:P,ctor:a.constructor},C.superclass=t&&t.prototype,C.extend=c,C.createSubclass=u,C.prototype=h,h.constructor=C,h.getInherited=r,h.isInstanceOf=d,h.inherited=T,h.__inherited=s,e&&(h.declaredClass=e,i.setObject(e,C)),D)for(S in D)h[S]&&"string"==typeof D[S]&&S!=w&&(N=h[S]=g(S,k,"after"===D[S]),N.nom=S);return C}var y=i.mixin,j=Object.prototype,x=j.toString,N=new Function,C=0,w="constructor",T=e.config.isDebug?a:s;return e.safeMixin=b.safeMixin=h,e.declare=b,b});//# sourceMappingURL=declare.js.map