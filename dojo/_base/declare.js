//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,n){function i(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var n,o,r,a,s,d,c,u,l=[],f=[{cls:0,refs:[]}],h={},p=1,m=e.length,g=0;m>g;++g){for(r=e[g],r?"[object Function]"!=x.call(r)&&i("mixin #"+g+" is not a callable constructor.",t):i("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),o=r._meta?r._meta.bases:[r],a=0,n=o.length-1;n>=0;--n)s=o[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),c=s.declaredClass,h.hasOwnProperty(c)||(h[c]={count:0,refs:[],cls:o[n]},++p),d=h[c],a&&a!==d&&(d.refs.push(a),++a.count),a=d;++a.count,f[0].refs.push(a)}for(;f.length;){for(a=f.pop(),l.push(a.cls),--p;u=a.refs,1==u.length;){if(a=u[0],!a||--a.count){a=0;break}l.push(a.cls),--p}if(a)for(g=0,m=u.length;m>g;++g)a=u[g],--a.count||f.push(a)}return p&&i("can't build consistent linearization",t),r=e[0],l[0]=r?r._meta&&r===l[l.length-r._meta.bases.length]?r._meta.bases.length:1:0,l}function r(e,t,n){var o,r,a,s,d,c,u,l,f,h=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=n),n=0,s=e.callee,o=o||s.nom,o||i("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,a=d.bases,f=h.p,o!=N){if(h.c!==s&&(f=0,c=a[0],d=c._meta,d.hidden[o]!==s)){r=d.chains,r&&"string"==typeof r[o]&&i("calling chained method with inherited: "+o,this.declaredClass);do if(d=c._meta,u=c.prototype,d&&(u[o]===s&&u.hasOwnProperty(o)||d.hidden[o]===s))break;while(c=a[++f]);f=c?f:-1}if(c=a[++f])if(u=c.prototype,c._meta&&u.hasOwnProperty(o))n=u[o];else{l=j[o];do if(u=c.prototype,n=u[o],n&&(c._meta?u.hasOwnProperty(o):n!==l))break;while(c=a[++f])}n=c&&n||j[o]}else{if(h.c!==s&&(f=0,d=a[0]._meta,d&&d.ctor!==s)){for(r=d.chains,r&&"manual"===r.constructor||i("calling chained constructor with inherited",this.declaredClass);(c=a[++f])&&(d=c._meta,!d||d.ctor!==s););f=c?f:-1}for(;(c=a[++f])&&(d=c._meta,!(n=d?d.ctor:c)););n=c&&n}return h.c=n,h.p=f,n?t===!0?n:n.apply(this,t||e):void 0}function a(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e,t,n){var i=this.getInherited(e,t);return i?i.apply(this,n||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,n=0,i=t.length;i>n;++n)if(t[n]===e)return!0;return this instanceof e}function c(e,i){for(var o in i)o!=N&&i.hasOwnProperty(o)&&(e[o]=i[o]);if(t("bug-for-in-skips-shadowed"))for(var r=n._extraNames,a=r.length;a;)o=r[--a],o!=N&&i.hasOwnProperty(o)&&(e[o]=i[o])}function u(e,i){var o,r;for(o in i)r=i[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);if(t("bug-for-in-skips-shadowed"))for(var a=n._extraNames,s=a.length;s;)o=a[--s],r=i[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);return e}function l(e){return b.safeMixin(this.prototype,e),this}function f(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function h(e,t){return function(){var n,i,o,r,a=arguments,s=a,d=a[0],c=e.length;if(!(this instanceof a.callee))return y(a);if(t&&(d&&d.preamble||this.preamble))for(r=new Array(e.length),r[0]=a,i=0;d=a[0],d&&(n=d.preamble,n&&(a=n.apply(this,a)||a)),n=e[i].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,n&&(a=n.apply(this,a)||a),++i!=c;)r[i]=a;for(i=c-1;i>=0;--i)n=e[i],o=n._meta,n=o?o.ctor:n,n&&n.apply(this,r?r[i]:a);n=this.postscript,n&&n.apply(this,s)}}function p(e,t){return function(){var n,i=arguments,o=i,r=i[0];return this instanceof i.callee?(t&&(r&&(n=r.preamble,n&&(o=n.apply(this,o)||o)),n=this.preamble,n&&n.apply(this,o)),e&&e.apply(this,i),n=this.postscript,void(n&&n.apply(this,i))):y(i)}}function m(e){return function(){var t,n,i=arguments,o=0;if(!(this instanceof i.callee))return y(i);for(;t=e[o];++o)if(n=t._meta,t=n?n.ctor:t){t.apply(this,i);break}t=this.postscript,t&&t.apply(this,i)}}function g(e,t,n){return function(){var i,o,r,a=0,s=1;for(n&&(a=t.length-1,s=-1);i=t[a];a+=s)o=i._meta,r=(o?o.hidden:i.prototype)[e],r&&r.apply(this,arguments)}}function v(e){w.prototype=e.prototype;var t=new w;return w.prototype=null,t}function y(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function b(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var u,y,w,C,E,k,S,D=1,A=t;if("[object Array]"==x.call(t)?(k=o(t,e),w=k[0],D=k.length-w,t=k[D]):(k=[0],t?"[object Function]"==x.call(t)?(w=t._meta,k=k.concat(w?w.bases:t)):i("base class is not a callable constructor.",e):null!==t&&i("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(y=D-1;u=v(t),y;--y)w=k[y],(w._meta?c:_)(u,w.prototype),C=new Function,C.superclass=t,C.prototype=u,t=u.constructor=C;else u={};for(b.safeMixin(u,s),w=s.constructor,w!==j.constructor&&(w.nom=N,u.constructor=w),y=D-1;y;--y)w=k[y]._meta,w&&w.chains&&(S=_(S||{},w.chains));if(u["-chains-"]&&(S=_(S||{},u["-chains-"])),w=!S||!S.hasOwnProperty(N),k[0]=C=S&&"manual"===S.constructor?m(k):1==k.length?p(s.constructor,w):h(k,w),C._meta={bases:k,hidden:s,chains:S,parents:A,ctor:s.constructor},C.superclass=t&&t.prototype,C.extend=l,C.createSubclass=f,C.prototype=u,u.constructor=C,u.getInherited=a,u.isInstanceOf=d,u.inherited=T,u.__inherited=r,e&&(u.declaredClass=e,n.setObject(e,C)),S)for(E in S)u[E]&&"string"==typeof S[E]&&E!=N&&(w=u[E]=g(E,k,"after"===S[E]),w.nom=E);return C}var _=n.mixin,j=Object.prototype,x=j.toString,w=new Function,C=0,N="constructor",T=e.config.isDebug?s:r;return e.safeMixin=b.safeMixin=u,e.declare=b,b});//# sourceMappingURL=declare.js.map