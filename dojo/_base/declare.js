//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(t,e,i){function n(t,e){throw new Error("declare"+(e?" "+e:"")+": "+t)}function o(t,e){for(var i,o,r,a,s,d,l,u,h=[],c=[{cls:0,refs:[]}],f={},p=1,g=t.length,m=0;g>m;++m){for(r=t[m],r?"[object Function]"!=x.call(r)&&n("mixin #"+m+" is not a callable constructor.",e):n("mixin #"+m+" is unknown. Did you use dojo.require to pull it in?",e),o=r._meta?r._meta.bases:[r],a=0,i=o.length-1;i>=0;--i)s=o[i].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),l=s.declaredClass,f.hasOwnProperty(l)||(f[l]={count:0,refs:[],cls:o[i]},++p),d=f[l],a&&a!==d&&(d.refs.push(a),++a.count),a=d;++a.count,c[0].refs.push(a)}for(;c.length;){for(a=c.pop(),h.push(a.cls),--p;u=a.refs,1==u.length;){if(a=u[0],!a||--a.count){a=0;break}h.push(a.cls),--p}if(a)for(m=0,g=u.length;g>m;++m)a=u[m],--a.count||c.push(a)}return p&&n("can't build consistent linearization",e),r=t[0],h[0]=r?r._meta&&r===h[h.length-r._meta.bases.length]?r._meta.bases.length:1:0,h}function r(t,e,i){var o,r,a,s,d,l,u,h,c,f=this._inherited=this._inherited||{};if("string"==typeof t&&(o=t,t=e,e=i),i=0,s=t.callee,o=o||s.nom,o||n("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,a=d.bases,c=f.p,o!=N){if(f.c!==s&&(c=0,l=a[0],d=l._meta,d.hidden[o]!==s)){r=d.chains,r&&"string"==typeof r[o]&&n("calling chained method with inherited: "+o,this.declaredClass);do if(d=l._meta,u=l.prototype,d&&(u[o]===s&&u.hasOwnProperty(o)||d.hidden[o]===s))break;while(l=a[++c]);c=l?c:-1}if(l=a[++c])if(u=l.prototype,l._meta&&u.hasOwnProperty(o))i=u[o];else{h=j[o];do if(u=l.prototype,i=u[o],i&&(l._meta?u.hasOwnProperty(o):i!==h))break;while(l=a[++c])}i=l&&i||j[o]}else{if(f.c!==s&&(c=0,d=a[0]._meta,d&&d.ctor!==s)){for(r=d.chains,r&&"manual"===r.constructor||n("calling chained constructor with inherited",this.declaredClass);(l=a[++c])&&(d=l._meta,!d||d.ctor!==s););c=l?c:-1}for(;(l=a[++c])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}return f.c=i,f.p=c,i?e===!0?i:i.apply(this,e||t):void 0}function a(t,e){return"string"==typeof t?this.__inherited(t,e,!0):this.__inherited(t,!0)}function s(t,e,i){var n=this.getInherited(t,e);return n?n.apply(this,i||e||t):void 0}function d(t){for(var e=this.constructor._meta.bases,i=0,n=e.length;n>i;++i)if(e[i]===t)return!0;return this instanceof t}function l(t,n){for(var o in n)o!=N&&n.hasOwnProperty(o)&&(t[o]=n[o]);if(e("bug-for-in-skips-shadowed"))for(var r=i._extraNames,a=r.length;a;)o=r[--a],o!=N&&n.hasOwnProperty(o)&&(t[o]=n[o])}function u(t,n){var o,r;for(o in n)r=n[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),t[o]=r);if(e("bug-for-in-skips-shadowed"))for(var a=i._extraNames,s=a.length;s;)o=a[--s],r=n[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),t[o]=r);return t}function h(t){return y.safeMixin(this.prototype,t),this}function c(t,e){return t instanceof Array||"function"==typeof t||(e=t,t=void 0),e=e||{},t=t||[],y([this].concat(t),e)}function f(t,e){return function(){var i,n,o,r,a=arguments,s=a,d=a[0],l=t.length;if(!(this instanceof a.callee))return v(a);if(e&&(d&&d.preamble||this.preamble))for(r=new Array(t.length),r[0]=a,n=0;d=a[0],d&&(i=d.preamble,i&&(a=i.apply(this,a)||a)),i=t[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(a=i.apply(this,a)||a),++n!=l;)r[n]=a;for(n=l-1;n>=0;--n)i=t[n],o=i._meta,i=o?o.ctor:i,i&&i.apply(this,r?r[n]:a);i=this.postscript,i&&i.apply(this,s)}}function p(t,e){return function(){var i,n=arguments,o=n,r=n[0];return this instanceof n.callee?(e&&(r&&(i=r.preamble,i&&(o=i.apply(this,o)||o)),i=this.preamble,i&&i.apply(this,o)),t&&t.apply(this,n),i=this.postscript,void(i&&i.apply(this,n))):v(n)}}function g(t){return function(){var e,i,n=arguments,o=0;if(!(this instanceof n.callee))return v(n);for(;e=t[o];++o)if(i=e._meta,e=i?i.ctor:e){e.apply(this,n);break}e=this.postscript,e&&e.apply(this,n)}}function m(t,e,i){return function(){var n,o,r,a=0,s=1;for(i&&(a=e.length-1,s=-1);n=e[a];a+=s)o=n._meta,r=(o?o.hidden:n.prototype)[t],r&&r.apply(this,arguments)}}function b(t){w.prototype=t.prototype;var e=new w;return w.prototype=null,e}function v(t){var e=t.callee,i=b(e);return e.apply(i,t),i}function y(t,e,s){"string"!=typeof t&&(s=e,e=t,t=""),s=s||{};var u,v,w,C,k,D,B,T=1,A=e;if("[object Array]"==x.call(e)?(D=o(e,t),w=D[0],T=D.length-w,e=D[T]):(D=[0],e?"[object Function]"==x.call(e)?(w=e._meta,D=D.concat(w?w.bases:e)):n("base class is not a callable constructor.",t):null!==e&&n("unknown base class. Did you use dojo.require to pull it in?",t)),e)for(v=T-1;u=b(e),v;--v)w=D[v],(w._meta?l:_)(u,w.prototype),C=new Function,C.superclass=e,C.prototype=u,e=u.constructor=C;else u={};for(y.safeMixin(u,s),w=s.constructor,w!==j.constructor&&(w.nom=N,u.constructor=w),v=T-1;v;--v)w=D[v]._meta,w&&w.chains&&(B=_(B||{},w.chains));if(u["-chains-"]&&(B=_(B||{},u["-chains-"])),w=!B||!B.hasOwnProperty(N),D[0]=C=B&&"manual"===B.constructor?g(D):1==D.length?p(s.constructor,w):f(D,w),C._meta={bases:D,hidden:s,chains:B,parents:A,ctor:s.constructor},C.superclass=e&&e.prototype,C.extend=h,C.createSubclass=c,C.prototype=u,u.constructor=C,u.getInherited=a,u.isInstanceOf=d,u.inherited=S,u.__inherited=r,t&&(u.declaredClass=t,i.setObject(t,C)),B)for(k in B)u[k]&&"string"==typeof B[k]&&k!=N&&(w=u[k]=m(k,D,"after"===B[k]),w.nom=k);return C}var _=i.mixin,j=Object.prototype,x=j.toString,w=new Function,C=0,N="constructor",S=t.config.isDebug?s:r;return t.safeMixin=y.safeMixin=u,t.declare=y,y});//# sourceMappingURL=declare.js.map