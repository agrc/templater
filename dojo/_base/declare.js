//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,n){function i(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function o(e,t){for(var n,o,r,a,s,d,c,l,u=[],h=[{cls:0,refs:[]}],f={},p=1,m=e.length,g=0;m>g;++g){for(r=e[g],r?"[object Function]"!=x.call(r)&&i("mixin #"+g+" is not a callable constructor.",t):i("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),o=r._meta?r._meta.bases:[r],a=0,n=o.length-1;n>=0;--n)s=o[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),c=s.declaredClass,f.hasOwnProperty(c)||(f[c]={count:0,refs:[],cls:o[n]},++p),d=f[c],a&&a!==d&&(d.refs.push(a),++a.count),a=d;++a.count,h[0].refs.push(a)}for(;h.length;){for(a=h.pop(),u.push(a.cls),--p;l=a.refs,1==l.length;){if(a=l[0],!a||--a.count){a=0;break}u.push(a.cls),--p}if(a)for(g=0,m=l.length;m>g;++g)a=l[g],--a.count||h.push(a)}return p&&i("can't build consistent linearization",t),r=e[0],u[0]=r?r._meta&&r===u[u.length-r._meta.bases.length]?r._meta.bases.length:1:0,u}function r(e,t,n){var o,r,a,s,d,c,l,u,h,f=this._inherited=this._inherited||{};if("string"==typeof e&&(o=e,e=t,t=n),n=0,s=e.callee,o=o||s.nom,o||i("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,a=d.bases,h=f.p,o!=N){if(f.c!==s&&(h=0,c=a[0],d=c._meta,d.hidden[o]!==s)){r=d.chains,r&&"string"==typeof r[o]&&i("calling chained method with inherited: "+o,this.declaredClass);do if(d=c._meta,l=c.prototype,d&&(l[o]===s&&l.hasOwnProperty(o)||d.hidden[o]===s))break;while(c=a[++h]);h=c?h:-1}if(c=a[++h])if(l=c.prototype,c._meta&&l.hasOwnProperty(o))n=l[o];else{u=j[o];do if(l=c.prototype,n=l[o],n&&(c._meta?l.hasOwnProperty(o):n!==u))break;while(c=a[++h])}n=c&&n||j[o]}else{if(f.c!==s&&(h=0,d=a[0]._meta,d&&d.ctor!==s)){for(r=d.chains,r&&"manual"===r.constructor||i("calling chained constructor with inherited",this.declaredClass);(c=a[++h])&&(d=c._meta,!d||d.ctor!==s););h=c?h:-1}for(;(c=a[++h])&&(d=c._meta,!(n=d?d.ctor:c)););n=c&&n}return f.c=n,f.p=h,n?t===!0?n:n.apply(this,t||e):void 0}function a(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e,t,n){var i=this.getInherited(e,t);return i?i.apply(this,n||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,n=0,i=t.length;i>n;++n)if(t[n]===e)return!0;return this instanceof e}function c(e,i){for(var o in i)o!=N&&i.hasOwnProperty(o)&&(e[o]=i[o]);if(t("bug-for-in-skips-shadowed"))for(var r=n._extraNames,a=r.length;a;)o=r[--a],o!=N&&i.hasOwnProperty(o)&&(e[o]=i[o])}function l(e,i){var o,r;for(o in i)r=i[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);if(t("bug-for-in-skips-shadowed"))for(var a=n._extraNames,s=a.length;s;)o=a[--s],r=i[o],r===j[o]&&o in j||o==N||("[object Function]"==x.call(r)&&(r.nom=o),e[o]=r);return e}function u(e){return b.safeMixin(this.prototype,e),this}function h(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function f(e,t){return function(){var n,i,o,r,a=arguments,s=a,d=a[0],c=e.length;if(!(this instanceof a.callee))return y(a);if(t&&(d&&d.preamble||this.preamble))for(r=new Array(e.length),r[0]=a,i=0;d=a[0],d&&(n=d.preamble,n&&(a=n.apply(this,a)||a)),n=e[i].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,n&&(a=n.apply(this,a)||a),++i!=c;)r[i]=a;for(i=c-1;i>=0;--i)n=e[i],o=n._meta,n=o?o.ctor:n,n&&n.apply(this,r?r[i]:a);n=this.postscript,n&&n.apply(this,s)}}function p(e,t){return function(){var n,i=arguments,o=i,r=i[0];return this instanceof i.callee?(t&&(r&&(n=r.preamble,n&&(o=n.apply(this,o)||o)),n=this.preamble,n&&n.apply(this,o)),e&&e.apply(this,i),n=this.postscript,void(n&&n.apply(this,i))):y(i)}}function m(e){return function(){var t,n,i=arguments,o=0;if(!(this instanceof i.callee))return y(i);for(;t=e[o];++o)if(n=t._meta,t=n?n.ctor:t){t.apply(this,i);break}t=this.postscript,t&&t.apply(this,i)}}function g(e,t,n){return function(){var i,o,r,a=0,s=1;for(n&&(a=t.length-1,s=-1);i=t[a];a+=s)o=i._meta,r=(o?o.hidden:i.prototype)[e],r&&r.apply(this,arguments)}}function v(e){w.prototype=e.prototype;var t=new w;return w.prototype=null,t}function y(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function b(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var l,y,w,C,T,E,S,A=1,D=t;if("[object Array]"==x.call(t)?(E=o(t,e),w=E[0],A=E.length-w,t=E[A]):(E=[0],t?"[object Function]"==x.call(t)?(w=t._meta,E=E.concat(w?w.bases:t)):i("base class is not a callable constructor.",e):null!==t&&i("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(y=A-1;l=v(t),y;--y)w=E[y],(w._meta?c:_)(l,w.prototype),C=new Function,C.superclass=t,C.prototype=l,t=l.constructor=C;else l={};for(b.safeMixin(l,s),w=s.constructor,w!==j.constructor&&(w.nom=N,l.constructor=w),y=A-1;y;--y)w=E[y]._meta,w&&w.chains&&(S=_(S||{},w.chains));if(l["-chains-"]&&(S=_(S||{},l["-chains-"])),w=!S||!S.hasOwnProperty(N),E[0]=C=S&&"manual"===S.constructor?m(E):1==E.length?p(s.constructor,w):f(E,w),C._meta={bases:E,hidden:s,chains:S,parents:D,ctor:s.constructor},C.superclass=t&&t.prototype,C.extend=u,C.createSubclass=h,C.prototype=l,l.constructor=C,l.getInherited=a,l.isInstanceOf=d,l.inherited=k,l.__inherited=r,e&&(l.declaredClass=e,n.setObject(e,C)),S)for(T in S)l[T]&&"string"==typeof S[T]&&T!=N&&(w=l[T]=g(T,E,"after"===S[T]),w.nom=T);return C}var _=n.mixin,j=Object.prototype,x=j.toString,w=new Function,C=0,N="constructor",k=e.config.isDebug?s:r;return e.safeMixin=b.safeMixin=l,e.declare=b,b});//# sourceMappingURL=declare.js.map