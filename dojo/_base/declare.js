//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){function o(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function n(e,t){for(var i,n,r,s,a,d,l,h,c=[],u=[{cls:0,refs:[]}],p={},f=1,m=e.length,g=0;m>g;++g){for(r=e[g],r?"[object Function]"!=x.call(r)&&o("mixin #"+g+" is not a callable constructor.",t):o("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),n=r._meta?r._meta.bases:[r],s=0,i=n.length-1;i>=0;--i)a=n[i].prototype,a.hasOwnProperty("declaredClass")||(a.declaredClass="uniqName_"+C++),l=a.declaredClass,p.hasOwnProperty(l)||(p[l]={count:0,refs:[],cls:n[i]},++f),d=p[l],s&&s!==d&&(d.refs.push(s),++s.count),s=d;++s.count,u[0].refs.push(s)}for(;u.length;){for(s=u.pop(),c.push(s.cls),--f;h=s.refs,1==h.length;){if(s=h[0],!s||--s.count){s=0;break}c.push(s.cls),--f}if(s)for(g=0,m=h.length;m>g;++g)s=h[g],--s.count||u.push(s)}return f&&o("can't build consistent linearization",t),r=e[0],c[0]=r?r._meta&&r===c[c.length-r._meta.bases.length]?r._meta.bases.length:1:0,c}function r(e,t,i){var n,r,s,a,d,l,h,c,u,p=this._inherited=this._inherited||{};if("string"==typeof e&&(n=e,e=t,t=i),i=0,a=e.callee,n=n||a.nom,n||o("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,s=d.bases,u=p.p,n!=w){if(p.c!==a&&(u=0,l=s[0],d=l._meta,d.hidden[n]!==a)){r=d.chains,r&&"string"==typeof r[n]&&o("calling chained method with inherited: "+n,this.declaredClass);do if(d=l._meta,h=l.prototype,d&&(h[n]===a&&h.hasOwnProperty(n)||d.hidden[n]===a))break;while(l=s[++u]);u=l?u:-1}if(l=s[++u])if(h=l.prototype,l._meta&&h.hasOwnProperty(n))i=h[n];else{c=j[n];do if(h=l.prototype,i=h[n],i&&(l._meta?h.hasOwnProperty(n):i!==c))break;while(l=s[++u])}i=l&&i||j[n]}else{if(p.c!==a&&(u=0,d=s[0]._meta,d&&d.ctor!==a)){for(r=d.chains,r&&"manual"===r.constructor||o("calling chained constructor with inherited",this.declaredClass);(l=s[++u])&&(d=l._meta,!d||d.ctor!==a););u=l?u:-1}for(;(l=s[++u])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}return p.c=i,p.p=u,i?t===!0?i:i.apply(this,t||e):void 0}function s(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function a(e,t,i){var o=this.getInherited(e,t);return o?o.apply(this,i||t||e):void 0}function d(e){for(var t=this.constructor._meta.bases,i=0,o=t.length;o>i;++i)if(t[i]===e)return!0;return this instanceof e}function l(e,o){for(var n in o)n!=w&&o.hasOwnProperty(n)&&(e[n]=o[n]);if(t("bug-for-in-skips-shadowed"))for(var r=i._extraNames,s=r.length;s;)n=r[--s],n!=w&&o.hasOwnProperty(n)&&(e[n]=o[n])}function h(e,o){var n,r;for(n in o)r=o[n],r===j[n]&&n in j||n==w||("[object Function]"==x.call(r)&&(r.nom=n),e[n]=r);if(t("bug-for-in-skips-shadowed"))for(var s=i._extraNames,a=s.length;a;)n=s[--a],r=o[n],r===j[n]&&n in j||n==w||("[object Function]"==x.call(r)&&(r.nom=n),e[n]=r);return e}function c(e){return b.safeMixin(this.prototype,e),this}function u(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function p(e,t){return function(){var i,o,n,r,s=arguments,a=s,d=s[0],l=e.length;if(!(this instanceof s.callee))return _(s);if(t&&(d&&d.preamble||this.preamble))for(r=new Array(e.length),r[0]=s,o=0;d=s[0],d&&(i=d.preamble,i&&(s=i.apply(this,s)||s)),i=e[o].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(s=i.apply(this,s)||s),++o!=l;)r[o]=s;for(o=l-1;o>=0;--o)i=e[o],n=i._meta,i=n?n.ctor:i,i&&i.apply(this,r?r[o]:s);i=this.postscript,i&&i.apply(this,a)}}function f(e,t){return function(){var i,o=arguments,n=o,r=o[0];return this instanceof o.callee?(t&&(r&&(i=r.preamble,i&&(n=i.apply(this,n)||n)),i=this.preamble,i&&i.apply(this,n)),e&&e.apply(this,o),i=this.postscript,void(i&&i.apply(this,o))):_(o)}}function m(e){return function(){var t,i,o=arguments,n=0;if(!(this instanceof o.callee))return _(o);for(;t=e[n];++n)if(i=t._meta,t=i?i.ctor:t){t.apply(this,o);break}t=this.postscript,t&&t.apply(this,o)}}function g(e,t,i){return function(){var o,n,r,s=0,a=1;for(i&&(s=t.length-1,a=-1);o=t[s];s+=a)n=o._meta,r=(n?n.hidden:o.prototype)[e],r&&r.apply(this,arguments)}}function v(e){N.prototype=e.prototype;var t=new N;return N.prototype=null,t}function _(e){var t=e.callee,i=v(t);return t.apply(i,e),i}function b(e,t,a){"string"!=typeof e&&(a=t,t=e,e=""),a=a||{};var h,_,N,C,k,S,I,D=1,M=t;if("[object Array]"==x.call(t)?(S=n(t,e),N=S[0],D=S.length-N,t=S[D]):(S=[0],t?"[object Function]"==x.call(t)?(N=t._meta,S=S.concat(N?N.bases:t)):o("base class is not a callable constructor.",e):null!==t&&o("unknown base class. Did you use dojo.require to pull it in?",e)),t)for(_=D-1;h=v(t),_;--_)N=S[_],(N._meta?l:y)(h,N.prototype),C=new Function,C.superclass=t,C.prototype=h,t=h.constructor=C;else h={};for(b.safeMixin(h,a),N=a.constructor,N!==j.constructor&&(N.nom=w,h.constructor=N),_=D-1;_;--_)N=S[_]._meta,N&&N.chains&&(I=y(I||{},N.chains));if(h["-chains-"]&&(I=y(I||{},h["-chains-"])),N=!I||!I.hasOwnProperty(w),S[0]=C=I&&"manual"===I.constructor?m(S):1==S.length?f(a.constructor,N):p(S,N),C._meta={bases:S,hidden:a,chains:I,parents:M,ctor:a.constructor},C.superclass=t&&t.prototype,C.extend=c,C.createSubclass=u,C.prototype=h,h.constructor=C,h.getInherited=s,h.isInstanceOf=d,h.inherited=T,h.__inherited=r,e&&(h.declaredClass=e,i.setObject(e,C)),I)for(k in I)h[k]&&"string"==typeof I[k]&&k!=w&&(N=h[k]=g(k,S,"after"===I[k]),N.nom=k);return C}var y=i.mixin,j=Object.prototype,x=j.toString,N=new Function,C=0,w="constructor",T=e.config.isDebug?a:r;return e.safeMixin=b.safeMixin=h,e.declare=b,b});//# sourceMappingURL=declare.js.map