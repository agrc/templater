//>>built
define("dojo/_base/declare",["./kernel","../has","./lang"],function(t,e,i){function n(t,e){throw new Error("declare"+(e?" "+e:"")+": "+t)}function o(t,e){for(var i,o,r,a,s,d,l,u,h=[],c=[{cls:0,refs:[]}],p={},f=1,m=t.length,g=0;g<m;++g){for(r=t[g],r?"[object Function]"!=x.call(r)&&n("mixin #"+g+" is not a callable constructor.",e):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",e),o=r._meta?r._meta.bases:[r],a=0,i=o.length-1;i>=0;--i)s=o[i].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+C++),l=s.declaredClass,p.hasOwnProperty(l)||(p[l]={count:0,refs:[],cls:o[i]},++f),d=p[l],a&&a!==d&&(d.refs.push(a),++a.count),a=d;++a.count,c[0].refs.push(a)}for(;c.length;){for(a=c.pop(),h.push(a.cls),--f;u=a.refs,1==u.length;){if(!(a=u[0])||--a.count){a=0;break}h.push(a.cls),--f}if(a)for(g=0,m=u.length;g<m;++g)a=u[g],--a.count||c.push(a)}return f&&n("can't build consistent linearization",e),r=t[0],h[0]=r?r._meta&&r===h[h.length-r._meta.bases.length]?r._meta.bases.length:1:0,h}function r(t,e,i){var o,r,a,s,d,l,u,h,c,p=this._inherited=this._inherited||{};if("string"==typeof t&&(o=t,t=e,e=i),i=0,s=t.callee,o=o||s.nom,o||n("can't deduce a name to call inherited()",this.declaredClass),d=this.constructor._meta,a=d.bases,c=p.p,o!=k){if(p.c!==s&&(c=0,l=a[0],d=l._meta,d.hidden[o]!==s)){r=d.chains,r&&"string"==typeof r[o]&&n("calling chained method with inherited: "+o,this.declaredClass);do{if(d=l._meta,u=l.prototype,d&&(u[o]===s&&u.hasOwnProperty(o)||d.hidden[o]===s))break}while(l=a[++c]);c=l?c:-1}if(l=a[++c])if(u=l.prototype,l._meta&&u.hasOwnProperty(o))i=u[o];else{h=w[o];do{if(u=l.prototype,(i=u[o])&&(l._meta?u.hasOwnProperty(o):i!==h))break}while(l=a[++c])}i=l&&i||w[o]}else{if(p.c!==s&&(c=0,(d=a[0]._meta)&&d.ctor!==s)){for(r=d.chains,r&&"manual"===r.constructor||n("calling chained constructor with inherited",this.declaredClass);(l=a[++c])&&(!(d=l._meta)||d.ctor!==s););c=l?c:-1}for(;(l=a[++c])&&(d=l._meta,!(i=d?d.ctor:l)););i=l&&i}if(p.c=i,p.p=c,i)return!0===e?i:i.apply(this,e||t)}function a(t,e){return"string"==typeof t?this.__inherited(t,e,!0):this.__inherited(t,!0)}function s(t,e,i){var n=this.getInherited(t,e);if(n)return n.apply(this,i||e||t)}function d(t){for(var e=this.constructor._meta.bases,i=0,n=e.length;i<n;++i)if(e[i]===t)return!0;return this instanceof t}function l(t,n){for(var o in n)o!=k&&n.hasOwnProperty(o)&&(t[o]=n[o]);if(e("bug-for-in-skips-shadowed"))for(var r=i._extraNames,a=r.length;a;)(o=r[--a])!=k&&n.hasOwnProperty(o)&&(t[o]=n[o])}function u(t,n){var o,r;for(o in n)(r=n[o])===w[o]&&o in w||o==k||("[object Function]"==x.call(r)&&(r.nom=o),t[o]=r);if(e("bug-for-in-skips-shadowed")&&n)for(var a=i._extraNames,s=a.length;s;)o=a[--s],(r=n[o])===w[o]&&o in w||o==k||("[object Function]"==x.call(r)&&(r.nom=o),t[o]=r);return t}function h(t){return _.safeMixin(this.prototype,t),this}function c(t,e){return t instanceof Array||"function"==typeof t||(e=t,t=void 0),e=e||{},t=t||[],_([this].concat(t),e)}function p(t,e){return function(){var i,n,o,r,a=arguments,s=a,d=a[0],l=t.length;if(!(this instanceof a.callee))return b(a);if(e&&(d&&d.preamble||this.preamble))for(r=new Array(t.length),r[0]=a,n=0;d=a[0],d&&(i=d.preamble)&&(a=i.apply(this,a)||a),i=t[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,i&&(a=i.apply(this,a)||a),++n!=l;)r[n]=a;for(n=l-1;n>=0;--n)i=t[n],o=i._meta,(i=o?o.ctor:i)&&i.apply(this,r?r[n]:a);(i=this.postscript)&&i.apply(this,s)}}function f(t,e){return function(){var i,n=arguments,o=n,r=n[0];if(!(this instanceof n.callee))return b(n);e&&(r&&(i=r.preamble)&&(o=i.apply(this,o)||o),(i=this.preamble)&&i.apply(this,o)),t&&t.apply(this,n),(i=this.postscript)&&i.apply(this,n)}}function m(t){return function(){var e,i,n=arguments,o=0;if(!(this instanceof n.callee))return b(n);for(;e=t[o];++o)if(i=e._meta,e=i?i.ctor:e){e.apply(this,n);break}(e=this.postscript)&&e.apply(this,n)}}function g(t,e,i){return function(){var n,o,r,a=0,s=1;for(i&&(a=e.length-1,s=-1);n=e[a];a+=s)o=n._meta,(r=(o?o.hidden:n.prototype)[t])&&r.apply(this,arguments)}}function v(t){y.prototype=t.prototype;var e=new y;return y.prototype=null,e}function b(t){var e=t.callee,i=v(e);return e.apply(i,t),i}function _(t,s,u){"string"!=typeof t&&(u=s,s=t,t=""),u=u||{};var b,y,C,S,D,T,I,B=1,P=s;if("[object Array]"==x.call(s)?(T=o(s,t),C=T[0],B=T.length-C,s=T[B]):(T=[0],s?"[object Function]"==x.call(s)?(C=s._meta,T=T.concat(C?C.bases:s)):n("base class is not a callable constructor.",t):null!==s&&n("unknown base class. Did you use dojo.require to pull it in?",t)),s)for(y=B-1;b=v(s),y;--y)C=T[y],(C._meta?l:j)(b,C.prototype),S=e("csp-restrictions")?function(){}:new Function,S.superclass=s,S.prototype=b,s=b.constructor=S;else b={};for(_.safeMixin(b,u),C=u.constructor,C!==w.constructor&&(C.nom=k,b.constructor=C),y=B-1;y;--y)(C=T[y]._meta)&&C.chains&&(I=j(I||{},C.chains));if(b["-chains-"]&&(I=j(I||{},b["-chains-"])),s&&s.prototype&&s.prototype["-chains-"]&&(I=j(I||{},s.prototype["-chains-"])),C=!I||!I.hasOwnProperty(k),T[0]=S=I&&"manual"===I.constructor?m(T):1==T.length?f(u.constructor,C):p(T,C),S._meta={bases:T,hidden:u,chains:I,parents:P,ctor:u.constructor},S.superclass=s&&s.prototype,S.extend=h,S.createSubclass=c,S.prototype=b,b.constructor=S,b.getInherited=a,b.isInstanceOf=d,b.inherited=N,b.__inherited=r,t&&(b.declaredClass=t,i.setObject(t,S)),I)for(D in I)b[D]&&"string"==typeof I[D]&&D!=k&&(C=b[D]=g(D,T,"after"===I[D]),C.nom=D);return S}var y,j=i.mixin,w=Object.prototype,x=w.toString,C=0,k="constructor";y=e("csp-restrictions")?function(){}:new Function;var N=t.config.isDebug?s:r;return t.safeMixin=_.safeMixin=u,t.declare=_,_});//# sourceMappingURL=declare.js.map