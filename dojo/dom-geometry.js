//>>built
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,i,o){function n(e,t,i,o,n,r){r=r||"px";var s=e.style;isNaN(t)||(s.left=t+r),isNaN(i)||(s.top=i+r),o>=0&&(s.width=o+r),n>=0&&(s.height=n+r)}function r(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function s(e){return"border-box"==a.boxModel||"table"==e.tagName.toLowerCase()||r(e)}var a={};a.boxModel="content-box",e("ie")&&(a.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),a.getPadExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.paddingLeft),a=r(e,n.paddingTop),d=r(e,n.paddingRight),l=r(e,n.paddingBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}};var d="none";a.getBorderExtents=function(e,t){e=i.byId(e);var n=o.toPixelValue,r=t||o.getComputedStyle(e),s=r.borderLeftStyle!=d?n(e,r.borderLeftWidth):0,a=r.borderTopStyle!=d?n(e,r.borderTopWidth):0,l=r.borderRightStyle!=d?n(e,r.borderRightWidth):0,c=r.borderBottomStyle!=d?n(e,r.borderBottomWidth):0;return{l:s,t:a,r:l,b:c,w:s+l,h:a+c}},a.getPadBorderExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=a.getPadExtents(e,n),s=a.getBorderExtents(e,n);return{l:r.l+s.l,t:r.t+s.t,r:r.r+s.r,b:r.b+s.b,w:r.w+s.w,h:r.h+s.h}},a.getMarginExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.marginLeft),a=r(e,n.marginTop),d=r(e,n.marginRight),l=r(e,n.marginBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}},a.getMarginBox=function(t,n){t=i.byId(t);var r,s=n||o.getComputedStyle(t),l=a.getMarginExtents(t,s),c=t.offsetLeft-l.l,u=t.offsetTop-l.t,h=t.parentNode,f=o.toPixelValue;if(e("mozilla")){var p=parseFloat(s.left),m=parseFloat(s.top);isNaN(p)||isNaN(m)?h&&h.style&&(r=o.getComputedStyle(h),"visible"!=r.overflow&&(c+=r.borderLeftStyle!=d?f(t,r.borderLeftWidth):0,u+=r.borderTopStyle!=d?f(t,r.borderTopWidth):0)):(c=p,u=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&h&&(r=o.getComputedStyle(h),c-=r.borderLeftStyle!=d?f(t,r.borderLeftWidth):0,u-=r.borderTopStyle!=d?f(t,r.borderTopWidth):0);return{l:c,t:u,w:t.offsetWidth+l.w,h:t.offsetHeight+l.h}},a.getContentBox=function(t,n){t=i.byId(t);var r,s=n||o.getComputedStyle(t),d=t.clientWidth,l=a.getPadExtents(t,s),c=a.getBorderExtents(t,s);return d?(r=t.clientHeight,c.w=c.h=0):(d=t.offsetWidth,r=t.offsetHeight),e("opera")&&(l.l+=c.l,l.t+=c.t),{l:l.l,t:l.t,w:d-l.w-c.w,h:r-l.h-c.h}},a.setContentSize=function(e,t,o){e=i.byId(e);var r=t.w,d=t.h;if(s(e)){var l=a.getPadBorderExtents(e,o);r>=0&&(r+=l.w),d>=0&&(d+=l.h)}n(e,NaN,NaN,r,d)};var l={l:0,t:0,w:0,h:0};return a.setMarginBox=function(t,d,c){t=i.byId(t);var u=c||o.getComputedStyle(t),h=d.w,f=d.h,p=s(t)?l:a.getPadBorderExtents(t,u),m=a.getMarginExtents(t,u);if(e("webkit")&&r(t)){var g=t.style;h>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px")}h>=0&&(h=Math.max(h-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),n(t,d.l,d.t,h,f)},a.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},a.docScroll=function(i){i=i||t.doc;var o=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=e("quirks")?t.body(i):i.documentElement)&&{x:a.fixIeBiDiScrollLeft(o.scrollLeft||0,i),y:o.scrollTop||0}},a.getIeDocumentElementOffset=function(i){i=i||t.doc;var o=i.documentElement;if(e("ie")<8){var n=o.getBoundingClientRect(),r=n.left,s=n.top;return e("ie")<7&&(r+=o.clientLeft,s+=o.clientTop),{x:0>r?0:r,y:0>s?0:s}}return{x:0,y:0}},a.fixIeBiDiScrollLeft=function(i,o){o=o||t.doc;var n=e("ie");if(n&&!a.isBodyLtr(o)){var r=e("quirks"),s=r?t.body(o):o.documentElement,d=t.global;return 6==n&&!r&&d.frameElement&&s.scrollHeight>s.clientHeight&&(i+=s.clientLeft),8>n||r?i+s.clientWidth-s.scrollWidth:-i}return i},a.position=function(o,n){o=i.byId(o);var r=t.body(o.ownerDocument),s=o.getBoundingClientRect();if(s={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top},e("ie")<9){var d=a.getIeDocumentElementOffset(o.ownerDocument);s.x-=d.x+(e("quirks")?r.clientLeft+r.offsetLeft:0),s.y-=d.y+(e("quirks")?r.clientTop+r.offsetTop:0)}if(n){var l=a.docScroll(o.ownerDocument);s.x+=l.x,s.y+=l.y}return s},a.getMarginSize=function(e,t){e=i.byId(e);var n=a.getMarginExtents(e,t||o.getComputedStyle(e)),r=e.getBoundingClientRect();return{w:r.right-r.left+n.w,h:r.bottom-r.top+n.h}},a.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var i=t.target,o=i&&i.ownerDocument||document,n=e("quirks")?o.body:o.documentElement,r=a.getIeDocumentElementOffset(o);t.pageX=t.clientX+a.fixIeBiDiScrollLeft(n.scrollLeft||0,o)-r.x,t.pageY=t.clientY+(n.scrollTop||0)-r.y}},a});//# sourceMappingURL=dom-geometry.js.map