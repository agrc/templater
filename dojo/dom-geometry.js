//>>built
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(t,e,i,o){function n(t,e,i,o,n,r){r=r||"px";var s=t.style;isNaN(e)||(s.left=e+r),isNaN(i)||(s.top=i+r),o>=0&&(s.width=o+r),n>=0&&(s.height=n+r)}function r(t){return"button"==t.tagName.toLowerCase()||"input"==t.tagName.toLowerCase()&&"button"==(t.getAttribute("type")||"").toLowerCase()}function s(t){return"border-box"==a.boxModel||"table"==t.tagName.toLowerCase()||r(t)}var a={};a.boxModel="content-box",t("ie")&&(a.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),a.getPadExtents=function(t,e){t=i.byId(t);var n=e||o.getComputedStyle(t),r=o.toPixelValue,s=r(t,n.paddingLeft),a=r(t,n.paddingTop),d=r(t,n.paddingRight),l=r(t,n.paddingBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}};var d="none";a.getBorderExtents=function(t,e){t=i.byId(t);var n=o.toPixelValue,r=e||o.getComputedStyle(t),s=r.borderLeftStyle!=d?n(t,r.borderLeftWidth):0,a=r.borderTopStyle!=d?n(t,r.borderTopWidth):0,l=r.borderRightStyle!=d?n(t,r.borderRightWidth):0,c=r.borderBottomStyle!=d?n(t,r.borderBottomWidth):0;return{l:s,t:a,r:l,b:c,w:s+l,h:a+c}},a.getPadBorderExtents=function(t,e){t=i.byId(t);var n=e||o.getComputedStyle(t),r=a.getPadExtents(t,n),s=a.getBorderExtents(t,n);return{l:r.l+s.l,t:r.t+s.t,r:r.r+s.r,b:r.b+s.b,w:r.w+s.w,h:r.h+s.h}},a.getMarginExtents=function(t,e){t=i.byId(t);var n=e||o.getComputedStyle(t),r=o.toPixelValue,s=r(t,n.marginLeft),a=r(t,n.marginTop),d=r(t,n.marginRight),l=r(t,n.marginBottom);return{l:s,t:a,r:d,b:l,w:s+d,h:a+l}},a.getMarginBox=function(e,n){e=i.byId(e);var r,s=n||o.getComputedStyle(e),l=a.getMarginExtents(e,s),c=e.offsetLeft-l.l,u=e.offsetTop-l.t,h=e.parentNode,f=o.toPixelValue;if(t("mozilla")){var p=parseFloat(s.left),m=parseFloat(s.top);isNaN(p)||isNaN(m)?h&&h.style&&(r=o.getComputedStyle(h),"visible"!=r.overflow&&(c+=r.borderLeftStyle!=d?f(e,r.borderLeftWidth):0,u+=r.borderTopStyle!=d?f(e,r.borderTopWidth):0)):(c=p,u=m)}else(t("opera")||8==t("ie")&&!t("quirks"))&&h&&(r=o.getComputedStyle(h),c-=r.borderLeftStyle!=d?f(e,r.borderLeftWidth):0,u-=r.borderTopStyle!=d?f(e,r.borderTopWidth):0);return{l:c,t:u,w:e.offsetWidth+l.w,h:e.offsetHeight+l.h}},a.getContentBox=function(e,n){e=i.byId(e);var r,s=n||o.getComputedStyle(e),d=e.clientWidth,l=a.getPadExtents(e,s),c=a.getBorderExtents(e,s);return d?(r=e.clientHeight,c.w=c.h=0):(d=e.offsetWidth,r=e.offsetHeight),t("opera")&&(l.l+=c.l,l.t+=c.t),{l:l.l,t:l.t,w:d-l.w-c.w,h:r-l.h-c.h}},a.setContentSize=function(t,e,o){t=i.byId(t);var r=e.w,d=e.h;if(s(t)){var l=a.getPadBorderExtents(t,o);r>=0&&(r+=l.w),d>=0&&(d+=l.h)}n(t,NaN,NaN,r,d)};var l={l:0,t:0,w:0,h:0};return a.setMarginBox=function(e,d,c){e=i.byId(e);var u=c||o.getComputedStyle(e),h=d.w,f=d.h,p=s(e)?l:a.getPadBorderExtents(e,u),m=a.getMarginExtents(e,u);if(t("webkit")&&r(e)){var g=e.style;h>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px")}h>=0&&(h=Math.max(h-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),n(e,d.l,d.t,h,f)},a.isBodyLtr=function(t){return t=t||e.doc,"ltr"==(e.body(t).dir||t.documentElement.dir||"ltr").toLowerCase()},a.docScroll=function(i){i=i||e.doc;var o=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=t("quirks")?e.body(i):i.documentElement)&&{x:a.fixIeBiDiScrollLeft(o.scrollLeft||0,i),y:o.scrollTop||0}},a.getIeDocumentElementOffset=function(t){return{x:0,y:0}},a.fixIeBiDiScrollLeft=function(i,o){o=o||e.doc;var n=t("ie");if(n&&!a.isBodyLtr(o)){var r=t("quirks"),s=r?e.body(o):o.documentElement,d=e.global;return 6==n&&!r&&d.frameElement&&s.scrollHeight>s.clientHeight&&(i+=s.clientLeft),n<8||r?i+s.clientWidth-s.scrollWidth:-i}return i},a.position=function(o,n){o=i.byId(o);var r=e.body(o.ownerDocument),s=o.getBoundingClientRect();if(s={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top},t("ie")<9&&(s.x-=t("quirks")?r.clientLeft+r.offsetLeft:0,s.y-=t("quirks")?r.clientTop+r.offsetTop:0),n){var d=a.docScroll(o.ownerDocument);s.x+=d.x,s.y+=d.y}return s},a.getMarginSize=function(t,e){t=i.byId(t);var n=a.getMarginExtents(t,e||o.getComputedStyle(t)),r=t.getBoundingClientRect();return{w:r.right-r.left+n.w,h:r.bottom-r.top+n.h}},a.normalizeEvent=function(e){if("layerX"in e||(e.layerX=e.offsetX,e.layerY=e.offsetY),!("pageX"in e)){var i=e.target,o=i&&i.ownerDocument||document,n=t("quirks")?o.body:o.documentElement;e.pageX=e.clientX+a.fixIeBiDiScrollLeft(n.scrollLeft||0,o),e.pageY=e.clientY+(n.scrollTop||0)}},a});//# sourceMappingURL=dom-geometry.js.map