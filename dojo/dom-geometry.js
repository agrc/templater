//>>built
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,i,o){function n(e,t,i,o,n,a){a=a||"px";var r=e.style;isNaN(t)||(r.left=t+a),isNaN(i)||(r.top=i+a),o>=0&&(r.width=o+a),n>=0&&(r.height=n+a)}function a(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function r(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||a(e)}var s={};s.boxModel="content-box",e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),s.getPadExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),a=o.toPixelValue,r=a(e,n.paddingLeft),s=a(e,n.paddingTop),l=a(e,n.paddingRight),d=a(e,n.paddingBottom);return{l:r,t:s,r:l,b:d,w:r+l,h:s+d}};var l="none";s.getBorderExtents=function(e,t){e=i.byId(e);var n=o.toPixelValue,a=t||o.getComputedStyle(e),r=a.borderLeftStyle!=l?n(e,a.borderLeftWidth):0,s=a.borderTopStyle!=l?n(e,a.borderTopWidth):0,d=a.borderRightStyle!=l?n(e,a.borderRightWidth):0,h=a.borderBottomStyle!=l?n(e,a.borderBottomWidth):0;return{l:r,t:s,r:d,b:h,w:r+d,h:s+h}},s.getPadBorderExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),a=s.getPadExtents(e,n),r=s.getBorderExtents(e,n);return{l:a.l+r.l,t:a.t+r.t,r:a.r+r.r,b:a.b+r.b,w:a.w+r.w,h:a.h+r.h}},s.getMarginExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),a=o.toPixelValue,r=a(e,n.marginLeft),s=a(e,n.marginTop),l=a(e,n.marginRight),d=a(e,n.marginBottom);return{l:r,t:s,r:l,b:d,w:r+l,h:s+d}},s.getMarginBox=function(t,n){t=i.byId(t);var a,r=n||o.getComputedStyle(t),d=s.getMarginExtents(t,r),h=t.offsetLeft-d.l,c=t.offsetTop-d.t,u=t.parentNode,f=o.toPixelValue;if(e("mozilla")){var p=parseFloat(r.left),g=parseFloat(r.top);isNaN(p)||isNaN(g)?u&&u.style&&(a=o.getComputedStyle(u),"visible"!=a.overflow&&(h+=a.borderLeftStyle!=l?f(t,a.borderLeftWidth):0,c+=a.borderTopStyle!=l?f(t,a.borderTopWidth):0)):(h=p,c=g)}else(e("opera")||8==e("ie")&&!e("quirks"))&&u&&(a=o.getComputedStyle(u),h-=a.borderLeftStyle!=l?f(t,a.borderLeftWidth):0,c-=a.borderTopStyle!=l?f(t,a.borderTopWidth):0);return{l:h,t:c,w:t.offsetWidth+d.w,h:t.offsetHeight+d.h}},s.getContentBox=function(t,n){t=i.byId(t);var a,r=n||o.getComputedStyle(t),l=t.clientWidth,d=s.getPadExtents(t,r),h=s.getBorderExtents(t,r);return l?(a=t.clientHeight,h.w=h.h=0):(l=t.offsetWidth,a=t.offsetHeight),e("opera")&&(d.l+=h.l,d.t+=h.t),{l:d.l,t:d.t,w:l-d.w-h.w,h:a-d.h-h.h}},s.setContentSize=function(e,t,o){e=i.byId(e);var a=t.w,l=t.h;if(r(e)){var d=s.getPadBorderExtents(e,o);a>=0&&(a+=d.w),l>=0&&(l+=d.h)}n(e,NaN,NaN,a,l)};var d={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,l,h){t=i.byId(t);var c=h||o.getComputedStyle(t),u=l.w,f=l.h,p=r(t)?d:s.getPadBorderExtents(t,c),g=s.getMarginExtents(t,c);if(e("webkit")&&a(t)){var m=t.style;u>=0&&!m.width&&(m.width="4px"),f>=0&&!m.height&&(m.height="4px")}u>=0&&(u=Math.max(u-p.w-g.w,0)),f>=0&&(f=Math.max(f-p.h-g.h,0)),n(t,l.l,l.t,u,f)},s.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(i){i=i||t.doc;var o=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=e("quirks")?t.body(i):i.documentElement)&&{x:s.fixIeBiDiScrollLeft(o.scrollLeft||0,i),y:o.scrollTop||0}},s.getIeDocumentElementOffset=function(i){i=i||t.doc;var o=i.documentElement;if(e("ie")<8){var n=o.getBoundingClientRect(),a=n.left,r=n.top;return e("ie")<7&&(a+=o.clientLeft,r+=o.clientTop),{x:0>a?0:a,y:0>r?0:r}}return{x:0,y:0}},s.fixIeBiDiScrollLeft=function(i,o){o=o||t.doc;var n=e("ie");if(n&&!s.isBodyLtr(o)){var a=e("quirks"),r=a?t.body(o):o.documentElement,l=t.global;return 6==n&&!a&&l.frameElement&&r.scrollHeight>r.clientHeight&&(i+=r.clientLeft),8>n||a?i+r.clientWidth-r.scrollWidth:-i}return i},s.position=function(o,n){o=i.byId(o);var a=t.body(o.ownerDocument),r=o.getBoundingClientRect();if(r={x:r.left,y:r.top,w:r.right-r.left,h:r.bottom-r.top},e("ie")<9){var l=s.getIeDocumentElementOffset(o.ownerDocument);r.x-=l.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),r.y-=l.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(n){var d=s.docScroll(o.ownerDocument);r.x+=d.x,r.y+=d.y}return r},s.getMarginSize=function(e,t){e=i.byId(e);var n=s.getMarginExtents(e,t||o.getComputedStyle(e)),a=e.getBoundingClientRect();return{w:a.right-a.left+n.w,h:a.bottom-a.top+n.h}},s.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var i=t.target,o=i&&i.ownerDocument||document,n=e("quirks")?o.body:o.documentElement,a=s.getIeDocumentElementOffset(o);t.pageX=t.clientX+s.fixIeBiDiScrollLeft(n.scrollLeft||0,o)-a.x,t.pageY=t.clientY+(n.scrollTop||0)-a.y}},s});//# sourceMappingURL=dom-geometry.js.map