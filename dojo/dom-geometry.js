//>>built
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,i,o){function n(e,t,i,o,n,r){r=r||"px";var s=e.style;isNaN(t)||(s.left=t+r),isNaN(i)||(s.top=i+r),o>=0&&(s.width=o+r),n>=0&&(s.height=n+r)}function r(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function s(e){return"border-box"==a.boxModel||"table"==e.tagName.toLowerCase()||r(e)}var a={};a.boxModel="content-box",e("ie")&&(a.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),a.getPadExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.paddingLeft),a=r(e,n.paddingTop),l=r(e,n.paddingRight),d=r(e,n.paddingBottom);return{l:s,t:a,r:l,b:d,w:s+l,h:a+d}};var l="none";a.getBorderExtents=function(e,t){e=i.byId(e);var n=o.toPixelValue,r=t||o.getComputedStyle(e),s=r.borderLeftStyle!=l?n(e,r.borderLeftWidth):0,a=r.borderTopStyle!=l?n(e,r.borderTopWidth):0,d=r.borderRightStyle!=l?n(e,r.borderRightWidth):0,h=r.borderBottomStyle!=l?n(e,r.borderBottomWidth):0;return{l:s,t:a,r:d,b:h,w:s+d,h:a+h}},a.getPadBorderExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=a.getPadExtents(e,n),s=a.getBorderExtents(e,n);return{l:r.l+s.l,t:r.t+s.t,r:r.r+s.r,b:r.b+s.b,w:r.w+s.w,h:r.h+s.h}},a.getMarginExtents=function(e,t){e=i.byId(e);var n=t||o.getComputedStyle(e),r=o.toPixelValue,s=r(e,n.marginLeft),a=r(e,n.marginTop),l=r(e,n.marginRight),d=r(e,n.marginBottom);return{l:s,t:a,r:l,b:d,w:s+l,h:a+d}},a.getMarginBox=function(t,n){t=i.byId(t);var r,s=n||o.getComputedStyle(t),d=a.getMarginExtents(t,s),h=t.offsetLeft-d.l,u=t.offsetTop-d.t,c=t.parentNode,f=o.toPixelValue;if(e("mozilla")){var p=parseFloat(s.left),g=parseFloat(s.top);isNaN(p)||isNaN(g)?c&&c.style&&(r=o.getComputedStyle(c),"visible"!=r.overflow&&(h+=r.borderLeftStyle!=l?f(t,r.borderLeftWidth):0,u+=r.borderTopStyle!=l?f(t,r.borderTopWidth):0)):(h=p,u=g)}else(e("opera")||8==e("ie")&&!e("quirks"))&&c&&(r=o.getComputedStyle(c),h-=r.borderLeftStyle!=l?f(t,r.borderLeftWidth):0,u-=r.borderTopStyle!=l?f(t,r.borderTopWidth):0);return{l:h,t:u,w:t.offsetWidth+d.w,h:t.offsetHeight+d.h}},a.getContentBox=function(t,n){t=i.byId(t);var r,s=n||o.getComputedStyle(t),l=t.clientWidth,d=a.getPadExtents(t,s),h=a.getBorderExtents(t,s);return l?(r=t.clientHeight,h.w=h.h=0):(l=t.offsetWidth,r=t.offsetHeight),e("opera")&&(d.l+=h.l,d.t+=h.t),{l:d.l,t:d.t,w:l-d.w-h.w,h:r-d.h-h.h}},a.setContentSize=function(e,t,o){e=i.byId(e);var r=t.w,l=t.h;if(s(e)){var d=a.getPadBorderExtents(e,o);r>=0&&(r+=d.w),l>=0&&(l+=d.h)}n(e,NaN,NaN,r,l)};var d={l:0,t:0,w:0,h:0};return a.setMarginBox=function(t,l,h){t=i.byId(t);var u=h||o.getComputedStyle(t),c=l.w,f=l.h,p=s(t)?d:a.getPadBorderExtents(t,u),g=a.getMarginExtents(t,u);if(e("webkit")&&r(t)){var m=t.style;c>=0&&!m.width&&(m.width="4px"),f>=0&&!m.height&&(m.height="4px")}c>=0&&(c=Math.max(c-p.w-g.w,0)),f>=0&&(f=Math.max(f-p.h-g.h,0)),n(t,l.l,l.t,c,f)},a.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},a.docScroll=function(i){i=i||t.doc;var o=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in o?{x:o.pageXOffset,y:o.pageYOffset}:(o=e("quirks")?t.body(i):i.documentElement)&&{x:a.fixIeBiDiScrollLeft(o.scrollLeft||0,i),y:o.scrollTop||0}},a.getIeDocumentElementOffset=function(i){i=i||t.doc;var o=i.documentElement;if(e("ie")<8){var n=o.getBoundingClientRect(),r=n.left,s=n.top;return e("ie")<7&&(r+=o.clientLeft,s+=o.clientTop),{x:0>r?0:r,y:0>s?0:s}}return{x:0,y:0}},a.fixIeBiDiScrollLeft=function(i,o){o=o||t.doc;var n=e("ie");if(n&&!a.isBodyLtr(o)){var r=e("quirks"),s=r?t.body(o):o.documentElement,l=t.global;return 6==n&&!r&&l.frameElement&&s.scrollHeight>s.clientHeight&&(i+=s.clientLeft),8>n||r?i+s.clientWidth-s.scrollWidth:-i}return i},a.position=function(o,n){o=i.byId(o);var r=t.body(o.ownerDocument),s=o.getBoundingClientRect();if(s={x:s.left,y:s.top,w:s.right-s.left,h:s.bottom-s.top},e("ie")<9){var l=a.getIeDocumentElementOffset(o.ownerDocument);s.x-=l.x+(e("quirks")?r.clientLeft+r.offsetLeft:0),s.y-=l.y+(e("quirks")?r.clientTop+r.offsetTop:0)}if(n){var d=a.docScroll(o.ownerDocument);s.x+=d.x,s.y+=d.y}return s},a.getMarginSize=function(e,t){e=i.byId(e);var n=a.getMarginExtents(e,t||o.getComputedStyle(e)),r=e.getBoundingClientRect();return{w:r.right-r.left+n.w,h:r.bottom-r.top+n.h}},a.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var i=t.target,o=i&&i.ownerDocument||document,n=e("quirks")?o.body:o.documentElement,r=a.getIeDocumentElementOffset(o);t.pageX=t.clientX+a.fixIeBiDiScrollLeft(n.scrollLeft||0,o)-r.x,t.pageY=t.clientY+(n.scrollTop||0)-r.y}},a});//# sourceMappingURL=dom-geometry.js.map