//>>built
define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(e,t,a){"use strict";var i=e.some;return function(e){var r,d;e instanceof Array?d=e:e&&"object"==typeof e&&(r=e);var o,n=[];if(r){d=[];for(var l in r)Object.hasOwnProperty.call(r,l)&&(n.push(l),d.push(r[l]));o={}}else d&&(o=[]);if(!d||!d.length)return(new t).resolve(o);var s=new t;s.promise.always(function(){o=n=null});var m=d.length;return i(d,function(e,t){return r||n.push(t),a(e,function(e){s.isFulfilled()||(o[n[t]]=e,0===--m&&s.resolve(o))},s.reject),s.isFulfilled()}),s.promise}});//# sourceMappingURL=all.js.map