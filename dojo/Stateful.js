//>>built
define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(t,e,i,n){return t("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(t){var e=this._attrPairNames;return e[t]?e[t]:e[t]={s:"_"+t+"Setter",g:"_"+t+"Getter"}},postscript:function(t){t&&this.set(t)},_get:function(t,e){return"function"==typeof this[e.g]?this[e.g]():this[t]},get:function(t){return this._get(t,this._getAttrNames(t))},set:function(t,e){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,t[i]);return this}var o,s=this._getAttrNames(t),a=this._get(t,s),r=this[s.s];if("function"==typeof r?o=r.apply(this,Array.prototype.slice.call(arguments,1)):this[t]=e,this._watchCallbacks){var d=this;n(o,function(){d._watchCallbacks(t,a,e)})}return this},_changeAttrValue:function(t,e){var i=this.get(t);return this[t]=e,this._watchCallbacks&&this._watchCallbacks(t,i,e),this},watch:function(t,e){var n=this._watchCallbacks;if(!n){var o=this;n=this._watchCallbacks=function(t,e,i,s){var a=function(n){if(n){n=n.slice();for(var s=0,a=n.length;a>s;s++)n[s].call(o,t,e,i)}};a(n["_"+t]),s||a(n["*"])}}e||"function"!=typeof t?t="_"+t:(e=t,t="*");var s=n[t];"object"!=typeof s&&(s=n[t]=[]),s.push(e);var a={};return a.unwatch=a.remove=function(){var t=i.indexOf(s,e);t>-1&&s.splice(t,1)},a}})});//# sourceMappingURL=Stateful.js.map