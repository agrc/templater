//>>built
define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(n,i,o,r){var a=n&&"function"==typeof n.then,s=a&&n instanceof t;if(!a)return arguments.length>1?i?i(n):n:(new e).resolve(n);if(!s){var d=new e(n.cancel);n.then(d.resolve,d.reject,d.progress),n=d.promise}return i||o||r?n.then(i,o,r):n}});//# sourceMappingURL=when.js.map