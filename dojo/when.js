//>>built
define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(n,i,r,o){var a=n&&"function"==typeof n.then,s=a&&n instanceof t;if(!a)return arguments.length>1?i?i(n):n:(new e).resolve(n);if(!s){var c=new e(n.cancel);n.then(c.resolve,c.reject,c.progress),n=c.promise}return i||r||o?n.then(i,r,o):n}});//# sourceMappingURL=when.js.map