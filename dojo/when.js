//>>built
define("dojo/when",["./Deferred","./promise/Promise"],function(t,e){"use strict";return function(i,o,n,r){var s=i&&"function"==typeof i.then,a=s&&i instanceof e;if(!s)return arguments.length>1?o?o(i):i:(new t).resolve(i);if(!a){var d=new t(i.cancel);i.then(d.resolve,d.reject,d.progress),i=d.promise}return o||n||r?i.then(o,n,r):i}});//# sourceMappingURL=when.js.map