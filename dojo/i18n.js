//>>built
define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(e,t,i,n,o,s,r,a,d){i.add("dojo-preload-i18n-Api",1);var l=e.i18n={},h=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,c=function(e,t,i,n){for(var o=[i+n],s=t.split("-"),r="",a=0;a<s.length;a++)r+=(r?"-":"")+s[a],e&&!e[r]||(o.push(i+r+"/"+n),o.specificity=r);return o},u={},f=function(t,i,n){return n=n?n.toLowerCase():e.locale,t=t.replace(/\./g,"/"),i=i.replace(/\./g,"/"),/root/i.test(n)?t+"/nls/"+i:t+"/nls/"+n+"/"+i},p=e.getL10nName=function(e,t,i){return e=d.id+"!"+f(e,t,i)},m=function(e,t,i,n,o,r){e([t],function(a){var d=s.clone(a.root||a.ROOT),l=c(!a._v1x&&a,o,i,n);e(l,function(){for(var e=1;e<l.length;e++)d=s.mixin(s.clone(d),arguments[e]);u[t+"/"+o]=d,d.$locale=l.specificity,r()})})},g=function(e,t){return/^\./.test(e)?t(e):e},_=function(e){var t=o.extraLocale||[];return t=s.isArray(t)?t:[t],t.push(e),t},v=function(t,o,r){var d=h.exec(t),l=d[1]+"/",c=d[5]||d[4],f=l+c,p=d[5]&&d[4],g=p||e.locale||"",v=f+"/"+g,b=p?[g]:_(g),y=b.length,C=function(){--y||r(s.delegate(u[v]))},N=t.split("*"),T="preload"==N[1];if(i("dojo-preload-i18n-Api")){if(T&&(u[t]||(u[t]=1,x(N[2],a.parse(N[3]),1,o)),r(1)),T||j(t,o,r)&&!u[v])return}else if(T)return void r(1);n.forEach(b,function(e){var t=f+"/"+e;i("dojo-preload-i18n-Api")&&w(t),u[t]?C():m(o,f,l,c,e,C)})};if(i("dojo-preload-i18n-Api"),!0)var b=l.normalizeLocale=function(t){var i=t?t.toLowerCase():e.locale;return"root"==i?"ROOT":i},y=function(e,t){return!0},C=0,N=[],x=l._preloadLocalizations=function(i,o,r,a){function d(e,t){y(e,a)||r?a([e],t):S([e],t,a)}function l(e,t){for(var i=e.split("-");i.length;){if(t(i.join("-")))return;i.pop()}t("ROOT")}function h(){C++}function c(){for(--C;!C&&N.length;)v.apply(null,N.shift())}function f(e,t,i,n){return n.toAbsMid(e+t+"/"+i)}function p(e){e=b(e),l(e,function(r){if(n.indexOf(o,r)>=0){var p=i.replace(/\./g,"/")+"_"+r;return h(),d(p,function(i){function n(i,n,o,r){var d=[],p=[];l(e,function(e){r[e]&&(d.push(t.toAbsMid(i+e+"/"+n)),p.push(f(i,n,e,t)))}),d.length?(h(),a(d,function(){for(var r=d.length-1;r>=0;r--)o=s.mixin(s.clone(o),arguments[r]),u[p[r]]=o;u[f(i,n,e,t)]=s.clone(o),c()})):u[f(i,n,e,t)]=o}for(var o in i){var d,p,m=i[o],g=o.match(/(.+)\/([^\/]+)$/);if(g&&(d=g[2],p=g[1]+"/",m._localized)){var _;if("ROOT"===r){var v=_=m._localized;delete m._localized,v.root=m,u[t.toAbsMid(o)]=v}else _=m._localized,u[f(p,d,r,t)]=m;r!==e&&n(p,d,m,_)}}c()}),!0}return!1})}a=a||t,p(),n.forEach(e.config.extraLocale,p)},j=function(e,t,i){return C&&N.push([e,t,i]),C},w=function(){};var T,k={},S=function(e,t,i){var o=[];n.forEach(e,function(e){function t(t){T||(T=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));var i=T(t,w,e,k);i===k?o.push(u[n]=k.result):(i instanceof Error&&(i={}),o.push(u[n]=/nls\/[^\/]+\/[^\/]+$/.test(n)?i:{root:i,_v1x:1}))}var n=i.toUrl(e+".js");if(u[n])o.push(u[n]);else{var s=i.syncLoadNls(e);if(s||(s=w(e.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1"))),s)o.push(s);else if(r)r.get({url:n,sync:!0,load:t,error:function(){o.push(u[n]={})}});else try{i.getText(n,!0,t)}catch(e){o.push(u[n]={})}}}),t&&t.apply(null,o)};return w=function(t){for(var i,n=t.split("/"),o=e.global[n[0]],s=1;o&&s<n.length-1;o=o[n[s++]]);return o&&(i=o[n[s]],i||(i=o[n[s].replace(/-/g,"_")]),i&&(u[t]=i)),i},l.getLocalization=function(e,i,n){var o,s=f(e,i,n);return v(s,y(s,t)?t:function(e,i){S(e,i,t)},function(e){o=e}),o},s.mixin(l,{dynamic:!0,normalize:g,load:v,cache:u,getL10nName:p})});//# sourceMappingURL=i18n.js.map