//>>built
define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(t,e){return e||1})),has("json-stringify"))return JSON;var escapeString=function(t){return('"'+t.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(t,e,i){function n(t,r,a){e&&(t=e(a,t));var s,d=typeof t;if("number"==d)return isFinite(t)?t+"":"null";if("boolean"==d)return t+"";if(null===t)return"null";if("string"==typeof t)return escapeString(t);if("function"==d||"undefined"==d)return o;if("function"==typeof t.toJSON)return n(t.toJSON(a),r,a);if(t instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(e,i,n){var o=t["getUTC"+i]()+(n?1:0);return 10>o?"0"+o:o});if(t.valueOf()!==t)return n(t.valueOf(),r,a);var l=i?r+i:"",h=i?" ":"",u=i?"\n":"";if(t instanceof Array){var c=t.length,f=[];for(a=0;c>a;a++){var p=t[a];s=n(p,l,a),"string"!=typeof s&&(s="null"),f.push(u+l+s)}return"["+f.join(",")+u+r+"]"}var g=[];for(a in t){var m;if(t.hasOwnProperty(a)){if("number"==typeof a)m='"'+a+'"';else{if("string"!=typeof a)continue;m=escapeString(a)}if(s=n(t[a],l,a),"string"!=typeof s)continue;g.push(u+l+m+":"+h+s)}}return"{"+g.join(",")+u+r+"}"}var o;return"string"==typeof e&&(i=e,e=null),n(t,"","")}}});//# sourceMappingURL=json.js.map