//>>built
define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(t,e){return e||1})),has("json-stringify"))return JSON;var escapeString=function(t){return('"'+t.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(t,e,i){function n(t,a,s){e&&(t=e(s,t));var r,d=typeof t;if("number"==d)return isFinite(t)?t+"":"null";if("boolean"==d)return t+"";if(null===t)return"null";if("string"==typeof t)return escapeString(t);if("function"==d||"undefined"==d)return o;if("function"==typeof t.toJSON)return n(t.toJSON(s),a,s);if(t instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(e,i,n){var o=t["getUTC"+i]()+(n?1:0);return 10>o?"0"+o:o});if(t.valueOf()!==t)return n(t.valueOf(),a,s);var l=i?a+i:"",u=i?" ":"",h=i?"\n":"";if(t instanceof Array){var c=t.length,f=[];for(s=0;c>s;s++){var p=t[s];r=n(p,l,s),"string"!=typeof r&&(r="null"),f.push(h+l+r)}return"["+f.join(",")+h+a+"]"}var g=[];for(s in t){var m;if(t.hasOwnProperty(s)){if("number"==typeof s)m='"'+s+'"';else{if("string"!=typeof s)continue;m=escapeString(s)}if(r=n(t[s],l,s),"string"!=typeof r)continue;g.push(h+l+m+":"+u+r)}}return"{"+g.join(",")+h+a+"}"}var o;return"string"==typeof e&&(i=e,e=null),n(t,"","")}}});//# sourceMappingURL=json.js.map