//>>built
define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,i){function n(e,r,s){t&&(e=t(s,e));var a,d=typeof e;if("number"==d)return isFinite(e)?e+"":"null";if("boolean"==d)return e+"";if(null===e)return"null";if("string"==typeof e)return escapeString(e);if("function"==d||"undefined"==d)return o;if("function"==typeof e.toJSON)return n(e.toJSON(s),r,s);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,i,n){var o=e["getUTC"+i]()+(n?1:0);return o<10?"0"+o:o});if(e.valueOf()!==e)return n(e.valueOf(),r,s);var l=i?r+i:"",c=i?" ":"",h=i?"\n":"";if(e instanceof Array){var u=e.length,f=[];for(s=0;s<u;s++){a=n(e[s],l,s),"string"!=typeof a&&(a="null"),f.push(h+l+a)}return"["+f.join(",")+h+r+"]"}var p=[];for(s in e){var g;if(e.hasOwnProperty(s)){if("number"==typeof s)g='"'+s+'"';else{if("string"!=typeof s)continue;g=escapeString(s)}if("string"!=typeof(a=n(e[s],l,s)))continue;p.push(h+l+g+":"+c+a)}}return"{"+p.join(",")+h+r+"}"}var o;return"string"==typeof t&&(i=t,t=null),n(e,"","")}}});//# sourceMappingURL=json.js.map