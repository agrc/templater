//>>built
define("dojo/text",["./_base/kernel","require","./has","./request"],function(e,t,i,n){var o;o=function(e,t,i){n(e,{sync:!!t,headers:{"X-Requested-With":null}}).then(i)};var r={},a=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},s={},d={};return e.cache=function(e,i,n){var s;"string"==typeof e?/\//.test(e)?(s=e,n=i):s=t.toUrl(e.replace(/\./g,"/")+(i?"/"+i:"")):(s=e+"",n=i);var d=void 0!=n&&"string"!=typeof n?n.value:n,l=n&&n.sanitize;return"string"==typeof d?(r[s]=d,l?a(d):d):null===d?(delete r[s],null):(s in r||o(s,!0,function(e){r[s]=e}),l?a(r[s]):r[s])},{dynamic:!0,normalize:function(e,t){var i=e.split("!"),n=i[0];return(/^\./.test(n)?t(n):n)+(i[1]?"!"+i[1]:"")},load:function(e,t,i){var n=e.split("!"),l=n.length>1,c=n[0],u=t.toUrl(n[0]),h="url:"+u,f=s,p=function(e){i(l?a(e):e)};if(c in r?f=r[c]:t.cache&&h in t.cache?f=t.cache[h]:u in r&&(f=r[u]),f===s)if(d[u])d[u].push(p);else{var g=d[u]=[p];o(u,!t.async,function(e){r[c]=r[u]=e;for(var t=0;t<g.length;)g[t++](e);delete d[u]})}else p(f)}}});//# sourceMappingURL=text.js.map