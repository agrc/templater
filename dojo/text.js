//>>built
define("dojo/text",["./_base/kernel","require","./has","./request"],function(e,t,i,n){var o;o=function(e,t,i){n(e,{sync:!!t,headers:{"X-Requested-With":null}}).then(i)};var r={},s=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},a={},d={};return e.cache=function(e,i,n){var a;"string"==typeof e?/\//.test(e)?(a=e,n=i):a=t.toUrl(e.replace(/\./g,"/")+(i?"/"+i:"")):(a=e+"",n=i);var d=void 0!=n&&"string"!=typeof n?n.value:n,l=n&&n.sanitize;return"string"==typeof d?(r[a]=d,l?s(d):d):null===d?(delete r[a],null):(a in r||o(a,!0,function(e){r[a]=e}),l?s(r[a]):r[a])},{dynamic:!0,normalize:function(e,t){var i=e.split("!"),n=i[0];return(/^\./.test(n)?t(n):n)+(i[1]?"!"+i[1]:"")},load:function(e,t,i){var n=e.split("!"),l=n.length>1,c=n[0],u=t.toUrl(n[0]),h="url:"+u,f=a,p=function(e){i(l?s(e):e)};if(c in r?f=r[c]:t.cache&&h in t.cache?f=t.cache[h]:u in r&&(f=r[u]),f===a)if(d[u])d[u].push(p);else{var g=d[u]=[p];o(u,!t.async,function(e){r[c]=r[u]=e;for(var t=0;t<g.length;)g[t++](e);delete d[u]})}else p(f)}}});//# sourceMappingURL=text.js.map