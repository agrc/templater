//>>built
define("dojo/text",["./_base/kernel","require","./has","./request"],function(t,e,i,n){var o;o=function(t,e,i){n(t,{sync:!!e,headers:{"X-Requested-With":null}}).then(i)};var r={},s=function(t){if(t){t=t.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var e=t.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);e&&(t=e[1])}else t="";return t},a={},d={};return t.cache=function(t,i,n){var a;"string"==typeof t?/\//.test(t)?(a=t,n=i):a=e.toUrl(t.replace(/\./g,"/")+(i?"/"+i:"")):(a=t+"",n=i);var d=void 0!=n&&"string"!=typeof n?n.value:n,l=n&&n.sanitize;return"string"==typeof d?(r[a]=d,l?s(d):d):null===d?(delete r[a],null):(a in r||o(a,!0,function(t){r[a]=t}),l?s(r[a]):r[a])},{dynamic:!0,normalize:function(t,e){var i=t.split("!"),n=i[0];return(/^\./.test(n)?e(n):n)+(i[1]?"!"+i[1]:"")},load:function(t,e,i){var n=t.split("!"),l=n.length>1,c=n[0],u=e.toUrl(n[0]),h="url:"+u,f=a,p=function(t){i(l?s(t):t)};if(c in r?f=r[c]:e.cache&&h in e.cache?f=e.cache[h]:u in r&&(f=r[u]),f===a)if(d[u])d[u].push(p);else{var m=d[u]=[p];o(u,!e.async,function(t){r[c]=r[u]=t;for(var e=0;e<m.length;)m[e++](t);delete d[u]})}else p(f)}}});//# sourceMappingURL=text.js.map