//>>built
define("dojo/text",["./_base/kernel","require","./has","./request"],function(e,t,i,o){var n;n=function(e,t,i){o(e,{sync:!!t,headers:{"X-Requested-With":null}}).then(i)};var r={},a=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},s={},l={};return e.cache=function(e,i,o){var s;"string"==typeof e?/\//.test(e)?(s=e,o=i):s=t.toUrl(e.replace(/\./g,"/")+(i?"/"+i:"")):(s=e+"",o=i);var l=void 0!=o&&"string"!=typeof o?o.value:o,d=o&&o.sanitize;return"string"==typeof l?(r[s]=l,d?a(l):l):null===l?(delete r[s],null):(s in r||n(s,!0,function(e){r[s]=e}),d?a(r[s]):r[s])},{dynamic:!0,normalize:function(e,t){var i=e.split("!"),o=i[0];return(/^\./.test(o)?t(o):o)+(i[1]?"!"+i[1]:"")},load:function(e,t,i){var o=e.split("!"),d=o.length>1,h=o[0],c=t.toUrl(o[0]),u="url:"+c,f=s,p=function(e){i(d?a(e):e)};if(h in r?f=r[h]:t.cache&&u in t.cache?f=t.cache[u]:c in r&&(f=r[c]),f===s)if(l[c])l[c].push(p);else{var g=l[c]=[p];n(c,!t.async,function(e){r[h]=r[c]=e;for(var t=0;t<g.length;)g[t++](e);delete l[c]})}else p(f)}}});//# sourceMappingURL=text.js.map