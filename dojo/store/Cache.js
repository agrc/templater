//>>built
define("dojo/store/Cache",["../_base/lang","../when"],function(e,t){var i=function(i,r,a){return a=a||{},e.delegate(i,{query:function(e,t){var n=i.query(e,t);return n.forEach(function(e){a.isLoaded&&!a.isLoaded(e)||r.put(e)}),n},queryEngine:i.queryEngine||r.queryEngine,get:function(e,a){return t(r.get(e),function(n){return n||t(i.get(e,a),function(t){return t&&r.put(t,{id:e}),t})})},add:function(e,a){return t(i.add(e,a),function(t){return r.add(t&&"object"==typeof t?t:e,a),t})},put:function(e,a){return r.remove(a&&a.id||this.getIdentity(e)),t(i.put(e,a),function(t){return r.put(t&&"object"==typeof t?t:e,a),t})},remove:function(e,a){return t(i.remove(e,a),function(t){return r.remove(e,a)})},evict:function(e){return r.remove(e)}})};return e.setObject("dojo.store.Cache",i),i});//# sourceMappingURL=Cache.js.map