//>>built
define("dojo/store/Cache",["../_base/lang","../when"],function(e,t){var a=function(a,i,r){return r=r||{},e.delegate(a,{query:function(e,t){var d=a.query(e,t);return d.forEach(function(e){r.isLoaded&&!r.isLoaded(e)||i.put(e)}),d},queryEngine:a.queryEngine||i.queryEngine,get:function(e,r){return t(i.get(e),function(d){return d||t(a.get(e,r),function(t){return t&&i.put(t,{id:e}),t})})},add:function(e,r){return t(a.add(e,r),function(t){return i.add(t&&"object"==typeof t?t:e,r),t})},put:function(e,r){return i.remove(r&&r.id||this.getIdentity(e)),t(a.put(e,r),function(t){return i.put(t&&"object"==typeof t?t:e,r),t})},remove:function(e,r){return t(a.remove(e,r),function(t){return i.remove(e,r)})},evict:function(e){return i.remove(e)}})};return e.setObject("dojo.store.Cache",a),a});//# sourceMappingURL=Cache.js.map