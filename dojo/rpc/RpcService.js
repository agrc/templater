//>>built
define("dojo/rpc/RpcService",["../_base/array","../_base/declare","../_base/Deferred","../_base/kernel","../_base/lang","../_base/url","../_base/xhr"],function(e,t,a,i,r,d,n){return t("dojo.rpc.RpcService",null,{constructor:function(e){if(e)if(r.isString(e)||e instanceof d){if(e instanceof d)var t=e+"";else t=e;var a=n.get({url:t,handleAs:"json-comment-optional",sync:!0});a.addCallback(this,"processSmd"),a.addErrback(function(){throw new Error("Unable to load SMD from "+e)})}else e.smdStr?this.processSmd(i.eval("("+e.smdStr+")")):(e.serviceUrl&&(this.serviceUrl=e.serviceUrl),this.timeout=e.timeout||0,"strictArgChecks"in e&&(this.strictArgChecks=e.strictArgChecks),this.processSmd(e))},strictArgChecks:!0,serviceUrl:"",parseResults:function(e){return e},errorCallback:function(e){return function(t){e.errback(t)}},resultCallback:function(e){return r.hitch(this,function(t){if(null!=t.error){var a;"object"==typeof t.error?(a=new Error(t.error.message),a.code=t.error.code,a.error=t.error.error):a=new Error(t.error),a.id=t.id,a.errorObject=t,e.errback(a)}else e.callback(this.parseResults(t))})},generateMethod:function(e,t,i){return r.hitch(this,function(){var d=new a;if(this.strictArgChecks&&null!=t&&arguments.length!=t.length)throw new Error("Invalid number of parameters for remote method.");return this.bind(e,r._toArray(arguments),d,i),d})},processSmd:function(t){t.methods&&e.forEach(t.methods,function(e){if(e&&e.name&&(this[e.name]=this.generateMethod(e.name,e.parameters,e.url||e.serviceUrl||e.serviceURL),!r.isFunction(this[e.name])))throw new Error("RpcService: Failed to create"+e.name+"()")},this),this.serviceUrl=t.serviceUrl||t.serviceURL,this.required=t.required,this.smd=t}})});//# sourceMappingURL=RpcService.js.map