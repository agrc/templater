//>>built
define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,a,i,r,d,o,n){function l(e){return m(e)}function s(e){return void 0!==e.data?e.data:e.text}e.deepCopy=function(t,a){for(var i in a){var r=t[i],d=a[i];r!==d&&(r&&"object"==typeof r&&d&&"object"==typeof d?e.deepCopy(r,d):t[i]=d)}return t},e.deepCreate=function(t,a){a=a||{};var i,r,d=o.delegate(t);for(i in t)r=t[i],r&&"object"==typeof r&&(d[i]=e.deepCreate(r,a[i]));return e.deepCopy(d,a)};var m=Object.freeze||function(e){return e};e.deferred=function(r,d,f,u,h,y){function c(e){throw e.response=r,e}var v=new i(function(e){return d&&d(v,r),e&&(e instanceof t||e instanceof a)?e:new a("Request canceled",r)});v.response=r,v.isValid=f,v.isReady=u,v.handleResponse=h;var M=v.then(l).otherwise(c);e.notify&&M.then(o.hitch(e.notify,"emit","load"),o.hitch(e.notify,"emit","error"));var p=M.then(s),g=new n;for(var b in p)p.hasOwnProperty(b)&&(g[b]=p[b]);return g.response=M,m(g),y&&v.then(function(e){y.call(v,e)},function(e){y.call(v,r,e)}),v.promise=g,v.then=g.then,v},e.addCommonMethods=function(e,t){d.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(a,i){return i=o.delegate(i||{}),i.method=t,e(a,i)}})},e.parseArgs=function(e,t,a){var i=t.data,d=t.query;return i&&!a&&"object"==typeof i&&(t.data=r.objectToQuery(i)),d?("object"==typeof d&&(d=r.objectToQuery(d)),t.preventCache&&(d+=(d?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(d="request.preventCache="+ +new Date),e&&d&&(e+=(~e.indexOf("?")?"&":"?")+d),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return e=e||0,e>=200&&300>e||304===e||1223===e||!e}});//# sourceMappingURL=util.js.map