//>>built
define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise","../has"],function(e,t,a,i,r,d,o,n,l){function s(e){return f(e)}function m(e){return void 0!==e.data?e.data:e.text}e.deepCopy=function(t,a){for(var i in a){var r=t[i],d=a[i];r!==d&&(r&&"object"==typeof r&&d&&"object"==typeof d?e.deepCopy(r,d):t[i]=d)}return t},e.deepCreate=function(t,a){a=a||{};var i,r,d=o.delegate(t);for(i in t)(r=t[i])&&"object"==typeof r&&(d[i]=e.deepCreate(r,a[i]));return e.deepCopy(d,a)};var f=Object.freeze||function(e){return e};e.deferred=function(r,d,l,u,y,h){function M(e){throw e.response=r,e}var v=new i(function(e){return d&&d(v,r),e&&(e instanceof t||e instanceof a)?e:new a("Request canceled",r)});v.response=r,v.isValid=l,v.isReady=u,v.handleResponse=y;var c=v.then(s).otherwise(M);e.notify&&c.then(o.hitch(e.notify,"emit","load"),o.hitch(e.notify,"emit","error"));var g=c.then(m),p=new n;for(var b in g)g.hasOwnProperty(b)&&(p[b]=g[b]);return p.response=c,f(p),h&&v.then(function(e){h.call(v,e)},function(e){h.call(v,r,e)}),v.promise=p,v.then=p.then,v},e.addCommonMethods=function(e,t){d.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(a,i){return i=o.delegate(i||{}),i.method=t,e(a,i)}})},e.parseArgs=function(e,t,a){var i=t.data,d=t.query;return i&&!a&&("object"!=typeof i||l("native-xhr2")&&(i instanceof ArrayBuffer||i instanceof Blob)||(t.data=r.objectToQuery(i))),d?("object"==typeof d&&(d=r.objectToQuery(d)),t.preventCache&&(d+=(d?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(d="request.preventCache="+ +new Date),e&&d&&(e+=(~e.indexOf("?")?"&":"?")+d),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return(e=e||0)>=200&&e<300||304===e||1223===e||!e}});//# sourceMappingURL=util.js.map