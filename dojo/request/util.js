//>>built
define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,a,i,r,d,o,l){function n(e){return m(e)}function s(e){return void 0!==e.data?e.data:e.text}e.deepCopy=function(t,a){for(var i in a){var r=t[i],d=a[i];r!==d&&(r&&"object"==typeof r&&d&&"object"==typeof d?e.deepCopy(r,d):t[i]=d)}return t},e.deepCreate=function(t,a){a=a||{};var i,r,d=o.delegate(t);for(i in t)r=t[i],r&&"object"==typeof r&&(d[i]=e.deepCreate(r,a[i]));return e.deepCopy(d,a)};var m=Object.freeze||function(e){return e};e.deferred=function(r,d,u,f,y,h){function c(e){throw e.response=r,e}var M=new i(function(e){return d&&d(M,r),e&&(e instanceof t||e instanceof a)?e:new a("Request canceled",r)});M.response=r,M.isValid=u,M.isReady=f,M.handleResponse=y;var v=M.then(n).otherwise(c);e.notify&&v.then(o.hitch(e.notify,"emit","load"),o.hitch(e.notify,"emit","error"));var g=v.then(s),p=new l;for(var b in g)g.hasOwnProperty(b)&&(p[b]=g[b]);return p.response=v,m(p),h&&M.then(function(e){h.call(M,e)},function(e){h.call(M,r,e)}),M.promise=p,M.then=p.then,M},e.addCommonMethods=function(e,t){d.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(a,i){return i=o.delegate(i||{}),i.method=t,e(a,i)}})},e.parseArgs=function(e,t,a){var i=t.data,d=t.query;return i&&!a&&"object"==typeof i&&(t.data=r.objectToQuery(i)),d?("object"==typeof d&&(d=r.objectToQuery(d)),t.preventCache&&(d+=(d?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(d="request.preventCache="+ +new Date),e&&d&&(e+=(~e.indexOf("?")?"&":"?")+d),{url:e,options:t,getHeader:function(e){return null}}},e.checkStatus=function(e){return e=e||0,e>=200&&300>e||304===e||1223===e||!e}});//# sourceMappingURL=util.js.map