//>>built
require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n\t${!actionBarTemplate}\n</div>\n\n'}}),define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/touch","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","./layout/utils","dojo/text!./templates/Dialog.html","./a11yclick","dojo/i18n!./nls/common"],function(t,e,i,o,n,s,a,d,r,h,l,c,u,f,_,m,p,g,D,j,v,y,N,C,M,w,b,x,I,B,O){function A(){}var T=new n;T.resolve(!0);var F=o("dijit._DialogBase"+(m("dojo-bidi")?"_NoBidi":""),[C,w,b,M],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:y.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(t){this._set("draggable",t)},maxRatio:.9,closable:!0,_setClosableAttr:function(t){this.closeButtonNode.style.display=t?"":"none",this._set("closable",t)},postMixInProperties:function(){var t=l.getLocalization("dijit","common");u.mixin(this,t),this.inherited(arguments)},postCreate:function(){r.set(this.domNode,{display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),this.inherited(arguments),i.after(this,"onExecute",u.hitch(this,"hide"),!0),i.after(this,"onCancel",u.hitch(this,"hide"),!0),f(this.closeButtonNode,p.press,function(t){t.stopPropagation()}),this._modalconnects=[]},onLoad:function(){this.resize(),this._position(),this.autofocus&&k.isTop(this)&&(this._getFocusItems(),v.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(),v.focus(this._firstFocusItem)},_endDrag:function(){var t=d.position(this.domNode),e=g.getBox(this.ownerDocument);t.y=Math.min(Math.max(t.y,0),e.h-t.h),t.x=Math.min(Math.max(t.x,0),e.w-t.w),this._relativePosition=t,this._position()},_setup:function(){var t=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==m("ie")?j:D)(t,{handle:this.titleBar}),i.after(this._moveable,"onMoveStop",u.hitch(this,"_endDrag"),!0)):a.add(t,"dijitDialogFixed"),this.underlayAttrs={dialogId:this.id,class:e.map(this.class.split(/\s/),function(t){return t+"_underlay"}).join(" "),_onKeyDown:u.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!a.contains(this.ownerDocumentBody,"dojoMove")){var t=this.domNode,e=g.getBox(this.ownerDocument),i=this._relativePosition,o=d.position(t),n=Math.floor(e.l+(i?Math.min(i.x,e.w-o.w):(e.w-o.w)/2)),s=Math.floor(e.t+(i?Math.min(i.y,e.h-o.h):(e.h-o.h)/2));r.set(t,{left:n+"px",top:s+"px"})}},_onKey:function(t){if(t.keyCode==c.TAB){this._getFocusItems();var e=t.target;this._firstFocusItem==this._lastFocusItem?(t.stopPropagation(),t.preventDefault()):e==this._firstFocusItem&&t.shiftKey?(v.focus(this._lastFocusItem),t.stopPropagation(),t.preventDefault()):e!=this._lastFocusItem||t.shiftKey||(v.focus(this._firstFocusItem),t.stopPropagation(),t.preventDefault())}else this.closable&&t.keyCode==c.ESCAPE&&(this.onCancel(),t.stopPropagation(),t.preventDefault())},show:function(){if(this.open)return T.promise;this._started||this.startup(),this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),k.hide(this));var t=g.get(this.ownerDocument);this._modalconnects.push(f(t,"scroll",u.hitch(this,"resize",null))),this._modalconnects.push(f(this.domNode,"keydown",u.hitch(this,"_onKey"))),r.set(this.domNode,{opacity:0,display:""}),this._set("open",!0),this._onShow(),this.resize(),this._position();var e;this._fadeInDeferred=new n(u.hitch(this,function(){e.stop(),delete this._fadeInDeferred})),this._fadeInDeferred.then(void 0,A);var i=this._fadeInDeferred.promise;return e=h.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:u.hitch(this,function(){k.show(this,this.underlayAttrs)}),onEnd:u.hitch(this,function(){this.autofocus&&k.isTop(this)&&(this._getFocusItems(),v.focus(this._firstFocusItem)),this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),i},hide:function(){if(!this._alreadyInitialized||!this.open)return T.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var t;this._fadeOutDeferred=new n(u.hitch(this,function(){t.stop(),delete this._fadeOutDeferred})),this._fadeOutDeferred.then(void 0,A),this._fadeOutDeferred.then(u.hitch(this,"onHide"));var e=this._fadeOutDeferred.promise;t=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:u.hitch(this,function(){this.domNode.style.display="none",k.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);for(var i;i=this._modalconnects.pop();)i.remove();return this._relativePosition&&delete this._relativePosition,this._set("open",!1),e},resize:function(t){if("none"!=this.domNode.style.display){if(this._checkIfSingleChild(),!t){this._shrunk&&(this._singleChild&&void 0!==this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),e.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(t){t&&r.set(t,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var i=g.getBox(this.ownerDocument);i.w*=this.maxRatio,i.h*=this.maxRatio;var o=d.position(this.domNode);o.w>=i.w||o.h>=i.h?(t={w:Math.min(o.w,i.w),h:Math.min(o.h,i.h)},this._shrunk=!0):this._shrunk=!1}if(t){d.setMarginBox(this.domNode,t);var n=[];this.titleBar&&n.push({domNode:this.titleBar,region:"top"}),this.actionBarNode&&n.push({domNode:this.actionBarNode,region:"bottom"});var s={domNode:this.containerNode,region:"center"};n.push(s);var a=B.marginBox2contentBox(this.domNode,t);if(B.layoutChildren(this.domNode,a,n),this._singleChild){var h=B.marginBox2contentBox(this.containerNode,s);this._singleChild.resize({w:h.w,h:h.h})}else this.containerNode.style.overflow="auto",this._layoutChildren()}else this._layoutChildren();m("touch")||t||this._position()}},_layoutChildren:function(){e.forEach(this.getChildren(),function(t){t.resize&&t.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();for(var t;t=this._modalconnects.pop();)t.remove();k.hide(this),this.inherited(arguments)}});m("dojo-bidi")&&(F=o("dijit._DialogBase",F,{_setTitleAttr:function(t){this._set("title",t),this.titleNode.innerHTML=t,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(t){this._created&&this.textDir!=t&&(this._set("textDir",t),this.set("title",this.title))}}));var L=o("dijit.Dialog",[I,F],{});L._DialogBase=F;var k=L._DialogLevelManager={_beginZIndex:950,show:function(t,e){S[S.length-1].focus=v.curNode;var i=S[S.length-1].dialog?S[S.length-1].zIndex+2:L._DialogLevelManager._beginZIndex;r.set(t.domNode,"zIndex",i),x.show(e,i-1),S.push({dialog:t,underlayAttrs:e,zIndex:i})},hide:function(t){if(S[S.length-1].dialog==t){S.pop();var i=S[S.length-1];if(1==S.length?x.hide():x.show(i.underlayAttrs,i.zIndex-1),t.refocus){var o=i.focus;if(!i.dialog||o&&s.isDescendant(o,i.dialog.domNode)||(i.dialog._getFocusItems(),o=i.dialog._firstFocusItem),o)try{o.focus()}catch(t){}}}else{var n=e.indexOf(e.map(S,function(t){return t.dialog}),t);-1!=n&&S.splice(n,1)}},isTop:function(t){return S[S.length-1].dialog==t}},S=L._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return v.watch("curNode",function(t,e,i){var o=S[S.length-1].dialog;if(i&&o&&!o._fadeOutDeferred&&i.ownerDocument==o.ownerDocument){do{if(i==o.domNode||a.contains(i,"dijitPopup"))return}while(i=i.parentNode);o.focus()}}),m("dijit-legacy-requires")&&_(0,function(){t(["dijit/TooltipDialog"])}),L});//# sourceMappingURL=Dialog.js.map