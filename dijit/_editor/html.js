//>>built
define("dijit/_editor/html",["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(e,t,i){var n={};t.setObject("dijit._editor.html",n);var o=n.escapeXml=function(e,t){return e=e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;"),t||(e=e.replace(/'/gm,"&#39;")),e};return n.getNodeHtml=function(e){var t=[];return n.getNodeHtmlHelper(e,t),t.join("")},n.getNodeHtmlHelper=function(t,s){switch(t.nodeType){case 1:var a=t.nodeName.toLowerCase();if(!a||"/"==a.charAt(0))return"";s.push("<",a);var d,r=[],l={};if(i("dom-attributes-explicit")||i("dom-attributes-specified-flag"))for(var h=0;d=t.attributes[h++];){var u=d.name;if("_dj"!==u.substr(0,3)&&(!i("dom-attributes-specified-flag")||d.specified)&&!(u in l)){var c=d.value;"src"!=u&&"href"!=u||t.getAttribute("_djrealurl")&&(c=t.getAttribute("_djrealurl")),8===i("ie")&&"style"===u&&(c=c.replace("HEIGHT:","height:").replace("WIDTH:","width:")),r.push([u,c]),l[u]=c}}else{var p=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),g=p.outerHTML,f=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi,m=g.match(f);g=g.substr(0,g.indexOf(">")),e.forEach(m,function(e){if(e){var i=e.indexOf("=");if(i>0){var n=e.substring(0,i);if("_dj"!=n.substr(0,3)){if(("src"==n||"href"==n)&&t.getAttribute("_djrealurl"))return void r.push([n,t.getAttribute("_djrealurl")]);var o,s;switch(n){case"style":o=t.style.cssText.toLowerCase();break;case"class":o=t.className;break;case"width":if("img"===a){s=/width=(\S+)/i.exec(g),s&&(o=s[1]);break}case"height":if("img"===a){s=/height=(\S+)/i.exec(g),s&&(o=s[1]);break}default:o=t.getAttribute(n)}null!=o&&r.push([n,o.toString()])}}}},this)}r.sort(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1});for(var b=0;d=r[b++];)s.push(" ",d[0],'="',"string"==typeof d[1]?o(d[1],!0):d[1],'"');switch(a){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":s.push(" />");break;case"script":s.push(">",t.innerHTML,"</",a,">");break;default:s.push(">"),t.hasChildNodes()&&n.getChildrenHtmlHelper(t,s),s.push("</",a,">")}break;case 4:case 3:s.push(o(t.nodeValue,!0));break;case 8:s.push("<!--",o(t.nodeValue,!0),"-->");break;default:s.push("<!-- Element not recognized - Type: ",t.nodeType," Name: ",t.nodeName,"-->")}},n.getChildrenHtml=function(e){var t=[];return n.getChildrenHtmlHelper(e,t),t.join("")},n.getChildrenHtmlHelper=function(e,t){if(e)for(var o,s=e.childNodes||e,a=!i("ie")||s!==e,d=0;o=s[d++];)a&&o.parentNode!=e||n.getNodeHtmlHelper(o,t)},n});//# sourceMappingURL=html.js.map