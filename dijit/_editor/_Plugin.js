//>>built
define("dijit/_editor/_Plugin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(t,e,o,i,n){var s=e("dijit._editor._Plugin",i,{constructor:function(t){this.params=t||{},o.mixin(this,this.params),this._attrPairNames={}},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:!0,buttonClass:n,disabled:!1,getLabel:function(t){return this.editor.commands[t]},_initButton:function(){if(this.command.length){var t=this.getLabel(this.command),e=this.editor,i=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var n=o.mixin({label:t,ownerDocument:e.ownerDocument,dir:e.dir,lang:e.lang,showLabel:!1,iconClass:i,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});delete n.name,this.button=new this.buttonClass(n)}}this.get("disabled")&&this.button&&this.button.set("disabled",this.get("disabled"))},destroy:function(){this.dropDown&&this.dropDown.destroyRecursive(),this.inherited(arguments)},connect:function(e,o,i){this.own(t.connect(e,o,this,i))},updateState:function(){var t,e,o=this.editor,i=this.command;if(o&&o.isLoaded&&i.length){var n=this.get("disabled");if(this.button)try{e=!n&&o.queryCommandEnabled(i),this.enabled!==e&&(this.enabled=e,this.button.set("disabled",!e)),e&&"boolean"==typeof this.button.checked&&(t=o.queryCommandState(i),this.checked!==t&&(this.checked=t,this.button.set("checked",o.queryCommandState(i))))}catch(o){}}},setEditor:function(t){this.editor=t,this._initButton(),this.button&&this.useDefaultCommand&&(this.editor.queryCommandAvailable(this.command)?this.own(this.button.on("click",o.hitch(this.editor,"execCommand",this.command,this.commandArg))):this.button.domNode.style.display="none"),this.own(this.editor.on("NormalizedDisplayChanged",o.hitch(this,"updateState")))},setToolbar:function(t){this.button&&t.addChild(this.button)},set:function(t,e){if("object"==typeof t){for(var o in t)this.set(o,t[o]);return this}var i=this._getAttrNames(t);if(this[i.s])var n=this[i.s].apply(this,Array.prototype.slice.call(arguments,1));else this._set(t,e);return n||this},get:function(t){var e=this._getAttrNames(t);return this[e.g]?this[e.g]():this[t]},_setDisabledAttr:function(t){this._set("disabled",t),this.updateState()},_getAttrNames:function(t){var e=this._attrPairNames;if(e[t])return e[t];var o=t.charAt(0).toUpperCase()+t.substr(1);return e[t]={s:"_set"+o+"Attr",g:"_get"+o+"Attr"}},_set:function(t,e){this[t]=e}});return s.registry={},s});//# sourceMappingURL=_Plugin.js.map