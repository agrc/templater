{"version":3,"sources":["LinkDialog.js.uncompressed.js"],"names":["define","require","declare","domAttr","keys","lang","on","has","query","string","_Plugin","DropDownButton","rangeapi","LinkDialog","buttonClass","useDefaultCommand","urlRegExp","emailRegExp","htmlTemplate","tag","_hostRxp","_userAtRxp","linkDialogTemplate","join","_initButton","this","inherited","arguments","button","loadDropDown","hitch","_connectTagEvents","_loadDropDown","callback","i18n","TooltipDialog","registry","_this","command","messages","delegate","getLocalization","dropDown","title","ownerDocument","editor","dir","execute","onOpen","_onOpenDialog","prototype","apply","onCancel","setTimeout","id","getUniqueId","_uniqueId","_setContent","substitute","startup","_urlInput","byId","_textInput","_setButton","own","_urlRegExp","RegExp","_emailRegExp","isValid","value","get","test","domNode","e","keyCode","ENTER","shiftKey","metaKey","ctrlKey","altKey","onExecute","_checkAndFixInput","self","url","fixupUrl","appendHttp","appendMailto","length","trim","indexOf","charAt","set","_isValid","_delayedCheck","clearTimeout","onLoadDeferred","then","editNode","staticPanel","parserScope","content","_checkValues","args","urlInput","replace","setValue","_onCloseDialog","sel","getSelection","window","range","getRangeAt","a","endContainer","nodeType","parentNode","nodeName","toLowerCase","selection","getSelectedElement","queryCommandEnabled","selectElementChildren","execCommand","document","forEach","innerHTML","removeChild","focused","focus","_getCurrentValues","text","target","tagName","getAttribute","textContent","innerText","selectElement","getSelectedText","textInput","targetSelect","b","fc","rangeCount","getAncestorElement","startContainer","firstChild","reset","_onDblClick","t","tg","onDisplayChanged","_updateTimer","remove","onNormalizedDisplayChanged","loadAndOpenDropDown","ImgLinkDialog","img","_selectTag"],"mappings":"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","file":"LinkDialog.js.uncompressed.js"}