//>>built
define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(e,t,i,o,n,r){var a=i("dijit._editor.plugins.TextColor",n,{buttonClass:r,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name,this.inherited(arguments);var t=this;this.button.loadDropDown=function(i){function o(e){t.button.dropDown=new e({dir:t.editor.dir,ownerDocument:t.editor.ownerDocument,value:t.value,onChange:function(e){t.editor.execCommand(t.command,e)},onExecute:function(){t.editor.execCommand(t.command,this.get("value"))}}),i()}"string"==typeof t.colorPicker?e([t.colorPicker],o):o(t.colorPicker)}},updateState:function(){var e=this.editor,i=this.command;if(e&&e.isLoaded&&i.length){if(this.button){var o=this.get("disabled");if(this.button.set("disabled",o),o)return;var n;try{n=e.queryCommandValue(i)||""}catch(e){n=""}}""==n&&(n="#000000"),"transparent"==n&&(n="#ffffff"),"string"==typeof n?n.indexOf("rgb")>-1&&(n=t.fromRgb(n).toHex()):(n=(255&n)<<16|65280&n|(16711680&n)>>>16,n=n.toString(16),n="#000000".slice(0,7-n.length)+n),this.value=n;var r=this.button.dropDown;r&&r.get&&n!==r.get("value")&&r.set("value",n,!1)}}});return n.registry.foreColor=function(e){return new a(e)},n.registry.hiliteColor=function(e){return new a(e)},a});//# sourceMappingURL=TextColor.js.map