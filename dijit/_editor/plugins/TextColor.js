//>>built
define("dijit/_editor/plugins/TextColor",["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(e,t,i,n,o,a){var r=i("dijit._editor.plugins.TextColor",o,{buttonClass:a,colorPicker:"dijit/ColorPalette",useDefaultCommand:!1,_initButton:function(){this.command=this.name,this.inherited(arguments);var t=this;this.button.loadDropDown=function(i){function n(e){t.button.dropDown=new e({dir:t.editor.dir,ownerDocument:t.editor.ownerDocument,value:t.value,onChange:function(e){t.editor.execCommand(t.command,e)},onExecute:function(){t.editor.execCommand(t.command,this.get("value"))}}),i()}"string"==typeof t.colorPicker?e([t.colorPicker],n):n(t.colorPicker)}},updateState:function(){var e=this.editor,i=this.command;if(e&&e.isLoaded&&i.length){if(this.button){var n=this.get("disabled");if(this.button.set("disabled",n),n)return;var o;try{o=e.queryCommandValue(i)||""}catch(a){o=""}}""==o&&(o="#000000"),"transparent"==o&&(o="#ffffff"),"string"==typeof o?o.indexOf("rgb")>-1&&(o=t.fromRgb(o).toHex()):(o=(255&o)<<16|65280&o|(16711680&o)>>>16,o=o.toString(16),o="#000000".slice(0,7-o.length)+o),this.value=o;var r=this.button.dropDown;r&&r.get&&o!==r.get("value")&&r.set("value",o,!1)}}});return o.registry.foreColor=function(e){return new r(e)},o.registry.hiliteColor=function(e){return new r(e)},r});//# sourceMappingURL=TextColor.js.map