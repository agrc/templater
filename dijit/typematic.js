//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(t,e,i,o,s,n){var r=n.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(i.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(t,e,o,s,n,r,a,d){if(n!=this._obj){this.stop(),this._initialDelay=a||500,this._subsequentDelay=r||.9,this._minDelay=d||10,this._obj=n,this._node=o,this._currentTimeout=-1,this._count=-1,this._callback=i.hitch(e,s),this._evt={faux:!0};for(var h in t)if("layerX"!=h&&"layerY"!=h){var l=t[h];"function"!=typeof l&&"undefined"!=typeof l&&(this._evt[h]=l)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(s,n,a,d,h,l,c){var u="keyCode"in n?"keydown":"charCode"in n?"keypress":e._keypress,f="keyCode"in n?"keyCode":"charCode"in n?"charCode":"charOrCode",p=[o(s,u,i.hitch(this,function(t){t[f]!=n[f]||void 0!==n.ctrlKey&&n.ctrlKey!=t.ctrlKey||void 0!==n.altKey&&n.altKey!=t.altKey||void 0!==n.metaKey&&n.metaKey!=(t.metaKey||!1)||void 0!==n.shiftKey&&n.shiftKey!=t.shiftKey?r._obj==n&&r.stop():(t.stopPropagation(),t.preventDefault(),r.trigger(t,a,s,d,n,h,l,c))})),o(s,"keyup",i.hitch(this,function(){r._obj==n&&r.stop()}))];return{remove:function(){t.forEach(p,function(t){t.remove()})}}},addMouseListener:function(e,n,a,d,h,l){var c=[o(e,"mousedown",i.hitch(this,function(t){t.preventDefault(),r.trigger(t,n,e,a,e,d,h,l)})),o(e,"mouseup",i.hitch(this,function(t){this._obj&&t.preventDefault(),r.stop()})),o(e,"mouseout",i.hitch(this,function(t){this._obj&&t.preventDefault(),r.stop()})),o(e,"dblclick",i.hitch(this,function(t){t.preventDefault(),s("ie")<9&&(r.trigger(t,n,e,a,e,d,h,l),setTimeout(i.hitch(this,r.stop),50))}))];return{remove:function(){t.forEach(c,function(t){t.remove()})}}},addListener:function(e,i,o,s,n,r,a,d){var h=[this.addKeyListener(i,o,s,n,r,a,d),this.addMouseListener(e,s,n,r,a,d)];return{remove:function(){t.forEach(h,function(t){t.remove()})}}}};return r});//# sourceMappingURL=typematic.js.map