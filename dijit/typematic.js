//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(t,e,i,a,n,s){var o=s.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(i.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(t,e,a,n,s,o,d,r){if(s!=this._obj){this.stop(),this._initialDelay=d||500,this._subsequentDelay=o||.9,this._minDelay=r||10,this._obj=s,this._node=a,this._currentTimeout=-1,this._count=-1,this._callback=i.hitch(e,n),this._evt={faux:!0};for(var l in t)if("layerX"!=l&&"layerY"!=l){var c=t[l];"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[l]=c)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(n,s,d,r,l,c,h){var u="keyCode"in s?"keydown":"charCode"in s?"keypress":e._keypress,_="keyCode"in s?"keyCode":"charCode"in s?"charCode":"charOrCode",p=[a(n,u,i.hitch(this,function(t){t[_]!=s[_]||void 0!==s.ctrlKey&&s.ctrlKey!=t.ctrlKey||void 0!==s.altKey&&s.altKey!=t.altKey||void 0!==s.metaKey&&s.metaKey!=(t.metaKey||!1)||void 0!==s.shiftKey&&s.shiftKey!=t.shiftKey?o._obj==s&&o.stop():(t.stopPropagation(),t.preventDefault(),o.trigger(t,d,n,r,s,l,c,h))})),a(n,"keyup",i.hitch(this,function(){o._obj==s&&o.stop()}))];return{remove:function(){t.forEach(p,function(t){t.remove()})}}},addMouseListener:function(e,s,d,r,l,c){var h=[a(e,"mousedown",i.hitch(this,function(t){t.preventDefault(),o.trigger(t,s,e,d,e,r,l,c)})),a(e,"mouseup",i.hitch(this,function(t){this._obj&&t.preventDefault(),o.stop()})),a(e,"mouseout",i.hitch(this,function(t){this._obj&&t.preventDefault(),o.stop()})),a(e,"dblclick",i.hitch(this,function(t){t.preventDefault(),n("ie")<9&&(o.trigger(t,s,e,d,e,r,l,c),setTimeout(i.hitch(this,o.stop),50))}))];return{remove:function(){t.forEach(h,function(t){t.remove()})}}},addListener:function(e,i,a,n,s,o,d,r){var l=[this.addKeyListener(i,a,n,s,o,d,r),this.addMouseListener(e,n,s,o,d,r)];return{remove:function(){t.forEach(l,function(t){t.remove()})}}}};return o});//# sourceMappingURL=typematic.js.map