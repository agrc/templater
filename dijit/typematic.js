//>>built
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,o,i,n,s){var a=s.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),this._timer=setTimeout(o.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(e,t,i,n,s,a,r,d){if(s!=this._obj){this.stop(),this._initialDelay=r||500,this._subsequentDelay=a||.9,this._minDelay=d||10,this._obj=s,this._node=i,this._currentTimeout=-1,this._count=-1,this._callback=o.hitch(t,n),this._evt={faux:!0};for(var h in e)if("layerX"!=h&&"layerY"!=h){var l=e[h];"function"!=typeof l&&"undefined"!=typeof l&&(this._evt[h]=l)}this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(n,s,r,d,h,l,c){var u="keyCode"in s?"keydown":"charCode"in s?"keypress":t._keypress,p="keyCode"in s?"keyCode":"charCode"in s?"charCode":"charOrCode",_=[i(n,u,o.hitch(this,function(e){e[p]!=s[p]||void 0!==s.ctrlKey&&s.ctrlKey!=e.ctrlKey||void 0!==s.altKey&&s.altKey!=e.altKey||void 0!==s.metaKey&&s.metaKey!=(e.metaKey||!1)||void 0!==s.shiftKey&&s.shiftKey!=e.shiftKey?a._obj==s&&a.stop():(e.stopPropagation(),e.preventDefault(),a.trigger(e,r,n,d,s,h,l,c))})),i(n,"keyup",o.hitch(this,function(){a._obj==s&&a.stop()}))];return{remove:function(){e.forEach(_,function(e){e.remove()})}}},addMouseListener:function(t,s,r,d,h,l){var c=[i(t,"mousedown",o.hitch(this,function(e){e.preventDefault(),a.trigger(e,s,t,r,t,d,h,l)})),i(t,"mouseup",o.hitch(this,function(e){this._obj&&e.preventDefault(),a.stop()})),i(t,"mouseout",o.hitch(this,function(e){this._obj&&e.preventDefault(),a.stop()})),i(t,"dblclick",o.hitch(this,function(e){e.preventDefault(),n("ie")<9&&(a.trigger(e,s,t,r,t,d,h,l),setTimeout(o.hitch(this,a.stop),50))}))];return{remove:function(){e.forEach(c,function(e){e.remove()})}}},addListener:function(t,o,i,n,s,a,r,d){var h=[this.addKeyListener(o,i,n,s,a,r,d),this.addMouseListener(t,n,s,a,r,d)];return{remove:function(){e.forEach(h,function(e){e.remove()})}}}};return a});//# sourceMappingURL=typematic.js.map