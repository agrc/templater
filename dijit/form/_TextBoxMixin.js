//>>built
define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/sniff","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(e,t,i,n,o,s,r,a){var d=t("dijit.form._TextBoxMixin"+(n("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(e,t,i){var n;void 0!==e&&(n=this.filter(e),"string"!=typeof i&&(i=null===n||"number"==typeof n&&isNaN(n)?"":this.filter(this.format(n,this.constraints)),0!=this.compare(n,this.filter(this.parse(i,this.constraints)))&&(i=null))),null==i||"number"==typeof i&&isNaN(i)||this.textbox.value==i||(this.textbox.value=i,this._set("displayedValue",this.get("displayedValue"))),this.inherited(arguments,[n,t])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(e){null==e?e="":"string"!=typeof e&&(e=String(e)),this.textbox.value=e,this._setValueAttr(this.get("value"),void 0),this._set("displayedValue",this.get("displayedValue"))},format:function(e){return null==e?"":e.toString?e.toString():e},parse:function(e){return e},_refreshState:function(){},onInput:function(){},_onInput:function(e){this._lastInputEventValue=this.textbox.value,this._processInput(this._lastInputProducingEvent||e),delete this._lastInputProducingEvent,this.intermediateChanges&&this._handleOnChange(this.get("value"),!1)},_processInput:function(){this._refreshState(),this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){function e(e){var t;if("keydown"==e.type&&229!=e.keyCode){switch(t=e.keyCode){case o.SHIFT:case o.ALT:case o.CTRL:case o.META:case o.CAPS_LOCK:case o.NUM_LOCK:case o.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(t){case o.NUMPAD_0:case o.NUMPAD_1:case o.NUMPAD_2:case o.NUMPAD_3:case o.NUMPAD_4:case o.NUMPAD_5:case o.NUMPAD_6:case o.NUMPAD_7:case o.NUMPAD_8:case o.NUMPAD_9:case o.NUMPAD_MULTIPLY:case o.NUMPAD_PLUS:case o.NUMPAD_ENTER:case o.NUMPAD_MINUS:case o.NUMPAD_PERIOD:case o.NUMPAD_DIVIDE:return}if(t>=65&&90>=t||t>=48&&57>=t||t==o.SPACE)return;var i=!1;for(var a in o)if(o[a]===e.keyCode){i=!0;break}if(!i)return}}if(t=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode,t||(t=e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode==o.SPACE?String.fromCharCode(e.keyCode):e.keyCode),t||(t=229),"keypress"==e.type){if("string"!=typeof t)return;if((t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t||" "===t)&&(e.ctrlKey||e.metaKey||e.altKey))return}var d,l={faux:!0};for(d in e)if(!/^(layer[XY]|returnValue|keyLocation)$/.test(d)){var c=e[d];"function"!=typeof c&&"undefined"!=typeof c&&(l[d]=c)}if(s.mixin(l,{charOrCode:t,_wasConsumed:!1,preventDefault:function(){l._wasConsumed=!0,e.preventDefault()},stopPropagation:function(){e.stopPropagation()}}),this._lastInputProducingEvent=l,this.onInput(l)===!1&&(l.preventDefault(),l.stopPropagation()),!l._wasConsumed&&n("ie")<=9)switch(e.keyCode){case o.TAB:case o.ESCAPE:case o.DOWN_ARROW:case o.UP_ARROW:case o.LEFT_ARROW:case o.RIGHT_ARROW:break;default:if(e.keyCode==o.ENTER&&"textarea"!=this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&r.emit(this.textbox,"input",{bubbles:!0})})}}this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments),this.own(r(this.textbox,"keydown, keypress, paste, cut, compositionend",s.hitch(this,e)),r(this.textbox,"input",s.hitch(this,"_onInput")),r(this.domNode,"keypress",function(e){e.stopPropagation()}))},_blankValue:"",filter:function(e){return null===e?this._blankValue:"string"!=typeof e?e:(this.trim&&(e=s.trim(e)),this.uppercase&&(e=e.toUpperCase()),this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(e){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(e){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=r.once(this.domNode,"mouseup, touchend",s.hitch(this,function(e){this._isTextSelected()||d.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="",this.inherited(arguments)}});return n("dojo-bidi")&&(d=t("dijit.form._TextBoxMixin",d,{_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments)}})),d._setSelectionRange=a._setSelectionRange=function(e,t,i){e.setSelectionRange&&e.setSelectionRange(t,i)},d.selectInputText=a.selectInputText=function(e,t,n){e=i.byId(e),isNaN(t)&&(t=0),isNaN(n)&&(n=e.value?e.value.length:0);try{e.focus(),d._setSelectionRange(e,t,n)}catch(o){}},d});//# sourceMappingURL=_TextBoxMixin.js.map