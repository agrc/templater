//>>built
define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(e,t,i,n,o,r){return t("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(t){var i=[];return e.forEach(t||this.getChildren(),function(e){"value"in e?i.push(e):i=i.concat(this._getDescendantFormWidgets(e.getChildren()))},this),i},reset:function(){e.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},validate:function(){var t=!1;return e.every(e.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var i=e.disabled||!e.validate||e.validate();return i||t||(r.scrollIntoView(e.containerNode||e.domNode),e.focus(),t=!0),i}),function(e){return e})},setValues:function(e){return i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),this.set("value",e)},_setValueAttr:function(t){var i={};e.forEach(this._getDescendantFormWidgets(),function(e){if(e.name){var t=i[e.name]||(i[e.name]=[]);t.push(e)}});for(var o in i)if(i.hasOwnProperty(o)){var r=i[o],a=n.getObject(o,!1,t);void 0!==a&&(a=[].concat(a),"boolean"==typeof r[0].checked?e.forEach(r,function(t){t.set("value",-1!=e.indexOf(a,t._get("value")))}):r[0].multiple?r[0].set("value",a):e.forEach(r,function(e,t){e.set("value",a[t])}))}},getValues:function(){return i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),this.get("value")},_getValueAttr:function(){var t={};return e.forEach(this._getDescendantFormWidgets(),function(e){var i=e.name;if(i&&!e.disabled){var o=e.get("value");if("boolean"==typeof e.checked)if(/Radio/.test(e.declaredClass))o!==!1?n.setObject(i,o,t):(o=n.getObject(i,!1,t),void 0===o&&n.setObject(i,null,t));else{var r=n.getObject(i,!1,t);r||(r=[],n.setObject(i,r,t)),o!==!1&&r.push(o)}else{var a=n.getObject(i,!1,t);"undefined"!=typeof a?n.isArray(a)?a.push(o):n.setObject(i,[a,o],t):n.setObject(i,o,t)}}}),t},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var t=e.map(this._descendants,function(e){return e.get("state")||""});return e.indexOf(t,"Error")>=0?"Error":e.indexOf(t,"Incomplete")>=0?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(t){this._descendants=this._getDescendantFormWidgets(),e.forEach(this._descendants,function(e){e._started||e.startup()}),t||this._onChildChange()},_onChildChange:function(e){e&&"state"!=e&&"disabled"!=e||this._set("state",this._getState()),e&&"value"!=e&&"disabled"!=e&&"checked"!=e||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer,this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),this.value=this.get("value"),this.state=this._getState();var e=this;this.own(o(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(t){t.target!=e.domNode&&e._onChildChange(t.type.replace("attrmodified-",""))})),this.watch("state",function(e,t,i){this.onValidStateChange(""==i)})},destroy:function(){this.inherited(arguments)}})});//# sourceMappingURL=_FormMixin.js.map