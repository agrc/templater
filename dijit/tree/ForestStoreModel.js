//>>built
define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(e,t,i,o,n){return t("dijit.tree.ForestStoreModel",n,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(e){this.root={store:this,root:!0,id:e.rootId,label:e.rootLabel,children:e.rootChildren}},mayHaveChildren:function(e){return e===this.root||this.inherited(arguments)},getChildren:function(e,t,i){e===this.root?this.root.children?t(this.root.children):this.store.fetch({query:this.query,onComplete:o.hitch(this,function(e){this.root.children=e,t(e)}),onError:i}):this.inherited(arguments)},isItem:function(e){return e===this.root||this.inherited(arguments)},fetchItemByIdentity:function(e){if(e.identity==this.root.id){var t=e.scope||i.global;e.onItem&&e.onItem.call(t,this.root)}else this.inherited(arguments)},getIdentity:function(e){return e===this.root?this.root.id:this.inherited(arguments)},getLabel:function(e){return e===this.root?this.root.label:this.inherited(arguments)},newItem:function(e,t,i){return t===this.root?(this.onNewRootItem(e),this.store.newItem(e)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(e,t,i,o,n){t===this.root&&(o||this.onLeaveRoot(e)),this.inherited(arguments,[e,t===this.root?null:t,i===this.root?null:i,o,n]),i===this.root&&this.onAddToRoot(e)},onAddToRoot:function(e){},onLeaveRoot:function(e){},_requeryTop:function(){var t=this.root.children||[];this.store.fetch({query:this.query,onComplete:o.hitch(this,function(i){this.root.children=i,(t.length!=i.length||e.some(t,function(e,t){return i[t]!=e}))&&this.onChildrenChange(this.root,i)})})},onNewItem:function(e,t){this._requeryTop(),this.inherited(arguments)},onDeleteItem:function(t){-1!=e.indexOf(this.root.children,t)&&this._requeryTop(),this.inherited(arguments)},onSetItem:function(e,t,i,o){this._requeryTop(),this.inherited(arguments)}})});//# sourceMappingURL=ForestStoreModel.js.map