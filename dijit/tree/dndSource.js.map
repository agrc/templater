{"version":3,"sources":["dndSource.js.uncompressed.js"],"names":["define","array","declare","dndCommon","domClass","domGeometry","lang","on","touch","topic","DNDManager","_dndSelector","dndSource","isSource","accept","copyOnly","dragThreshold","betweenThreshold","generateText","constructor","tree","params","mixin","this","type","Array","length","i","isDragging","mouseDown","targetAnchor","targetBox","dropPosition","_lastX","_lastY","sourceState","add","node","targetState","topics","subscribe","hitch","checkAcceptance","copyState","keyPressed","destroy","inherited","arguments","h","pop","remove","_onDragMouse","e","firstTime","m","manager","oldTarget","newTarget","current","oldDropPosition","newDropPosition","position","rowNode","pageY","y","_removeItemClass","_addItemClass","rootNode","canDrop","dropOntoSelf","dropOntoParent","source","dragId","selection","dragNode","item","getParent","id","_isParentChildDrop","checkItemAcceptance","toLowerCase","onMouseMove","Math","abs","pageX","nodes","getSelectedTreeNodes","n","p","seen","r","nextitem","push","map","domNode","startDrag","getCopyKeyState","onMouseDown","mouseButton","button","onMouseUp","onMouseOut","_unmarkTargetAnchor","onDndSourceOver","onDndStart","copy","_changeState","accepted","overSource","itemCreator","name","textContent","innerText","onDndDrop","containerState","model","target","newParentItem","insertIndex","before","getIndexInParent","getNextSibling","newItemsParams","forEach","idx","sourceItem","getItem","indexOf","childTreeNode","data","childItem","oldParentItem","pasteItem","isItem","newItem","_expandNode","onDndCancel","onOverEvent","onOutEvent","outSource","targetRow","root","ids","parentNode","_markDndStatus"],"mappings":";AAAAA,OAAO,wBACN,mBACA,qBACA,kBACA,iBACA,oBACA,kBACA,UACA,aACA,aACA,mBACA,kBACE,SAASC,EAAOC,EAASC,EAAWC,EAAUC,EAAaC,EAAMC,EAAIC,EAAOC,EAAOC,EAAYC,GAgBjG,GAAIC,GAAYV,EAAQ,uBAAwBS,GAM/CE,UAAU,EAKVC,QAAS,OAAQ,YAIjBC,UAAU,EAIVC,cAAe,EAIfC,iBAAkB,EAGlBC,cAAc,EAEdC,YAAa,SAAwBC,EAA+BC,GAK/DA,IACHA,MAEDf,EAAKgB,MAAMC,KAAMF,EACjB,IAAIG,GAAOH,EAAOP,iBAAkBW,OAAQJ,EAAOP,QAAU,OAAQ,WAErE,IADAS,KAAKT,OAAS,KACXU,EAAKE,OAAO,CACdH,KAAKT,SACL,KAAI,GAAIa,GAAI,EAAGA,EAAIH,EAAKE,SAAUC,EACjCJ,KAAKT,OAAOU,EAAKG,IAAM,EAKzBJ,KAAKK,YAAa,EAClBL,KAAKM,WAAY,EACjBN,KAAKO,aAAe,KACpBP,KAAKQ,UAAY,KACjBR,KAAKS,aAAe,GACpBT,KAAKU,OAAS,EACdV,KAAKW,OAAS,EAGdX,KAAKY,YAAc,GAChBZ,KAAKV,UACPT,EAASgC,IAAIb,KAAKc,KAAM,iBAEzBd,KAAKe,YAAc,GAChBf,KAAKT,QACPV,EAASgC,IAAIb,KAAKc,KAAM,iBAIzBd,KAAKgB,QACJ9B,EAAM+B,UAAU,mBAAoBlC,EAAKmC,MAAMlB,KAAM,oBACrDd,EAAM+B,UAAU,aAAclC,EAAKmC,MAAMlB,KAAM,eAC/Cd,EAAM+B,UAAU,YAAalC,EAAKmC,MAAMlB,KAAM,cAC9Cd,EAAM+B,UAAU,cAAelC,EAAKmC,MAAMlB,KAAM,kBAKlDmB,gBAAiB,WAUhB,OAAO,GAGRC,UAAW,SAASC,GAQnB,MAAOrB,MAAKR,UAAY6B,GAEzBC,QAAS,WAGRtB,KAAKuB,UAAUC,UAEf,KADA,GAAIC,GACEA,EAAIzB,KAAKgB,OAAOU,OACrBD,EAAEE,QAEH3B,MAAKO,aAAe,MAGrBqB,aAAc,SAASC,EAAGC,GAWzB,GAAIC,GAAI5C,EAAW6C,UAClBC,EAAYjC,KAAKO,aACjB2B,EAAYlC,KAAKmC,QACjBC,EAAkBpC,KAAKS,aAIpB4B,EAAkB,MAatB,IAZGH,GAAalC,KAAKN,iBAAmB,IAEnCM,KAAKQ,WAAayB,GAAaC,IAClClC,KAAKQ,UAAY1B,EAAYwD,SAASJ,EAAUK,SAAS,IAEtDV,EAAEW,MAAQxC,KAAKQ,UAAUiC,GAAMzC,KAAKN,iBACvC2C,EAAkB,SACTR,EAAEW,MAAQxC,KAAKQ,UAAUiC,GAAOzC,KAAKQ,UAAUiB,EAAIzB,KAAKN,mBACjE2C,EAAkB,UAIjBP,GAAaI,GAAaD,GAAaI,GAAmBD,EAAgB,CAS5E,GARGH,GACFjC,KAAK0C,iBAAiBT,EAAUM,QAASH,GAEvCF,GACFlC,KAAK2C,cAAcT,EAAUK,QAASF,GAInCH,EAEE,GAAGA,GAAalC,KAAKH,KAAK+C,UAA+B,QAAnBP,EAE3CN,EAAEc,SAAQ,OACN,CAGJ,GAAIC,IAAe,EAClBC,GAAiB,CAClB,IAAGhB,EAAEiB,QAAUhD,KAAK,CACnB+C,EAAsC,SAApBV,CAClB,KAAI,GAAIY,KAAUjD,MAAKkD,UAAU,CAChC,GAAIC,GAAWnD,KAAKkD,UAAUD,EAC9B,IAAGE,EAASC,OAASlB,EAAUkB,KAAK,CACnCN,GAAe,CACf,OAEEK,EAASE,YAAYC,KAAOpB,EAAUoB,KACxCP,GAAiB,IAIpBhB,EAAEc,SACAC,IAAiBC,IACjB/C,KAAKuD,mBAAmBxB,EAAEiB,OAAQd,EAAUK,UAC7CvC,KAAKwD,oBAAoBtB,EAAUK,QAASR,EAAEiB,OAAQX,EAAgBoB,oBAzBvE1B,GAAEc,SAAQ,EA6BX7C,MAAKO,aAAe2B,EACpBlC,KAAKS,aAAe4B,IAItBqB,YAAa,SAAS7B,GAOrB,IAAG7B,KAAKK,YAAkC,YAApBL,KAAKe,YAA3B,CAGAf,KAAKuB,UAAUC,UACf,IAAIO,GAAI5C,EAAW6C,SACnB,IAAGhC,KAAKK,WACPL,KAAK4B,aAAaC,OAElB,IAAG7B,KAAKM,WAAaN,KAAKV,WACxBqE,KAAKC,IAAI/B,EAAEgC,MAAQ7D,KAAKU,SAAWV,KAAKP,eAAiBkE,KAAKC,IAAI/B,EAAEW,MAAQxC,KAAKW,SAAWX,KAAKP,eAAe,CACjH,GAAIqE,GAAQ9D,KAAK+D,sBACjB,IAAGD,EAAM3D,OAAO,CACf,GAAG2D,EAAM3D,OAAS,EAAE,CAEnB,GAA0C6D,GAAGC,EAAzCC,EAAOlE,KAAKkD,UAAW9C,EAAI,EAAG+D,IAClCC,GAAU,KAAOJ,EAAIF,EAAM1D,MAAM,CAChC,IAAI6D,EAAID,EAAEX,YAAaY,GAAKA,IAAMjE,KAAKH,KAAMoE,EAAIA,EAAEZ,YAClD,GAAGa,EAAKD,EAAEX,IACT,QAASc,EAIXD,GAAEE,KAAKL,GAERF,EAAQK,EAETL,EAAQpF,EAAM4F,IAAIR,EAAO,SAASE,GACjC,MAAOA,GAAEO,UAEVxC,EAAEyC,UAAUxE,KAAM8D,EAAO9D,KAAKoB,UAAUxC,EAAU6F,gBAAgB5C,KAClE7B,KAAK4B,aAAaC,GAAG,OAMzB6C,YAAa,SAAS7C,GAOrB7B,KAAKM,WAAY,EACjBN,KAAK2E,YAAc9C,EAAE+C,OACrB5E,KAAKU,OAASmB,EAAEgC,MAChB7D,KAAKW,OAASkB,EAAEW,MAChBxC,KAAKuB,UAAUC,YAGhBqD,UAAW,SAAShD,GAOhB7B,KAAKM,YACPN,KAAKM,WAAY,EACjBN,KAAKuB,UAAUC,aAIjBsD,WAAY,WAKX9E,KAAKuB,UAAUC,WACfxB,KAAK+E,uBAGNvB,oBAAqB,WAgBpB,OAAO,GAIRwB,gBAAiB,SAAShC,GAOzB,GAAGhD,MAAQgD,EACVhD,KAAKM,WAAY,EACjBN,KAAK+E,0BACA,IAAG/E,KAAKK,WAAW,CACxB,GAAI0B,GAAI5C,EAAW6C,SACnBD,GAAEc,SAAQ,KAGZoC,WAAY,SAASjC,EAAQc,EAAOoB,GAYhClF,KAAKV,UACPU,KAAKmF,aAAa,SAAUnF,MAAQgD,EAAUkC,EAAO,SAAW,QAAW,GAE5E,IAAIE,GAAWpF,KAAKmB,gBAAgB6B,EAAQc,EAE5C9D,MAAKmF,aAAa,SAAUC,EAAW,GAAK,YAEzCpF,MAAQgD,GACV7D,EAAW6C,UAAUqD,WAAWrF,MAGjCA,KAAKK,YAAa,GAGnBiF,YAAa,SAASxB,GAoBrB,MAAOpF,GAAM4F,IAAIR,EAAO,SAAShD,GAChC,OACCwC,GAAMxC,EAAKwC,GACXiC,KAAQzE,EAAK0E,aAAe1E,EAAK2E,WAAa,OAKjDC,UAAW,SAAS1C,EAAQc,EAAOoB,GAclC,GAA0B,QAAvBlF,KAAK2F,eAAyB,CAChC,GAAI9F,GAAOG,KAAKH,KACf+F,EAAQ/F,EAAK+F,MACbC,EAAS7F,KAAKO,YAEfP,MAAKK,YAAa,CAGlB,IAAIyF,GACAC,EACAC,CACJF,GAAiBD,GAAUA,EAAOzC,MAASvD,EAAKuD,KACxB,UAArBpD,KAAKS,cAAiD,SAArBT,KAAKS,cAGxCqF,EAAiBD,EAAOxC,aAAewC,EAAOxC,YAAYD,MAASvD,EAAKuD,KAExE2C,EAAcF,EAAOI,mBACG,SAArBjG,KAAKS,cACPsF,EAAcF,EAAOI,mBAAqB,EAC1CD,EAASH,EAAOK,kBAAoBL,EAAOK,iBAAiB9C,MAE5D4C,EAASH,EAAOzC,MAGjB0C,EAAiBD,GAAUA,EAAOzC,MAASvD,EAAKuD,IAKjD,IAAI+C,EAEJzH,GAAM0H,QAAQtC,EAAO,SAAShD,EAAMuF,GAInC,GAAIC,GAAatD,EAAOuD,QAAQzF,EAAKwC,GAKrC,IAAiD,IAA9C5E,EAAM8H,QAAQF,EAAWrG,KAAM,YACjC,GAAIwG,GAAgBH,EAAWI,KAC9BC,EAAYF,EAAcrD,KAC1BwD,EAAgBH,EAAcpD,YAAYD,IAGzCJ,IAAUhD,MAMa,gBAAf+F,IACND,GAAiBc,GAAiBH,EAAcR,mBAAqBF,IACvEA,GAAe,GAGjBH,EAAMiB,UAAUF,EAAWC,EAAed,EAAeZ,EAAMa,EAAaC,IACpEJ,EAAMkB,OAAOH,GAGrBf,EAAMiB,UAAUF,EAAWC,EAAed,EAAeZ,EAAMa,EAAaC,IAIxEG,IACHA,EAAiBnG,KAAKsF,YAAYxB,EAAO+B,EAAOtD,QAASS,IAI1D4C,EAAMmB,QAAQZ,EAAeE,GAAMP,EAAeC,EAAaC,KAE9DhG,MAIHA,KAAKH,KAAKmH,YAAYnB,GAEvB7F,KAAKiH,eAGNA,YAAa,WAKZjH,KAAK+E,sBACL/E,KAAKK,YAAa,EAClBL,KAAKM,WAAY,QACVN,MAAK2E,YACZ3E,KAAKmF,aAAa,SAAU,IAC5BnF,KAAKmF,aAAa,SAAU,KAI7B+B,YAAa,WAKZlH,KAAKuB,UAAUC,WACfrC,EAAW6C,UAAUqD,WAAWrF,OAEjCmH,WAAY,WAKXnH,KAAK+E,qBACL,IAAIhD,GAAI5C,EAAW6C,SAChBhC,MAAKK,YACP0B,EAAEc,SAAQ,GAEXd,EAAEqF,UAAUpH,MAEZA,KAAKuB,UAAUC,YAGhB+B,mBAAoB,SAASP,EAAQqE,GAgBpC,IAAIrE,EAAOnD,MAAQmD,EAAOnD,MAAQG,KAAKH,KACtC,OAAO,CAWR,KAPA,GAAIyH,GAAOtE,EAAOnD,KAAK0E,QACnBgD,EAAMvE,EAAOE,UAEbpC,EAAOuG,EAAUG,WAIf1G,GAAQwG,IAASC,EAAIzG,EAAKwC,KAC/BxC,EAAOA,EAAK0G,UAGb,OAAO1G,GAAKwC,IAAMiE,EAAIzG,EAAKwC,KAG5ByB,oBAAqB,WAKhB/E,KAAKO,eAGTP,KAAK0C,iBAAiB1C,KAAKO,aAAagC,QAASvC,KAAKS,cACtDT,KAAKO,aAAe,KACpBP,KAAKQ,UAAY,KACjBR,KAAKS,aAAe,OAGrBgH,eAAgB,SAASvC,GAGxBlF,KAAKmF,aAAa,SAAUD,EAAO,SAAW,WAQhD,OAAO7F","file":"dndSource.js.uncompressed.js"}