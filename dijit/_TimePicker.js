//>>built
define("dijit/_TimePicker",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(t,e,i,o,s,n,a,d,r,l,h,c,u,p,_,f){return s("dijit._TimePicker",[_,f],{baseClass:"dijitTimePicker",pickerMin:"T00:00:00",pickerMax:"T23:59:59",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date,_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:o.toISOString,buildRendering:function(){this.inherited(arguments),this.containerNode=this.domNode,this.timeMenu=this.domNode},setValue:function(t){d.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),this.set("value",t)},_setValueAttr:function(t){this._set("value",t),this._showText()},_setFilterStringAttr:function(t){this._set("filterString",t),this._showText()},isDisabledDate:function(){return!1},_getFilteredNodes:function(t,e,i,o){for(var s=this.ownerDocument.createDocumentFragment(),n=0;n<this._maxIncrement;n++){var a=this._createOption(n);a&&s.appendChild(a)}return s},_showText:function(){var t=o.fromISOString;this.domNode.innerHTML="",this._clickableIncrementDate=t(this.clickableIncrement),this._visibleIncrementDate=t(this.visibleIncrement);var e=function(t){return 60*t.getHours()*60+60*t.getMinutes()+t.getSeconds()},i=e(this._clickableIncrementDate),s=e(this._visibleIncrementDate);(this.value||this.currentFocus).getTime();this._refDate=t(this.pickerMin),this._refDate.setFullYear(1970,0,1),this._clickableIncrement=1,this._visibleIncrement=s/i;var n=t(this.pickerMax);n.setFullYear(1970,0,1);var a=.001*(n.getTime()-this._refDate.getTime());this._maxIncrement=Math.ceil((a+1)/i);var d=this._getFilteredNodes();!d.firstChild&&this.filterString?(this.filterString="",this._showText()):this.domNode.appendChild(d)},constructor:function(){this.constraints={}},postMixInProperties:function(){this.inherited(arguments),this._setConstraintsAttr(this.constraints)},_setConstraintsAttr:function(t){for(var e in{clickableIncrement:1,visibleIncrement:1,pickerMin:1,pickerMax:1})e in t&&(this[e]=t[e]);t.locale||(t.locale=this.lang)},_createOption:function(t){var o=new Date(this._refDate),s=this._clickableIncrementDate;o.setHours(o.getHours()+s.getHours()*t,o.getMinutes()+s.getMinutes()*t,o.getSeconds()+s.getSeconds()*t),"time"==this.constraints.selector&&o.setFullYear(1970,0,1);var n=i.format(o,this.constraints);if(this.filterString&&0!==n.toLowerCase().indexOf(this.filterString))return null;var d=this.ownerDocument.createElement("div");d.className=this.baseClass+"Item",d.date=o,d.idx=t,a.create("div",{class:this.baseClass+"ItemInner",innerHTML:n},d);var r=t%this._visibleIncrement<1&&t%this._visibleIncrement>-1,l=!(r||t%this._clickableIncrement);return r?d.className+=" "+this.baseClass+"Marker":l&&(d.className+=" "+this.baseClass+"Tick"),this.isDisabledDate(o)&&(d.className+=" "+this.baseClass+"ItemDisabled"),this.value&&!e.compare(this.value,o,this.constraints.selector)&&(d.selected=!0,d.className+=" "+this.baseClass+"ItemSelected",this._selectedDiv=d,r?d.className+=" "+this.baseClass+"MarkerSelected":l&&(d.className+=" "+this.baseClass+"TickSelected"),this._highlightOption(d,!0)),d},onOpen:function(){this.inherited(arguments),this.set("selected",this._selectedDiv)},_onOptionSelected:function(t,e){var i=t.target.date||t.target.parentNode.date;i&&!this.isDisabledDate(i)&&(this._set("value",i),this.emit("input"),e&&(this._highlighted_option=null,this.set("value",i),this.onChange(i)))},onChange:function(){},_highlightOption:function(t,e){if(t){if(e)this._highlighted_option&&this._highlightOption(this._highlighted_option,!1),this._highlighted_option=t;else{if(this._highlighted_option!==t)return;this._highlighted_option=null}n.toggle(t,this.baseClass+"ItemHover",e),n.contains(t,this.baseClass+"Marker")?n.toggle(t,this.baseClass+"MarkerHover",e):n.toggle(t,this.baseClass+"TickHover",e)}},handleKey:function(t){return t.keyCode==r.DOWN_ARROW?(this.selectNextNode(),this._onOptionSelected({target:this._highlighted_option},!1),t.stopPropagation(),t.preventDefault(),!1):t.keyCode==r.UP_ARROW?(this.selectPreviousNode(),this._onOptionSelected({target:this._highlighted_option},!1),t.stopPropagation(),t.preventDefault(),!1):t.keyCode==r.ENTER||t.keyCode===r.TAB?!this._keyboardSelected&&t.keyCode===r.TAB||(this._highlighted_option&&this._onOptionSelected({target:this._highlighted_option},!0),t.keyCode===r.TAB):void 0},onHover:function(t){this._highlightOption(t,!0)},onUnhover:function(t){this._highlightOption(t,!1)},onSelect:function(t){this._highlightOption(t,!0)},onDeselect:function(t){this._highlightOption(t,!1)},onClick:function(t){this._onOptionSelected({target:t},!0)}})});//# sourceMappingURL=_TimePicker.js.map