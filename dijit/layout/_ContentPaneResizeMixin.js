//>>built
define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","../registry","../Viewport","./utils"],function(t,e,i,n,o,a,s,r,d,l){return e("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var t=this.getParent();this._childOfLayoutWidget=t&&t.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(d.on("resize",a.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var t=[],e=!1;s("> *",this.containerNode).some(function(i){var n=r.byNode(i);n&&n.resize?t.push(n):!/script|link|style/i.test(i.nodeName)&&i.offsetHeight&&(e=!0)}),this._singleChild=1!=t.length||e?null:t[0],i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(t,e){this._resizeCalled=!0,this._scheduleLayout(t,e)},_scheduleLayout:function(t,e){this._isShown()?this._layout(t,e):(this._needLayout=!0,this._changeSize=t,this._resultSize=e)},_layout:function(t,e){delete this._needLayout,this._wasShown||!1===this.open||this._onShow(),t&&n.setMarginBox(this.domNode,t);var i=this.containerNode;if(i===this.domNode){var o=e||{};a.mixin(o,t||{}),"h"in o&&"w"in o||(o=a.mixin(n.getMarginBox(i),o)),this._contentBox=l.marginBox2contentBox(i,o)}else this._contentBox=n.getContentBox(i);this._layoutChildren()},_layoutChildren:function(){if(this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){var t=this._contentBox||n.getContentBox(this.containerNode);this._singleChild.resize({w:t.w,h:t.h})}else for(var e,i=this.getChildren(),o=0;e=i[o++];)e.resize&&e.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var t=this.domNode,e=this.domNode.parentNode;return"none"!=t.style.display&&"hidden"!=t.style.visibility&&!i.contains(t,"dijitHidden")&&e&&e.style&&"none"!=e.style.display},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),this.inherited(arguments)}})});//# sourceMappingURL=_ContentPaneResizeMixin.js.map