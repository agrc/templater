//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,o,n,s,r){function d(o,r,d,a){var h=s.getEffectiveBox(o.ownerDocument);o.parentNode&&"body"==String(o.parentNode.tagName).toLowerCase()||n.body(o.ownerDocument).appendChild(o);var l=null;e.some(r,function(e){var i=e.corner,n=e.pos,s=0,r={w:{L:h.l+h.w-n.x,R:n.x-h.l,M:h.w}[i.charAt(1)],h:{T:h.t+h.h-n.y,B:n.y-h.t,M:h.h}[i.charAt(0)]},c=o.style;if(c.left=c.right="auto",d){var u=d(o,e.aroundCorner,i,r,a);s="undefined"==typeof u?0:u}var p=o.style,f=p.display,m=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");var _=t.position(o);p.display=f,p.visibility=m;var g={L:n.x,R:n.x-_.w,M:Math.max(h.l,Math.min(h.l+h.w,n.x+(_.w>>1))-_.w)}[i.charAt(1)],N={T:n.y,B:n.y-_.h,M:Math.max(h.t,Math.min(h.t+h.h,n.y+(_.h>>1))-_.h)}[i.charAt(0)],v=Math.max(h.l,g),b=Math.max(h.t,N),C=Math.min(h.l+h.w,g+_.w),x=Math.min(h.t+h.h,N+_.h),y=C-v,j=x-b;return s+=_.w-y+(_.h-j),(null==l||s<l.overflow)&&(l={corner:i,aroundCorner:e.aroundCorner,x:v,y:b,w:y,h:j,overflow:s,spaceAvailable:r}),!s}),l.overflow&&d&&d(o,l.aroundCorner,l.corner,l.spaceAvailable,a);var c=l.y,u=l.x,p=n.body(o.ownerDocument);/relative|absolute/.test(i.get(p,"position"))&&(c-=i.get(p,"marginTop"),u-=i.get(p,"marginLeft"));var f=o.style;return f.top=c+"px",f.left=u+"px",f.right="auto",l}var a={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},h={at:function(t,i,o,n,s){var r=e.map(o,function(e){var t={corner:e,aroundCorner:a[e],pos:{x:i.x,y:i.y}};return n&&(t.pos.x+="L"==e.charAt(1)?n.x:-n.x,t.pos.y+="T"==e.charAt(0)?n.y:-n.y),t});return d(t,r,s)},around:function(n,s,r,a,h){function l(e,t){w.push({aroundCorner:e,corner:t,pos:{x:{L:x,R:x+j,M:x+(j>>1)}[e.charAt(1)],y:{T:y,B:y+T,M:y+(T>>1)}[e.charAt(0)]}})}var c;if("string"==typeof s||"offsetWidth"in s||"ownerSVGElement"in s){if(c=t.position(s,!0),/^(above|below)/.test(r[0])){var u=t.getBorderExtents(s),p=s.firstChild?t.getBorderExtents(s.firstChild):{t:0,l:0,b:0,r:0},f=t.getBorderExtents(n),m=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0};c.y+=Math.min(u.t+p.t,f.t+m.t),c.h-=Math.min(u.t+p.t,f.t+m.t)+Math.min(u.b+p.b,f.b+m.b)}}else c=s;if(s.parentNode)for(var _="absolute"==i.getComputedStyle(s).position,g=s.parentNode;g&&1==g.nodeType&&"BODY"!=g.nodeName;){var N=t.position(g,!0),v=i.getComputedStyle(g);if(/relative|absolute/.test(v.position)&&(_=!1),!_&&/hidden|auto|scroll/.test(v.overflow)){var b=Math.min(c.y+c.h,N.y+N.h),C=Math.min(c.x+c.w,N.x+N.w);c.x=Math.max(c.x,N.x),c.y=Math.max(c.y,N.y),c.h=b-c.y,c.w=C-c.x}"absolute"==v.position&&(_=!0),g=g.parentNode}var x=c.x,y=c.y,j="w"in c?c.w:c.w=c.width,T="h"in c?c.h:(o.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+c.height+", width:"+j+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+c.height+", w:"+j+" }","","2.0"),c.h=c.height),w=[];e.forEach(r,function(e){var t=a;switch(e){case"above-centered":l("TM","BM");break;case"below-centered":l("BM","TM");break;case"after-centered":t=!t;case"before-centered":l(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":l(t?"TL":"TR",t?"TR":"TL"),l(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":l(t?"BL":"BR",t?"TL":"TR"),l(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":l(t?"TL":"TR",t?"BL":"BR"),l(t?"TR":"TL",t?"BR":"BL");break;default:l(e.aroundCorner,e.corner)}});var I=d(n,w,h,{w:j,h:T});return I.aroundNodePos=c,I}};return r.place=h});//# sourceMappingURL=place.js.map