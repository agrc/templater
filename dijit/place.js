//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(t,e,i,n,a,o,s){function d(n,s,d,r){var l=o.getEffectiveBox(n.ownerDocument);n.parentNode&&"body"==String(n.parentNode.tagName).toLowerCase()||a.body(n.ownerDocument).appendChild(n);var h=null;t.some(s,function(t){var i=t.corner,a=t.pos,o=0,s={w:{L:l.l+l.w-a.x,R:a.x-l.l,M:l.w}[i.charAt(1)],h:{T:l.t+l.h-a.y,B:a.y-l.t,M:l.h}[i.charAt(0)]},u=n.style;if(u.left=u.right="auto",d){var c=d(n,t.aroundCorner,i,s,r);o="undefined"==typeof c?0:c}var p=n.style,g=p.display,m=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");var f=e.position(n);p.display=g,p.visibility=m;var v={L:a.x,R:a.x-f.w,M:Math.max(l.l,Math.min(l.l+l.w,a.x+(f.w>>1))-f.w)}[i.charAt(1)],b={T:a.y,B:a.y-f.h,M:Math.max(l.t,Math.min(l.t+l.h,a.y+(f.h>>1))-f.h)}[i.charAt(0)],y=Math.max(l.l,v),x=Math.max(l.t,b),j=Math.min(l.l+l.w,v+f.w),_=Math.min(l.t+l.h,b+f.h),B=j-y,w=_-x;return o+=f.w-B+(f.h-w),(null==h||o<h.overflow)&&(h={corner:i,aroundCorner:t.aroundCorner,x:y,y:x,w:B,h:w,overflow:o,spaceAvailable:s}),!o}),h.overflow&&d&&d(n,h.aroundCorner,h.corner,h.spaceAvailable,r);var u=h.y,c=h.x,p=a.body(n.ownerDocument);/relative|absolute/.test(i.get(p,"position"))&&(u-=i.get(p,"marginTop"),c-=i.get(p,"marginLeft"));var g=n.style;return g.top=u+"px",g.left=c+"px",g.right="auto",h}var r={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},l={at:function(e,i,n,a,o){var s=t.map(n,function(t){var e={corner:t,aroundCorner:r[t],pos:{x:i.x,y:i.y}};return a&&(e.pos.x+="L"==t.charAt(1)?a.x:-a.x,e.pos.y+="T"==t.charAt(0)?a.y:-a.y),e});return d(e,s,o)},around:function(a,o,s,r,l){function h(t,e){C.push({aroundCorner:t,corner:e,pos:{x:{L:_,R:_+w,M:_+(w>>1)}[t.charAt(1)],y:{T:B,B:B+N,M:B+(N>>1)}[t.charAt(0)]}})}var u;if("string"==typeof o||"offsetWidth"in o||"ownerSVGElement"in o){if(u=e.position(o,!0),/^(above|below)/.test(s[0])){var c=e.getBorderExtents(o),p=o.firstChild?e.getBorderExtents(o.firstChild):{t:0,l:0,b:0,r:0},g=e.getBorderExtents(a),m=a.firstChild?e.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(c.t+p.t,g.t+m.t),u.h-=Math.min(c.t+p.t,g.t+m.t)+Math.min(c.b+p.b,g.b+m.b)}}else u=o;if(o.parentNode)for(var f="absolute"==i.getComputedStyle(o).position,v=o.parentNode;v&&1==v.nodeType&&"BODY"!=v.nodeName;){var b=e.position(v,!0),y=i.getComputedStyle(v);if(/relative|absolute/.test(y.position)&&(f=!1),!f&&/hidden|auto|scroll/.test(y.overflow)){var x=Math.min(u.y+u.h,b.y+b.h),j=Math.min(u.x+u.w,b.x+b.w);u.x=Math.max(u.x,b.x),u.y=Math.max(u.y,b.y),u.h=x-u.y,u.w=j-u.x}"absolute"==y.position&&(f=!0),v=v.parentNode}var _=u.x,B=u.y,w="w"in u?u.w:u.w=u.width,N="h"in u?u.h:(n.deprecated("place.around: dijit/place.__Rectangle: { x:"+_+", y:"+B+", height:"+u.height+", width:"+w+" } has been deprecated.  Please use { x:"+_+", y:"+B+", h:"+u.height+", w:"+w+" }","","2.0"),u.h=u.height),C=[];t.forEach(s,function(t){var e=r;switch(t){case"above-centered":h("TM","BM");break;case"below-centered":h("BM","TM");break;case"after-centered":e=!e;case"before-centered":h(e?"ML":"MR",e?"MR":"ML");break;case"after":e=!e;case"before":h(e?"TL":"TR",e?"TR":"TL"),h(e?"BL":"BR",e?"BR":"BL");break;case"below-alt":e=!e;case"below":h(e?"BL":"BR",e?"TL":"TR"),h(e?"BR":"BL",e?"TR":"TL");break;case"above-alt":e=!e;case"above":h(e?"TL":"TR",e?"BL":"BR"),h(e?"TR":"TL",e?"BR":"BL");break;default:h(t.aroundCorner,t.corner)}});var T=d(a,C,l,{w:w,h:N});return T.aroundNodePos=u,T}};return s.place=l});//# sourceMappingURL=place.js.map