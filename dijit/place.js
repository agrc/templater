//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,s,o,n,a){function r(s,a,r,c){var d=n.getEffectiveBox(s.ownerDocument);s.parentNode&&"body"==String(s.parentNode.tagName).toLowerCase()||o.body(s.ownerDocument).appendChild(s);var h=null;e.some(a,function(e){var i=e.corner,o=e.pos,n=0,a={w:{L:d.l+d.w-o.x,R:o.x-d.l,M:d.w}[i.charAt(1)],h:{T:d.t+d.h-o.y,B:o.y-d.t,M:d.h}[i.charAt(0)]},u=s.style;if(u.left=u.right="auto",r){var l=r(s,e.aroundCorner,i,a,c);n=void 0===l?0:l}var f=s.style,p=f.display,_=f.visibility;"none"==f.display&&(f.visibility="hidden",f.display="");var v=t.position(s);f.display=p,f.visibility=_;var b={L:o.x,R:o.x-v.w,M:Math.max(d.l,Math.min(d.l+d.w,o.x+(v.w>>1))-v.w)}[i.charAt(1)],g={T:o.y,B:o.y-v.h,M:Math.max(d.t,Math.min(d.t+d.h,o.y+(v.h>>1))-v.h)}[i.charAt(0)],y=Math.max(d.l,b),m=Math.max(d.t,g),C=Math.min(d.l+d.w,b+v.w),w=Math.min(d.t+d.h,g+v.h),j=C-y,M=w-m;return n+=v.w-j+(v.h-M),(null==h||n<h.overflow)&&(h={corner:i,aroundCorner:e.aroundCorner,x:y,y:m,w:j,h:M,overflow:n,spaceAvailable:a}),!n}),h.overflow&&r&&r(s,h.aroundCorner,h.corner,h.spaceAvailable,c);var u=h.y,l=h.x,f=o.body(s.ownerDocument);/relative|absolute/.test(i.get(f,"position"))&&(u-=i.get(f,"marginTop"),l-=i.get(f,"marginLeft"));var p=s.style;return p.top=u+"px",p.left=l+"px",p.right="auto",h}var c={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},d={at:function(t,i,s,o,n){return r(t,e.map(s,function(e){var t={corner:e,aroundCorner:c[e],pos:{x:i.x,y:i.y}};return o&&(t.pos.x+="L"==e.charAt(1)?o.x:-o.x,t.pos.y+="T"==e.charAt(0)?o.y:-o.y),t}),n)},around:function(o,n,a,c,d){function h(e,t){T.push({aroundCorner:e,corner:t,pos:{x:{L:w,R:w+M,M:w+(M>>1)}[e.charAt(1)],y:{T:j,B:j+x,M:j+(x>>1)}[e.charAt(0)]}})}var u;if("string"==typeof n||"offsetWidth"in n||"ownerSVGElement"in n){if(u=t.position(n,!0),/^(above|below)/.test(a[0])){var l=t.getBorderExtents(n),f=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0},p=t.getBorderExtents(o),_=o.firstChild?t.getBorderExtents(o.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(l.t+f.t,p.t+_.t),u.h-=Math.min(l.t+f.t,p.t+_.t)+Math.min(l.b+f.b,p.b+_.b)}}else u=n;if(n.parentNode)for(var v="absolute"==i.getComputedStyle(n).position,b=n.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){var g=t.position(b,!0),y=i.getComputedStyle(b);if(/relative|absolute/.test(y.position)&&(v=!1),!v&&/hidden|auto|scroll/.test(y.overflow)){var m=Math.min(u.y+u.h,g.y+g.h),C=Math.min(u.x+u.w,g.x+g.w);u.x=Math.max(u.x,g.x),u.y=Math.max(u.y,g.y),u.h=m-u.y,u.w=C-u.x}"absolute"==y.position&&(v=!0),b=b.parentNode}var w=u.x,j=u.y,M="w"in u?u.w:u.w=u.width,x="h"in u?u.h:(s.deprecated("place.around: dijit/place.__Rectangle: { x:"+w+", y:"+j+", height:"+u.height+", width:"+M+" } has been deprecated.  Please use { x:"+w+", y:"+j+", h:"+u.height+", w:"+M+" }","","2.0"),u.h=u.height),T=[];e.forEach(a,function(e){var t=c;switch(e){case"above-centered":h("TM","BM");break;case"below-centered":h("BM","TM");break;case"after-centered":t=!t;case"before-centered":h(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":h(t?"TL":"TR",t?"TR":"TL"),h(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":h(t?"BL":"BR",t?"TL":"TR"),h(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":h(t?"TL":"TR",t?"BL":"BR"),h(t?"TR":"TL",t?"BR":"BL");break;default:h(e.aroundCorner,e.corner)}});var k=r(o,T,d,{w:M,h:x});return k.aroundNodePos=u,k}};return a.place=d});//# sourceMappingURL=place.js.map