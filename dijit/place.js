//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(t,e,i,n,o,a,s){function d(n,s,d,r){var h=a.getEffectiveBox(n.ownerDocument);n.parentNode&&"body"==String(n.parentNode.tagName).toLowerCase()||o.body(n.ownerDocument).appendChild(n);var l=null;t.some(s,function(t){var i=t.corner,o=t.pos,a=0,s={w:{L:h.l+h.w-o.x,R:o.x-h.l,M:h.w}[i.charAt(1)],h:{T:h.t+h.h-o.y,B:o.y-h.t,M:h.h}[i.charAt(0)]},u=n.style;if(u.left=u.right="auto",d){var c=d(n,t.aroundCorner,i,s,r);a="undefined"==typeof c?0:c}var p=n.style,g=p.display,f=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");var m=e.position(n);p.display=g,p.visibility=f;var b={L:o.x,R:o.x-m.w,M:Math.max(h.l,Math.min(h.l+h.w,o.x+(m.w>>1))-m.w)}[i.charAt(1)],v={T:o.y,B:o.y-m.h,M:Math.max(h.t,Math.min(h.t+h.h,o.y+(m.h>>1))-m.h)}[i.charAt(0)],y=Math.max(h.l,b),x=Math.max(h.t,v),j=Math.min(h.l+h.w,b+m.w),_=Math.min(h.t+h.h,v+m.h),B=j-y,w=_-x;return a+=m.w-B+(m.h-w),(null==l||a<l.overflow)&&(l={corner:i,aroundCorner:t.aroundCorner,x:y,y:x,w:B,h:w,overflow:a,spaceAvailable:s}),!a}),l.overflow&&d&&d(n,l.aroundCorner,l.corner,l.spaceAvailable,r);var u=l.y,c=l.x,p=o.body(n.ownerDocument);/relative|absolute/.test(i.get(p,"position"))&&(u-=i.get(p,"marginTop"),c-=i.get(p,"marginLeft"));var g=n.style;return g.top=u+"px",g.left=c+"px",g.right="auto",l}var r={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},h={at:function(e,i,n,o,a){var s=t.map(n,function(t){var e={corner:t,aroundCorner:r[t],pos:{x:i.x,y:i.y}};return o&&(e.pos.x+="L"==t.charAt(1)?o.x:-o.x,e.pos.y+="T"==t.charAt(0)?o.y:-o.y),e});return d(e,s,a)},around:function(o,a,s,r,h){function l(t,e){C.push({aroundCorner:t,corner:e,pos:{x:{L:_,R:_+w,M:_+(w>>1)}[t.charAt(1)],y:{T:B,B:B+N,M:B+(N>>1)}[t.charAt(0)]}})}var u;if("string"==typeof a||"offsetWidth"in a||"ownerSVGElement"in a){if(u=e.position(a,!0),/^(above|below)/.test(s[0])){var c=e.getBorderExtents(a),p=a.firstChild?e.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0},g=e.getBorderExtents(o),f=o.firstChild?e.getBorderExtents(o.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(c.t+p.t,g.t+f.t),u.h-=Math.min(c.t+p.t,g.t+f.t)+Math.min(c.b+p.b,g.b+f.b)}}else u=a;if(a.parentNode)for(var m="absolute"==i.getComputedStyle(a).position,b=a.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){var v=e.position(b,!0),y=i.getComputedStyle(b);if(/relative|absolute/.test(y.position)&&(m=!1),!m&&/hidden|auto|scroll/.test(y.overflow)){var x=Math.min(u.y+u.h,v.y+v.h),j=Math.min(u.x+u.w,v.x+v.w);u.x=Math.max(u.x,v.x),u.y=Math.max(u.y,v.y),u.h=x-u.y,u.w=j-u.x}"absolute"==y.position&&(m=!0),b=b.parentNode}var _=u.x,B=u.y,w="w"in u?u.w:u.w=u.width,N="h"in u?u.h:(n.deprecated("place.around: dijit/place.__Rectangle: { x:"+_+", y:"+B+", height:"+u.height+", width:"+w+" } has been deprecated.  Please use { x:"+_+", y:"+B+", h:"+u.height+", w:"+w+" }","","2.0"),u.h=u.height),C=[];t.forEach(s,function(t){var e=r;switch(t){case"above-centered":l("TM","BM");break;case"below-centered":l("BM","TM");break;case"after-centered":e=!e;case"before-centered":l(e?"ML":"MR",e?"MR":"ML");break;case"after":e=!e;case"before":l(e?"TL":"TR",e?"TR":"TL"),l(e?"BL":"BR",e?"BR":"BL");break;case"below-alt":e=!e;case"below":l(e?"BL":"BR",e?"TL":"TR"),l(e?"BR":"BL",e?"TR":"TL");break;case"above-alt":e=!e;case"above":l(e?"TL":"TR",e?"BL":"BR"),l(e?"TR":"TL",e?"BR":"BL");break;default:l(t.aroundCorner,t.corner)}});var M=d(o,C,h,{w:w,h:N});return M.aroundNodePos=u,M}};return s.place=h});//# sourceMappingURL=place.js.map