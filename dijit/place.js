//>>built
define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,o,n,s,r){function d(o,r,d,a){var l=s.getEffectiveBox(o.ownerDocument);o.parentNode&&"body"==String(o.parentNode.tagName).toLowerCase()||n.body(o.ownerDocument).appendChild(o);var h=null;e.some(r,function(e){var i=e.corner,n=e.pos,s=0,r={w:{L:l.l+l.w-n.x,R:n.x-l.l,M:l.w}[i.charAt(1)],h:{T:l.t+l.h-n.y,B:n.y-l.t,M:l.h}[i.charAt(0)]},c=o.style;if(c.left=c.right="auto",d){var p=d(o,e.aroundCorner,i,r,a);s="undefined"==typeof p?0:p}var u=o.style,f=u.display,m=u.visibility;"none"==u.display&&(u.visibility="hidden",u.display="");var _=t.position(o);u.display=f,u.visibility=m;var g={L:n.x,R:n.x-_.w,M:Math.max(l.l,Math.min(l.l+l.w,n.x+(_.w>>1))-_.w)}[i.charAt(1)],v={T:n.y,B:n.y-_.h,M:Math.max(l.t,Math.min(l.t+l.h,n.y+(_.h>>1))-_.h)}[i.charAt(0)],N=Math.max(l.l,g),b=Math.max(l.t,v),C=Math.min(l.l+l.w,g+_.w),x=Math.min(l.t+l.h,v+_.h),y=C-N,j=x-b;return s+=_.w-y+(_.h-j),(null==h||s<h.overflow)&&(h={corner:i,aroundCorner:e.aroundCorner,x:N,y:b,w:y,h:j,overflow:s,spaceAvailable:r}),!s}),h.overflow&&d&&d(o,h.aroundCorner,h.corner,h.spaceAvailable,a);var c=h.y,p=h.x,u=n.body(o.ownerDocument);/relative|absolute/.test(i.get(u,"position"))&&(c-=i.get(u,"marginTop"),p-=i.get(u,"marginLeft"));var f=o.style;return f.top=c+"px",f.left=p+"px",f.right="auto",h}var a={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},l={at:function(t,i,o,n,s){var r=e.map(o,function(e){var t={corner:e,aroundCorner:a[e],pos:{x:i.x,y:i.y}};return n&&(t.pos.x+="L"==e.charAt(1)?n.x:-n.x,t.pos.y+="T"==e.charAt(0)?n.y:-n.y),t});return d(t,r,s)},around:function(n,s,r,a,l){function h(e,t){w.push({aroundCorner:e,corner:t,pos:{x:{L:x,R:x+j,M:x+(j>>1)}[e.charAt(1)],y:{T:y,B:y+T,M:y+(T>>1)}[e.charAt(0)]}})}var c;if("string"==typeof s||"offsetWidth"in s||"ownerSVGElement"in s){if(c=t.position(s,!0),/^(above|below)/.test(r[0])){var p=t.getBorderExtents(s),u=s.firstChild?t.getBorderExtents(s.firstChild):{t:0,l:0,b:0,r:0},f=t.getBorderExtents(n),m=n.firstChild?t.getBorderExtents(n.firstChild):{t:0,l:0,b:0,r:0};c.y+=Math.min(p.t+u.t,f.t+m.t),c.h-=Math.min(p.t+u.t,f.t+m.t)+Math.min(p.b+u.b,f.b+m.b)}}else c=s;if(s.parentNode)for(var _="absolute"==i.getComputedStyle(s).position,g=s.parentNode;g&&1==g.nodeType&&"BODY"!=g.nodeName;){var v=t.position(g,!0),N=i.getComputedStyle(g);if(/relative|absolute/.test(N.position)&&(_=!1),!_&&/hidden|auto|scroll/.test(N.overflow)){var b=Math.min(c.y+c.h,v.y+v.h),C=Math.min(c.x+c.w,v.x+v.w);c.x=Math.max(c.x,v.x),c.y=Math.max(c.y,v.y),c.h=b-c.y,c.w=C-c.x}"absolute"==N.position&&(_=!0),g=g.parentNode}var x=c.x,y=c.y,j="w"in c?c.w:c.w=c.width,T="h"in c?c.h:(o.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+c.height+", width:"+j+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+c.height+", w:"+j+" }","","2.0"),c.h=c.height),w=[];e.forEach(r,function(e){var t=a;switch(e){case"above-centered":h("TM","BM");break;case"below-centered":h("BM","TM");break;case"after-centered":t=!t;case"before-centered":h(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":h(t?"TL":"TR",t?"TR":"TL"),h(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":h(t?"BL":"BR",t?"TL":"TR"),h(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":h(t?"TL":"TR",t?"BL":"BR"),h(t?"TR":"TL",t?"BR":"BL");break;default:h(e.aroundCorner,e.corner)}});var I=d(n,w,l,{w:j,h:T});return I.aroundNodePos=c,I}};return r.place=l});//# sourceMappingURL=place.js.map